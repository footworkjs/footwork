define(["knockout-footwork","lodash"],function(e,t){return e.model({namespace:"ConfigManagement",factory:function(){var t=e.namespace("Configuration");return this.config={transitionsEnabled:e.observable().receiveFrom("Configuration","transitionsEnabled"),helpDialog:e.observable({}).receiveFrom("Configuration","helpDialog"),noticeDialog:e.observable({}).receiveFrom("Configuration","noticeDialog"),autoHideHeader:e.observable(!1).receiveFrom("Configuration","autoHideHeader"),savePulse:e.observable().receiveFrom("Configuration","savePulse"),paneCollapsed:e.observable().receiveFrom("Configuration","paneCollapsed"),saveSession:e.observable().receiveFrom("Configuration","saveSession"),visible:e.observable().receiveFrom("Configuration","visible")},this.headerControlMutable=e.observable().receiveFrom("LayoutControl","headerMutable"),this.visibleHeaderHeight=e.observable(60).receiveFrom("Header","visibleHeight"),this.headerFixed=e.observable(60).receiveFrom("Header","fixed"),this.headerClosed=e.observable(60).receiveFrom("Header","closed"),this.pastHeaderClosePoint=e.observable(!1).receiveFrom("Header","pastClosePoint"),this.headerMoving=e.observable(!1).receiveFrom("Header","moving"),this.headerTopOffset=e.observable().receiveFrom("Header","topOffset"),this.headerClosedTransform=e.observable().receiveFrom("Header","closedTransform"),this.navReflowing=e.observable(!1).receiveFrom("Navigation","reflowing"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.viewScrolling=e.observable(!1).receiveFrom("ViewPort","scrolling"),this.pulse=this.config.savePulse,this.helpVisible=this.config.helpDialog,this.noTransition=e.computed(function(){return(this.viewScrolling()||this.navReflowing())&&this.headerMoving()===!1},this),this.containerTop=e.computed(function(){return parseInt(this.visibleHeaderHeight(),10)+parseInt(this.headerTopOffset(),10)+"px"},this),this.containerMarginLeft=e.computed(function(){return parseInt(this.columnWidth(),10)+5+"px"},this),this.autoHideHeaderState=e.computed(function(){return this.config.autoHideHeader()?"checked":"unchecked"},this),this.paneState=e.computed(function(){return this.config.paneCollapsed()?"checked":"unchecked"},this),this.transitionState=e.computed(function(){return this.config.transitionsEnabled()?"checked":"unchecked"},this),this.saveSessionState=e.computed(function(){return this.config.saveSession()===!0?"partial":"unchecked"},this),this.togglePane=function(){this.config.paneCollapsed(!this.config.paneCollapsed())},this.toggleTransitions=function(){this.config.transitionsEnabled(!this.config.transitionsEnabled())},this.toggleConfiguration=function(){this.config.visible(!this.config.visible())}.bind(this),this.toggleSaveSession=function(){this.config.saveSession(!this.config.saveSession())}.bind(this),this.toggleAutoHideHeader=function(){this.config.autoHideHeader()===!0?this.headerClosed(!1):this.pastHeaderClosePoint()&&this.headerClosed(!0),this.config.autoHideHeader(!this.config.autoHideHeader())},this.reset=function(){t.publish("reset")}.bind(this),this}})});