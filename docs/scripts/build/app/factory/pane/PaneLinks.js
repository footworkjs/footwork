define(["knockout-footwork","lodash"],function(e,t){return e.model({namespace:"PaneLinks",factory:function(){var t=e.namespace("PaneElements");this.config={linksMinWidth:e.observable().receiveFrom("Configuration","linksMinWidth"),linksMaxWidth:e.observable().receiveFrom("Configuration","linksMaxWidth"),paneAccentPadding:e.observable().receiveFrom("Configuration","paneAccentPadding")},this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.logoWidth=e.observable(161).receiveFrom("ViewPort","logoWidth"),this.pageHasSections=e.observable().receiveFrom("PageSections","hasSections"),this.height=e.observable().receiveFrom("Header","contentHeight"),this.narrowPane=e.observable().receiveFrom("Pane","narrow"),this.columnWidth=e.observable().receiveFrom("Pane","columnWidth"),this.defaultSelection=e.computed(function(){return this.viewPortLayoutMode()==="mobile"?"MainMenu":"PageSections"},this).broadcastAs("defaultSelection"),this.currentSelection=e.observable().broadcastAs("currentSelection",!0),this.width=e.computed(function(){var e=parseInt(this.columnWidth(),10)-this.config.paneAccentPadding(),t=this.config.linksMinWidth(),n=this.config.linksMaxWidth();return e=e>=t?e:t,e=e<=n?e:n,e+"px"},this),this.headerWidth=e.computed(function(){var e=this.config.linksMaxWidth(),t=this.config.paneAccentPadding(),n=parseInt(this.columnWidth(),10)-this.logoWidth()-t*2;return n=n<e?n:e,n+"px"},this),this.chooseSection=function(e,n){this.currentSelection(n.target.getAttribute("data-section")||this.defaultSelection()),t.publish("hideAll")}.bind(this)}})});