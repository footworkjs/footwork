define(["jquery","lodash","knockout","postal"],function(e,t,n,r){n.extenders.throttle=function(e,t){typeof t=="number"&&(t={timeout:t,when:function(){return!0}}),e.throttleEvaluation=t.timeout;var r=null,i=n.dependentObservable({read:e,write:function(n){t.when(n)?(clearTimeout(r),r=setTimeout(function(){e(n)},t.timeout)):(clearTimeout(r),e(n))}});return i.force=function(t){clearTimeout(r),e(t)},i},n.extenders.read=function(e,t){return n.computed({write:e,read:function(){return t(e)}})},n.extenders.write=function(e,t){return n.computed({read:e,write:function(n){t(e,n)}})},n.extenders.autoDisable=function(e,t){return e.extend({delayTrigger:{delay:t||0,trigger:function(e){e(!1)}}})},n.extenders.autoEnable=function(e,t){return e.extend({delayTrigger:{delay:t||0,trigger:function(e){e(!0)}}})},n.extenders.delayTrigger=function(e,t){var r=300,i=function(){},s;typeof t=="object"?(r=!isNaN(t.delay)&&parseInt(t.delay,10)||r,i=t.trigger||i):r=!isNaN(t)&&parseInt(t,10)||r;var o=function(){clearTimeout(s),s=undefined},u=n.computed({read:e,write:function(n){e(n),s!==undefined&&o(),s=setTimeout(function(){i(e,t)}.bind(e),u.triggerDelay)}});return u.clearTrigger=o,u.triggerDelay=r,u},n.extenders.delayWrite=function(e,t){var r,i=300;return typeof t=="object"?(i=!isNaN(t.delay)&&parseInt(t.delay,10)||i,r=t.filter||function(){return!0}):i=!isNaN(t)&&parseInt(t,10)||i,n.computed({read:e,write:function(t){r(t)?(e._delayWriteTimer&&clearTimeout(this._delayWriteTimer),e._delayWriteTimer=setTimeout(function(){e(t)},i)):e(t)}})},n.extenders.units=function(e,r){var i={cast:"none",postfix:""},s;return typeof r!="object"?s=t.extend(i,{postfix:r.toString()}):s=t.extend(i,r),observable=n.computed({read:function(){var t;switch(s.cast){case"integer":case"int":t=parseInt(e());break;default:t=e()}return t+s.postfix},write:e}),observable}});