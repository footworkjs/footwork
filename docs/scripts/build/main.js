!function(){var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,n){if(e){var t;for(t=0;t<e.length&&(!e[t]||!n(e[t],t,e));t+=1);}}function eachReverse(e,n){if(e){var t;for(t=e.length-1;t>-1&&(!e[t]||!n(e[t],t,e));t-=1);}}function hasProp(e,n){return hasOwn.call(e,n)}function getOwn(e,n){return hasProp(e,n)&&e[n]}function eachProp(e,n){var t;for(t in e)if(hasProp(e,t)&&n(e[t],t))break}function mixin(e,n,t,s){return n&&eachProp(n,function(n,a){(t||!hasProp(e,a))&&(!s||"object"!=typeof n||!n||isArray(n)||isFunction(n)||n instanceof RegExp?e[a]=n:(e[a]||(e[a]={}),mixin(e[a],n,t,s)))}),e}function bind(e,n){return function(){return n.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var n=global;return each(e.split("."),function(e){n=n[e]}),n}function makeError(e,n,t,s){var a=new Error(n+"\nhttp://requirejs.org/docs/errors.html#"+e);return a.requireType=e,a.requireModules=s,t&&(a.originalError=t),a}function newContext(e){function n(e){var n,t;for(n=0;n<e.length;n++)if(t=e[n],"."===t)e.splice(n,1),n-=1;else if(".."===t){if(0===n||1==n&&".."===e[2]||".."===e[n-1])continue;n>0&&(e.splice(n-1,2),n-=2)}}function t(e,t,s){var a,r,i,o,l,c,p,u,d,h,f,m,v=t&&t.split("/"),g=x.map,b=g&&g["*"];if(e&&(e=e.split("/"),p=e.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(e[p])&&(e[p]=e[p].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&v&&(m=v.slice(0,v.length-1),e=m.concat(e)),n(e),e=e.join("/")),s&&g&&(v||b)){i=e.split("/");e:for(o=i.length;o>0;o-=1){if(c=i.slice(0,o).join("/"),v)for(l=v.length;l>0;l-=1)if(r=getOwn(g,v.slice(0,l).join("/")),r&&(r=getOwn(r,c))){u=r,d=o;break e}!h&&b&&getOwn(b,c)&&(h=getOwn(b,c),f=o)}!u&&h&&(u=h,d=f),u&&(i.splice(0,d,u),e=i.join("/"))}return a=getOwn(x.pkgs,e),a?a:e}function s(e){isBrowser&&each(scripts(),function(n){return n.getAttribute("data-requiremodule")===e&&n.getAttribute("data-requirecontext")===w.contextName?(n.parentNode.removeChild(n),!0):void 0})}function a(e){var n=getOwn(x.paths,e);return n&&isArray(n)&&n.length>1?(n.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function r(e){var n,t=e?e.indexOf("!"):-1;return t>-1&&(n=e.substring(0,t),e=e.substring(t+1,e.length)),[n,e]}function i(e,n,s,a){var i,o,l,c,p=null,u=n?n.name:null,d=e,h=!0,f="";return e||(h=!1,e="_@r"+(E+=1)),c=r(e),p=c[0],e=c[1],p&&(p=t(p,u,a),o=getOwn(T,p)),e&&(p?f=o&&o.normalize?o.normalize(e,function(e){return t(e,u,a)}):-1===e.indexOf("!")?t(e,u,a):e:(f=t(e,u,a),c=r(f),p=c[0],f=c[1],s=!0,i=w.nameToUrl(f))),l=!p||o||s?"":"_unnormalized"+(R+=1),{prefix:p,name:f,parentMap:n,unnormalized:!!l,url:i,originalName:d,isDefine:h,id:(p?p+"!"+f:f)+l}}function o(e){var n=e.id,t=getOwn(M,n);return t||(t=M[n]=new w.Module(e)),t}function l(e,n,t){var s=e.id,a=getOwn(M,s);!hasProp(T,s)||a&&!a.defineEmitComplete?(a=o(e),a.error&&"error"===n?t(a.error):a.on(n,t)):"defined"===n&&t(T[s])}function c(e,n){var t=e.requireModules,s=!1;n?n(e):(each(t,function(n){var t=getOwn(M,n);t&&(t.error=e,t.events.error&&(s=!0,t.emit("error",e)))}),s||req.onError(e))}function p(){globalDefQueue.length&&(apsp.apply(N,[N.length,0].concat(globalDefQueue)),globalDefQueue=[])}function u(e){delete M[e],delete C[e]}function d(e,n,t){var s=e.map.id;e.error?e.emit("error",e.error):(n[s]=!0,each(e.depMaps,function(s,a){var r=s.id,i=getOwn(M,r);!i||e.depMatched[a]||t[r]||(getOwn(n,r)?(e.defineDep(a,T[r]),e.check()):d(i,n,t))}),t[s]=!0)}function h(){var e,n,t=1e3*x.waitSeconds,r=t&&w.startTime+t<(new Date).getTime(),i=[],o=[],l=!1,p=!0;if(!b){if(b=!0,eachProp(C,function(e){var t=e.map,c=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&r)a(c)?(n=!0,l=!0):(i.push(c),s(c));else if(!e.inited&&e.fetched&&t.isDefine&&(l=!0,!t.prefix))return p=!1}),r&&i.length)return e=makeError("timeout","Load timeout for modules: "+i,null,i),e.contextName=w.contextName,c(e);p&&each(o,function(e){d(e,{},{})}),r&&!n||!l||!isBrowser&&!isWebWorker||k||(k=setTimeout(function(){k=0,h()},50)),b=!1}}function f(e){hasProp(T,e[0])||o(i(e[0],null,!0)).init(e[1],e[2])}function m(e,n,t,s){e.detachEvent&&!isOpera?s&&e.detachEvent(s,n):e.removeEventListener(t,n,!1)}function v(e){var n=e.currentTarget||e.srcElement;return m(n,w.onScriptLoad,"load","onreadystatechange"),m(n,w.onScriptError,"error"),{node:n,id:n&&n.getAttribute("data-requiremodule")}}function g(){var e;for(p();N.length;){if(e=N.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var b,y,w,j,k,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},M={},C={},S={},N=[],T={},P={},_={},E=1,R=1;return j={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?T[e.map.id]=e.exports:e.exports=T[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(x.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},y=function(e){this.events=getOwn(S,e.id)||{},this.map=e,this.shim=getOwn(x.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,n,t,s){s=s||{},this.inited||(this.factory=n,t?this.on("error",t):this.events.error&&(t=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=t,this.inited=!0,this.ignore=s.ignore,s.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,n){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=n)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,n,t=this.map.id,s=this.depExports,a=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(r)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{a=w.execCb(t,r,s,a)}catch(i){e=i}else a=w.execCb(t,r,s,a);if(this.map.isDefine&&void 0===a&&(n=this.module,n?a=n.exports:this.usingExports&&(a=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else a=r;this.exports=a,this.map.isDefine&&!this.ignore&&(T[t]=a,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),u(t),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,n=e.id,s=i(e.prefix);this.depMaps.push(s),l(s,"defined",bind(this,function(s){var a,r,p,d=getOwn(_,this.map.id),h=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,m=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(s.normalize&&(h=s.normalize(h,function(e){return t(e,f,!0)})||""),r=i(e.prefix+"!"+h,this.map.parentMap),l(r,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),p=getOwn(M,r.id),void(p&&(this.depMaps.push(r),this.events.error&&p.on("error",bind(this,function(e){this.emit("error",e)})),p.enable()))):d?(this.map.url=w.nameToUrl(d),void this.load()):(a=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),a.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[n],eachProp(M,function(e){0===e.map.id.indexOf(n+"_unnormalized")&&u(e.map.id)}),c(e)}),a.fromText=bind(this,function(t,s){var r=e.name,l=i(r),p=useInteractive;s&&(t=s),p&&(useInteractive=!1),o(l),hasProp(x.config,n)&&(x.config[r]=x.config[n]);try{req.exec(t)}catch(u){return c(makeError("fromtexteval","fromText eval for "+n+" failed: "+u,u,[n]))}p&&(useInteractive=!0),this.depMaps.push(l),w.completeLoad(r),m([r],a)}),void s.load(e.name,m,a,x))})),w.enable(s,this),this.pluginMaps[s.id]=s},enable:function(){C[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,n){var t,s,a;if("string"==typeof e){if(e=i(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e,a=getOwn(j,e.id))return void(this.depExports[n]=a(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(n,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}t=e.id,s=M[t],hasProp(j,t)||!s||s.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var n=getOwn(M,e.id);n&&!n.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,n){var t=this.events[e];t||(t=this.events[e]=[]),t.push(n)},emit:function(e,n){each(this.events[e],function(e){e(n)}),"error"===e&&delete this.events[e]}},w={config:x,contextName:e,registry:M,defined:T,urlFetched:P,defQueue:N,Module:y,makeModuleMap:i,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var n=x.shim,t={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,n){t[n]?(x[n]||(x[n]={}),mixin(x[n],e,!0,!0)):x[n]=e}),e.bundles&&eachProp(e.bundles,function(e,n){each(e,function(e){e!==n&&(_[e]=n)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),x.shim=n),e.packages&&each(e.packages,function(e){var n,t;e="string"==typeof e?{name:e}:e,t=e.name,n=e.location,n&&(x.paths[t]=e.location),x.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(M,function(e,n){e.inited||e.map.unnormalized||(e.map=i(n))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function n(){var n;return e.init&&(n=e.init.apply(global,arguments)),n||e.exports&&getGlobal(e.exports)}return n},makeRequire:function(n,a){function r(t,s,l){var p,u,d;return a.enableBuildCallback&&s&&isFunction(s)&&(s.__requireJsBuild=!0),"string"==typeof t?isFunction(s)?c(makeError("requireargs","Invalid require call"),l):n&&hasProp(j,t)?j[t](M[n.id]):req.get?req.get(w,t,n,r):(u=i(t,n,!1,!0),p=u.id,hasProp(T,p)?T[p]:c(makeError("notloaded",'Module name "'+p+'" has not been loaded yet for context: '+e+(n?"":". Use require([])")))):(g(),w.nextTick(function(){g(),d=o(i(null,n)),d.skipMap=a.skipMap,d.init(t,s,l,{enabled:!0}),h()}),r)}return a=a||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var s,a=e.lastIndexOf("."),r=e.split("/")[0],i="."===r||".."===r;return-1!==a&&(!i||a>1)&&(s=e.substring(a,e.length),e=e.substring(0,a)),w.nameToUrl(t(e,n&&n.id,!0),s,!0)},defined:function(e){return hasProp(T,i(e,n,!1,!0).id)},specified:function(e){return e=i(e,n,!1,!0).id,hasProp(T,e)||hasProp(M,e)}}),n||(r.undef=function(e){p();var t=i(e,n,!0),a=getOwn(M,e);s(e),delete T[e],delete P[t.url],delete S[e],eachReverse(N,function(n,t){n[0]===e&&N.splice(t,1)}),a&&(a.events.defined&&(S[e]=a.events),u(e))}),r},enable:function(e){var n=getOwn(M,e.id);n&&o(e).enable()},completeLoad:function(e){var n,t,s,r=getOwn(x.shim,e)||{},i=r.exports;for(p();N.length;){if(t=N.shift(),null===t[0]){if(t[0]=e,n)break;n=!0}else t[0]===e&&(n=!0);f(t)}if(s=getOwn(M,e),!n&&!hasProp(T,e)&&s&&!s.inited){if(!(!x.enforceDefine||i&&getGlobal(i)))return a(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));f([e,r.deps||[],r.exportsFn])}h()},nameToUrl:function(e,n,t){var s,a,r,i,o,l,c,p=getOwn(x.pkgs,e);if(p&&(e=p),c=getOwn(_,e))return w.nameToUrl(c,n,t);if(req.jsExtRegExp.test(e))o=e+(n||"");else{for(s=x.paths,a=e.split("/"),r=a.length;r>0;r-=1)if(i=a.slice(0,r).join("/"),l=getOwn(s,i)){isArray(l)&&(l=l[0]),a.splice(0,r,l);break}o=a.join("/"),o+=n||(/^data\:|\?/.test(o)||t?"":".js"),o=("/"===o.charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+o}return x.urlArgs?o+((-1===o.indexOf("?")?"?":"&")+x.urlArgs):o},load:function(e,n){req.load(w,e,n)},execCb:function(e,n,t,s){return n.apply(s,t)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var n=v(e);w.completeLoad(n.id)}},onScriptError:function(e){var n=v(e);return a(n.id)?void 0:c(makeError("scripterror","Script error for: "+n.id,e,[n.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.15",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,n,t,s){var a,r,i=defContextName;return isArray(e)||"string"==typeof e||(r=e,isArray(n)?(e=n,n=t,t=s):e=[]),r&&r.context&&(i=r.context),a=getOwn(contexts,i),a||(a=contexts[i]=req.s.newContext(i)),r&&a.configure(r),a.require(e,n,t)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var n=contexts[defContextName];return n.require[e].apply(n,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,n,t){var s,a=e&&e.config||{};if(isBrowser)return s=req.createNode(a,n,t),s.setAttribute("data-requirecontext",e.contextName),s.setAttribute("data-requiremodule",n),!s.attachEvent||s.attachEvent.toString&&s.attachEvent.toString().indexOf("[native code")<0||isOpera?(s.addEventListener("load",e.onScriptLoad,!1),s.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,s.attachEvent("onreadystatechange",e.onScriptLoad)),s.src=t,currentlyAddingScript=s,baseElement?head.insertBefore(s,baseElement):head.appendChild(s),currentlyAddingScript=null,s;if(isWebWorker)try{importScripts(t),e.completeLoad(n)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+n+" at "+t,r,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,n,t){var s,a;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(s=currentlyAddingScript||getInteractiveScript(),s&&(e||(e=s.getAttribute("data-requiremodule")),a=contexts[s.getAttribute("data-requirecontext")])),(a?a.defQueue:globalDefQueue).push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){}),function(e,n){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,n){function t(e){var n=e.length,t=rn.type(e);return"function"===t||rn.isWindow(e)?!1:1===e.nodeType&&n?!0:"array"===t||0===n||"number"==typeof n&&n>0&&n-1 in e}function s(e,n,t){if(rn.isFunction(n))return rn.grep(e,function(e,s){return!!n.call(e,s,e)!==t});if(n.nodeType)return rn.grep(e,function(e){return e===n!==t});if("string"==typeof n){if(fn.test(n))return rn.filter(n,e,t);n=rn.filter(n,e)}return rn.grep(e,function(e){return rn.inArray(e,n)>=0!==t})}function a(e,n){do e=e[n];while(e&&1!==e.nodeType);return e}function r(e){var n=kn[e]={};return rn.each(e.match(jn)||[],function(e,t){n[t]=!0}),n}function i(){vn.addEventListener?(vn.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1)):(vn.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(vn.addEventListener||"load"===event.type||"complete"===vn.readyState)&&(i(),rn.ready())}function l(e,n,t){if(void 0===t&&1===e.nodeType){var s="data-"+n.replace(Nn,"-$1").toLowerCase();if(t=e.getAttribute(s),"string"==typeof t){try{t="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:Sn.test(t)?rn.parseJSON(t):t}catch(a){}rn.data(e,n,t)}else t=void 0}return t}function c(e){var n;for(n in e)if(("data"!==n||!rn.isEmptyObject(e[n]))&&"toJSON"!==n)return!1;return!0}function p(e,n,t,s){if(rn.acceptData(e)){var a,r,i=rn.expando,o=e.nodeType,l=o?rn.cache:e,c=o?e[i]:e[i]&&i;if(c&&l[c]&&(s||l[c].data)||void 0!==t||"string"!=typeof n)return c||(c=o?e[i]=Q.pop()||rn.guid++:i),l[c]||(l[c]=o?{}:{toJSON:rn.noop}),("object"==typeof n||"function"==typeof n)&&(s?l[c]=rn.extend(l[c],n):l[c].data=rn.extend(l[c].data,n)),r=l[c],s||(r.data||(r.data={}),r=r.data),void 0!==t&&(r[rn.camelCase(n)]=t),"string"==typeof n?(a=r[n],null==a&&(a=r[rn.camelCase(n)])):a=r,a}}function u(e,n,t){if(rn.acceptData(e)){var s,a,r=e.nodeType,i=r?rn.cache:e,o=r?e[rn.expando]:rn.expando;if(i[o]){if(n&&(s=t?i[o]:i[o].data)){rn.isArray(n)?n=n.concat(rn.map(n,rn.camelCase)):n in s?n=[n]:(n=rn.camelCase(n),n=n in s?[n]:n.split(" ")),a=n.length;for(;a--;)delete s[n[a]];if(t?!c(s):!rn.isEmptyObject(s))return}(t||(delete i[o].data,c(i[o])))&&(r?rn.cleanData([e],!0):sn.deleteExpando||i!=i.window?delete i[o]:i[o]=null)}}}function d(){return!0}function h(){return!1}function f(){try{return vn.activeElement}catch(e){}}function m(e){var n=Fn.split("|"),t=e.createDocumentFragment();if(t.createElement)for(;n.length;)t.createElement(n.pop());return t}function v(e,n){var t,s,a=0,r=typeof e.getElementsByTagName!==Cn?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==Cn?e.querySelectorAll(n||"*"):void 0;if(!r)for(r=[],t=e.childNodes||e;null!=(s=t[a]);a++)!n||rn.nodeName(s,n)?r.push(s):rn.merge(r,v(s,n));return void 0===n||n&&rn.nodeName(e,n)?rn.merge([e],r):r}function g(e){Rn.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,n){return rn.nodeName(e,"table")&&rn.nodeName(11!==n.nodeType?n:n.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==rn.find.attr(e,"type"))+"/"+e.type,e}function w(e){var n=Xn.exec(e.type);return n?e.type=n[1]:e.removeAttribute("type"),e}function j(e,n){for(var t,s=0;null!=(t=e[s]);s++)rn._data(t,"globalEval",!n||rn._data(n[s],"globalEval"))}function k(e,n){if(1===n.nodeType&&rn.hasData(e)){var t,s,a,r=rn._data(e),i=rn._data(n,r),o=r.events;if(o){delete i.handle,i.events={};for(t in o)for(s=0,a=o[t].length;a>s;s++)rn.event.add(n,t,o[t][s])}i.data&&(i.data=rn.extend({},i.data))}}function x(e,n){var t,s,a;if(1===n.nodeType){if(t=n.nodeName.toLowerCase(),!sn.noCloneEvent&&n[rn.expando]){a=rn._data(n);for(s in a.events)rn.removeEvent(n,s,a.handle);n.removeAttribute(rn.expando)}"script"===t&&n.text!==e.text?(y(n).text=e.text,w(n)):"object"===t?(n.parentNode&&(n.outerHTML=e.outerHTML),sn.html5Clone&&e.innerHTML&&!rn.trim(n.innerHTML)&&(n.innerHTML=e.innerHTML)):"input"===t&&Rn.test(e.type)?(n.defaultChecked=n.checked=e.checked,n.value!==e.value&&(n.value=e.value)):"option"===t?n.defaultSelected=n.selected=e.defaultSelected:("input"===t||"textarea"===t)&&(n.defaultValue=e.defaultValue)}}function M(n,t){var s=rn(t.createElement(n)).appendTo(t.body),a=e.getDefaultComputedStyle?e.getDefaultComputedStyle(s[0]).display:rn.css(s[0],"display");return s.detach(),a}function C(e){var n=vn,t=nt[e];return t||(t=M(e,n),"none"!==t&&t||(et=(et||rn("<iframe frameborder='0' width='0' height='0'/>")).appendTo(n.documentElement),n=(et[0].contentWindow||et[0].contentDocument).document,n.write(),n.close(),t=M(e,n),et.detach()),nt[e]=t),t}function S(e,n){return{get:function(){var t=e();if(null!=t)return t?void delete this.get:(this.get=n).apply(this,arguments)}}}function N(e,n){if(n in e)return n;for(var t=n.charAt(0).toUpperCase()+n.slice(1),s=n,a=ft.length;a--;)if(n=ft[a]+t,n in e)return n;return s}function T(e,n){for(var t,s,a,r=[],i=0,o=e.length;o>i;i++)s=e[i],s.style&&(r[i]=rn._data(s,"olddisplay"),t=s.style.display,n?(r[i]||"none"!==t||(s.style.display=""),""===s.style.display&&_n(s)&&(r[i]=rn._data(s,"olddisplay",C(s.nodeName)))):r[i]||(a=_n(s),(t&&"none"!==t||!a)&&rn._data(s,"olddisplay",a?t:rn.css(s,"display"))));for(i=0;o>i;i++)s=e[i],s.style&&(n&&"none"!==s.style.display&&""!==s.style.display||(s.style.display=n?r[i]||"":"none"));return e}function P(e,n,t){var s=pt.exec(n);return s?Math.max(0,s[1]-(t||0))+(s[2]||"px"):n}function _(e,n,t,s,a){for(var r=t===(s?"border":"content")?4:"width"===n?1:0,i=0;4>r;r+=2)"margin"===t&&(i+=rn.css(e,t+Pn[r],!0,a)),s?("content"===t&&(i-=rn.css(e,"padding"+Pn[r],!0,a)),"margin"!==t&&(i-=rn.css(e,"border"+Pn[r]+"Width",!0,a))):(i+=rn.css(e,"padding"+Pn[r],!0,a),"padding"!==t&&(i+=rn.css(e,"border"+Pn[r]+"Width",!0,a)));return i}function E(e,n,t){var s=!0,a="width"===n?e.offsetWidth:e.offsetHeight,r=tt(e),i=sn.boxSizing()&&"border-box"===rn.css(e,"boxSizing",!1,r);if(0>=a||null==a){if(a=st(e,n,r),(0>a||null==a)&&(a=e.style[n]),rt.test(a))return a;s=i&&(sn.boxSizingReliable()||a===e.style[n]),a=parseFloat(a)||0}return a+_(e,n,t||(i?"border":"content"),s,r)+"px"}function R(e,n,t,s,a){return new R.prototype.init(e,n,t,s,a)}function A(){return setTimeout(function(){mt=void 0}),mt=rn.now()}function H(e,n){var t,s={height:e},a=0;for(n=n?1:0;4>a;a+=2-n)t=Pn[a],s["margin"+t]=s["padding"+t]=e;return n&&(s.opacity=s.width=e),s}function L(e,n,t){for(var s,a=(jt[n]||[]).concat(jt["*"]),r=0,i=a.length;i>r;r++)if(s=a[r].call(t,n,e))return s}function D(e,n,t){var s,a,r,i,o,l,c,p,u=this,d={},h=e.style,f=e.nodeType&&_n(e),m=rn._data(e,"fxshow");t.queue||(o=rn._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,rn.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(t.overflow=[h.overflow,h.overflowX,h.overflowY],c=rn.css(e,"display"),p=C(e.nodeName),"none"===c&&(c=p),"inline"===c&&"none"===rn.css(e,"float")&&(sn.inlineBlockNeedsLayout&&"inline"!==p?h.zoom=1:h.display="inline-block")),t.overflow&&(h.overflow="hidden",sn.shrinkWrapBlocks()||u.always(function(){h.overflow=t.overflow[0],h.overflowX=t.overflow[1],h.overflowY=t.overflow[2]}));for(s in n)if(a=n[s],gt.exec(a)){if(delete n[s],r=r||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!m||void 0===m[s])continue;f=!0}d[s]=m&&m[s]||rn.style(e,s)}if(!rn.isEmptyObject(d)){m?"hidden"in m&&(f=m.hidden):m=rn._data(e,"fxshow",{}),r&&(m.hidden=!f),f?rn(e).show():u.done(function(){rn(e).hide()}),u.done(function(){var n;rn._removeData(e,"fxshow");for(n in d)rn.style(e,n,d[n])});for(s in d)i=L(f?m[s]:0,s,u),s in m||(m[s]=i.start,f&&(i.end=i.start,i.start="width"===s||"height"===s?1:0))}}function O(e,n){var t,s,a,r,i;for(t in e)if(s=rn.camelCase(t),a=n[s],r=e[t],rn.isArray(r)&&(a=r[1],r=e[t]=r[0]),t!==s&&(e[s]=r,delete e[t]),i=rn.cssHooks[s],i&&"expand"in i){r=i.expand(r),delete e[s];for(t in r)t in e||(e[t]=r[t],n[t]=a)}else n[s]=a}function F(e,n,t){var s,a,r=0,i=wt.length,o=rn.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var n=mt||A(),t=Math.max(0,c.startTime+c.duration-n),s=t/c.duration||0,r=1-s,i=0,l=c.tweens.length;l>i;i++)c.tweens[i].run(r);return o.notifyWith(e,[c,r,t]),1>r&&l?t:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:rn.extend({},n),opts:rn.extend(!0,{specialEasing:{}},t),originalProperties:n,originalOptions:t,startTime:mt||A(),duration:t.duration,tweens:[],createTween:function(n,t){var s=rn.Tween(e,c.opts,n,t,c.opts.specialEasing[n]||c.opts.easing);return c.tweens.push(s),s},stop:function(n){var t=0,s=n?c.tweens.length:0;if(a)return this;for(a=!0;s>t;t++)c.tweens[t].run(1);return n?o.resolveWith(e,[c,n]):o.rejectWith(e,[c,n]),this}}),p=c.props;for(O(p,c.opts.specialEasing);i>r;r++)if(s=wt[r].call(c,e,p,c.opts))return s;return rn.map(p,L,c),rn.isFunction(c.opts.start)&&c.opts.start.call(e,c),rn.fx.timer(rn.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e){return function(n,t){"string"!=typeof n&&(t=n,n="*");var s,a=0,r=n.toLowerCase().match(jn)||[];if(rn.isFunction(t))for(;s=r[a++];)"+"===s.charAt(0)?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(t)):(e[s]=e[s]||[]).push(t)}}function I(e,n,t,s){function a(o){var l;return r[o]=!0,rn.each(e[o]||[],function(e,o){var c=o(n,t,s);return"string"!=typeof c||i||r[c]?i?!(l=c):void 0:(n.dataTypes.unshift(c),a(c),!1)}),l}var r={},i=e===zt;return a(n.dataTypes[0])||!r["*"]&&a("*")}function q(e,n){var t,s,a=rn.ajaxSettings.flatOptions||{};for(s in n)void 0!==n[s]&&((a[s]?e:t||(t={}))[s]=n[s]);return t&&rn.extend(!0,e,t),e}function B(e,n,t){for(var s,a,r,i,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||n.getResponseHeader("Content-Type"));if(a)for(i in o)if(o[i]&&o[i].test(a)){l.unshift(i);break}if(l[0]in t)r=l[0];else{for(i in t){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}s||(s=i)}r=r||s}return r?(r!==l[0]&&l.unshift(r),t[r]):void 0}function V(e,n,t,s){var a,r,i,o,l,c={},p=e.dataTypes.slice();if(p[1])for(i in e.converters)c[i.toLowerCase()]=e.converters[i];for(r=p.shift();r;)if(e.responseFields[r]&&(t[e.responseFields[r]]=n),!l&&s&&e.dataFilter&&(n=e.dataFilter(n,e.dataType)),l=r,r=p.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(i=c[l+" "+r]||c["* "+r],!i)for(a in c)if(o=a.split(" "),o[1]===r&&(i=c[l+" "+o[0]]||c["* "+o[0]])){i===!0?i=c[a]:c[a]!==!0&&(r=o[0],p.unshift(o[1]));break}if(i!==!0)if(i&&e["throws"])n=i(n);else try{n=i(n)}catch(u){return{state:"parsererror",error:i?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:n}}function U(e,n,t,s){var a;if(rn.isArray(n))rn.each(n,function(n,a){t||Xt.test(e)?s(e,a):U(e+"["+("object"==typeof a?n:"")+"]",a,t,s)});else if(t||"object"!==rn.type(n))s(e,n);else for(a in n)U(e+"["+a+"]",n[a],t,s)}function z(){try{return new e.XMLHttpRequest}catch(n){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}function K(e){return rn.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Q=[],X=Q.slice,J=Q.concat,Y=Q.push,G=Q.indexOf,Z={},en=Z.toString,nn=Z.hasOwnProperty,tn="".trim,sn={},an="1.11.0",rn=function(e,n){return new rn.fn.init(e,n)},on=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ln=/^-ms-/,cn=/-([\da-z])/gi,pn=function(e,n){return n.toUpperCase()};rn.fn=rn.prototype={jquery:an,constructor:rn,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var n=rn.merge(this.constructor(),e);return n.prevObject=this,n.context=this.context,n},each:function(e,n){return rn.each(this,e,n)},map:function(e){return this.pushStack(rn.map(this,function(n,t){return e.call(n,t,n)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var n=this.length,t=+e+(0>e?n:0);return this.pushStack(t>=0&&n>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:Q.sort,splice:Q.splice},rn.extend=rn.fn.extend=function(){var e,n,t,s,a,r,i=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[o]||{},o++),"object"==typeof i||rn.isFunction(i)||(i={}),o===l&&(i=this,o--);l>o;o++)if(null!=(a=arguments[o]))for(s in a)e=i[s],t=a[s],i!==t&&(c&&t&&(rn.isPlainObject(t)||(n=rn.isArray(t)))?(n?(n=!1,r=e&&rn.isArray(e)?e:[]):r=e&&rn.isPlainObject(e)?e:{},i[s]=rn.extend(c,r,t)):void 0!==t&&(i[s]=t));return i},rn.extend({expando:"jQuery"+(an+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rn.type(e)},isArray:Array.isArray||function(e){return"array"===rn.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var n;for(n in e)return!1;return!0},isPlainObject:function(e){var n;if(!e||"object"!==rn.type(e)||e.nodeType||rn.isWindow(e))return!1;try{if(e.constructor&&!nn.call(e,"constructor")&&!nn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(sn.ownLast)for(n in e)return nn.call(e,n);for(n in e);return void 0===n||nn.call(e,n)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[en.call(e)]||"object":typeof e},globalEval:function(n){n&&rn.trim(n)&&(e.execScript||function(n){e.eval.call(e,n)})(n)},camelCase:function(e){return e.replace(ln,"ms-").replace(cn,pn)},nodeName:function(e,n){return e.nodeName&&e.nodeName.toLowerCase()===n.toLowerCase()},each:function(e,n,s){var a,r=0,i=e.length,o=t(e);if(s){if(o)for(;i>r&&(a=n.apply(e[r],s),a!==!1);r++);else for(r in e)if(a=n.apply(e[r],s),a===!1)break}else if(o)for(;i>r&&(a=n.call(e[r],r,e[r]),a!==!1);r++);else for(r in e)if(a=n.call(e[r],r,e[r]),a===!1)break;return e},trim:tn&&!tn.call("﻿ ")?function(e){return null==e?"":tn.call(e)}:function(e){return null==e?"":(e+"").replace(on,"")},makeArray:function(e,n){var s=n||[];return null!=e&&(t(Object(e))?rn.merge(s,"string"==typeof e?[e]:e):Y.call(s,e)),s},inArray:function(e,n,t){var s;if(n){if(G)return G.call(n,e,t);for(s=n.length,t=t?0>t?Math.max(0,s+t):t:0;s>t;t++)if(t in n&&n[t]===e)return t}return-1},merge:function(e,n){for(var t=+n.length,s=0,a=e.length;t>s;)e[a++]=n[s++];if(t!==t)for(;void 0!==n[s];)e[a++]=n[s++];return e.length=a,e},grep:function(e,n,t){for(var s,a=[],r=0,i=e.length,o=!t;i>r;r++)s=!n(e[r],r),s!==o&&a.push(e[r]);return a},map:function(e,n,s){var a,r=0,i=e.length,o=t(e),l=[];if(o)for(;i>r;r++)a=n(e[r],r,s),null!=a&&l.push(a);else for(r in e)a=n(e[r],r,s),null!=a&&l.push(a);return J.apply([],l)},guid:1,proxy:function(e,n){var t,s,a;return"string"==typeof n&&(a=e[n],n=e,e=a),rn.isFunction(e)?(t=X.call(arguments,2),s=function(){return e.apply(n||this,t.concat(X.call(arguments)))
},s.guid=e.guid=e.guid||rn.guid++,s):void 0},now:function(){return+new Date},support:sn}),rn.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,n){Z["[object "+n+"]"]=n.toLowerCase()});var un=function(e){function n(e,n,t,s){var a,r,i,o,l,c,u,f,m,v;if((n?n.ownerDocument||n:I)!==R&&E(n),n=n||R,t=t||[],!e||"string"!=typeof e)return t;if(1!==(o=n.nodeType)&&9!==o)return[];if(H&&!s){if(a=yn.exec(e))if(i=a[1]){if(9===o){if(r=n.getElementById(i),!r||!r.parentNode)return t;if(r.id===i)return t.push(r),t}else if(n.ownerDocument&&(r=n.ownerDocument.getElementById(i))&&F(n,r)&&r.id===i)return t.push(r),t}else{if(a[2])return Z.apply(t,n.getElementsByTagName(e)),t;if((i=a[3])&&x.getElementsByClassName&&n.getElementsByClassName)return Z.apply(t,n.getElementsByClassName(i)),t}if(x.qsa&&(!L||!L.test(e))){if(f=u=$,m=n,v=9===o&&e,1===o&&"object"!==n.nodeName.toLowerCase()){for(c=d(e),(u=n.getAttribute("id"))?f=u.replace(jn,"\\$&"):n.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);m=wn.test(e)&&p(n.parentNode)||n,v=c.join(",")}if(v)try{return Z.apply(t,m.querySelectorAll(v)),t}catch(g){}finally{u||n.removeAttribute("id")}}}return j(e.replace(cn,"$1"),n,t,s)}function t(){function e(t,s){return n.push(t+" ")>M.cacheLength&&delete e[n.shift()],e[t+" "]=s}var n=[];return e}function s(e){return e[$]=!0,e}function a(e){var n=R.createElement("div");try{return!!e(n)}catch(t){return!1}finally{n.parentNode&&n.parentNode.removeChild(n),n=null}}function r(e,n){for(var t=e.split("|"),s=e.length;s--;)M.attrHandle[t[s]]=n}function i(e,n){var t=n&&e,s=t&&1===e.nodeType&&1===n.nodeType&&(~n.sourceIndex||Q)-(~e.sourceIndex||Q);if(s)return s;if(t)for(;t=t.nextSibling;)if(t===n)return-1;return e?1:-1}function o(e){return function(n){var t=n.nodeName.toLowerCase();return"input"===t&&n.type===e}}function l(e){return function(n){var t=n.nodeName.toLowerCase();return("input"===t||"button"===t)&&n.type===e}}function c(e){return s(function(n){return n=+n,s(function(t,s){for(var a,r=e([],t.length,n),i=r.length;i--;)t[a=r[i]]&&(t[a]=!(s[a]=t[a]))})})}function p(e){return e&&typeof e.getElementsByTagName!==K&&e}function u(){}function d(e,t){var s,a,r,i,o,l,c,p=U[e+" "];if(p)return t?0:p.slice(0);for(o=e,l=[],c=M.preFilter;o;){(!s||(a=pn.exec(o)))&&(a&&(o=o.slice(a[0].length)||o),l.push(r=[])),s=!1,(a=un.exec(o))&&(s=a.shift(),r.push({value:s,type:a[0].replace(cn," ")}),o=o.slice(s.length));for(i in M.filter)!(a=mn[i].exec(o))||c[i]&&!(a=c[i](a))||(s=a.shift(),r.push({value:s,type:i,matches:a}),o=o.slice(s.length));if(!s)break}return t?o.length:o?n.error(e):U(e,l).slice(0)}function h(e){for(var n=0,t=e.length,s="";t>n;n++)s+=e[n].value;return s}function f(e,n,t){var s=n.dir,a=t&&"parentNode"===s,r=B++;return n.first?function(n,t,r){for(;n=n[s];)if(1===n.nodeType||a)return e(n,t,r)}:function(n,t,i){var o,l,c=[q,r];if(i){for(;n=n[s];)if((1===n.nodeType||a)&&e(n,t,i))return!0}else for(;n=n[s];)if(1===n.nodeType||a){if(l=n[$]||(n[$]={}),(o=l[s])&&o[0]===q&&o[1]===r)return c[2]=o[2];if(l[s]=c,c[2]=e(n,t,i))return!0}}}function m(e){return e.length>1?function(n,t,s){for(var a=e.length;a--;)if(!e[a](n,t,s))return!1;return!0}:e[0]}function v(e,n,t,s,a){for(var r,i=[],o=0,l=e.length,c=null!=n;l>o;o++)(r=e[o])&&(!t||t(r,s,a))&&(i.push(r),c&&n.push(o));return i}function g(e,n,t,a,r,i){return a&&!a[$]&&(a=g(a)),r&&!r[$]&&(r=g(r,i)),s(function(s,i,o,l){var c,p,u,d=[],h=[],f=i.length,m=s||w(n||"*",o.nodeType?[o]:o,[]),g=!e||!s&&n?m:v(m,d,e,o,l),b=t?r||(s?e:f||a)?[]:i:g;if(t&&t(g,b,o,l),a)for(c=v(b,h),a(c,[],o,l),p=c.length;p--;)(u=c[p])&&(b[h[p]]=!(g[h[p]]=u));if(s){if(r||e){if(r){for(c=[],p=b.length;p--;)(u=b[p])&&c.push(g[p]=u);r(null,b=[],c,l)}for(p=b.length;p--;)(u=b[p])&&(c=r?nn.call(s,u):d[p])>-1&&(s[c]=!(i[c]=u))}}else b=v(b===i?b.splice(f,b.length):b),r?r(null,i,b,l):Z.apply(i,b)})}function b(e){for(var n,t,s,a=e.length,r=M.relative[e[0].type],i=r||M.relative[" "],o=r?1:0,l=f(function(e){return e===n},i,!0),c=f(function(e){return nn.call(n,e)>-1},i,!0),p=[function(e,t,s){return!r&&(s||t!==T)||((n=t).nodeType?l(e,t,s):c(e,t,s))}];a>o;o++)if(t=M.relative[e[o].type])p=[f(m(p),t)];else{if(t=M.filter[e[o].type].apply(null,e[o].matches),t[$]){for(s=++o;a>s&&!M.relative[e[s].type];s++);return g(o>1&&m(p),o>1&&h(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(cn,"$1"),t,s>o&&b(e.slice(o,s)),a>s&&b(e=e.slice(s)),a>s&&h(e))}p.push(t)}return m(p)}function y(e,t){var a=t.length>0,r=e.length>0,i=function(s,i,o,l,c){var p,u,d,h=0,f="0",m=s&&[],g=[],b=T,y=s||r&&M.find.TAG("*",c),w=q+=null==b?1:Math.random()||.1,j=y.length;for(c&&(T=i!==R&&i);f!==j&&null!=(p=y[f]);f++){if(r&&p){for(u=0;d=e[u++];)if(d(p,i,o)){l.push(p);break}c&&(q=w)}a&&((p=!d&&p)&&h--,s&&m.push(p))}if(h+=f,a&&f!==h){for(u=0;d=t[u++];)d(m,g,i,o);if(s){if(h>0)for(;f--;)m[f]||g[f]||(g[f]=Y.call(l));g=v(g)}Z.apply(l,g),c&&!s&&g.length>0&&h+t.length>1&&n.uniqueSort(l)}return c&&(q=w,T=b),m};return a?s(i):i}function w(e,t,s){for(var a=0,r=t.length;r>a;a++)n(e,t[a],s);return s}function j(e,n,t,s){var a,r,i,o,l,c=d(e);if(!s&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(i=r[0]).type&&x.getById&&9===n.nodeType&&H&&M.relative[r[1].type]){if(n=(M.find.ID(i.matches[0].replace(kn,xn),n)||[])[0],!n)return t;e=e.slice(r.shift().value.length)}for(a=mn.needsContext.test(e)?0:r.length;a--&&(i=r[a],!M.relative[o=i.type]);)if((l=M.find[o])&&(s=l(i.matches[0].replace(kn,xn),wn.test(r[0].type)&&p(n.parentNode)||n))){if(r.splice(a,1),e=s.length&&h(r),!e)return Z.apply(t,s),t;break}}return N(e,c)(s,n,!H,t,wn.test(e)&&p(n.parentNode)||n),t}var k,x,M,C,S,N,T,P,_,E,R,A,H,L,D,O,F,$="sizzle"+-new Date,I=e.document,q=0,B=0,V=t(),U=t(),z=t(),W=function(e,n){return e===n&&(_=!0),0},K="undefined",Q=1<<31,X={}.hasOwnProperty,J=[],Y=J.pop,G=J.push,Z=J.push,en=J.slice,nn=J.indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1},tn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",sn="[\\x20\\t\\r\\n\\f]",an="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rn=an.replace("w","w#"),on="\\["+sn+"*("+an+")"+sn+"*(?:([*^$|!~]?=)"+sn+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+rn+")|)|)"+sn+"*\\]",ln=":("+an+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+on.replace(3,8)+")*)|.*)\\)|)",cn=new RegExp("^"+sn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+sn+"+$","g"),pn=new RegExp("^"+sn+"*,"+sn+"*"),un=new RegExp("^"+sn+"*([>+~]|"+sn+")"+sn+"*"),dn=new RegExp("="+sn+"*([^\\]'\"]*?)"+sn+"*\\]","g"),hn=new RegExp(ln),fn=new RegExp("^"+rn+"$"),mn={ID:new RegExp("^#("+an+")"),CLASS:new RegExp("^\\.("+an+")"),TAG:new RegExp("^("+an.replace("w","w*")+")"),ATTR:new RegExp("^"+on),PSEUDO:new RegExp("^"+ln),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+sn+"*(even|odd|(([+-]|)(\\d*)n|)"+sn+"*(?:([+-]|)"+sn+"*(\\d+)|))"+sn+"*\\)|)","i"),bool:new RegExp("^(?:"+tn+")$","i"),needsContext:new RegExp("^"+sn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+sn+"*((?:-\\d)?\\d*)"+sn+"*\\)|)(?=[^-]|$)","i")},vn=/^(?:input|select|textarea|button)$/i,gn=/^h\d$/i,bn=/^[^{]+\{\s*\[native \w/,yn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wn=/[+~]/,jn=/'|\\/g,kn=new RegExp("\\\\([\\da-f]{1,6}"+sn+"?|("+sn+")|.)","ig"),xn=function(e,n,t){var s="0x"+n-65536;return s!==s||t?n:0>s?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,1023&s|56320)};try{Z.apply(J=en.call(I.childNodes),I.childNodes),J[I.childNodes.length].nodeType}catch(Mn){Z={apply:J.length?function(e,n){G.apply(e,en.call(n))}:function(e,n){for(var t=e.length,s=0;e[t++]=n[s++];);e.length=t-1}}}x=n.support={},S=n.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?"HTML"!==n.nodeName:!1},E=n.setDocument=function(e){var n,t=e?e.ownerDocument||e:I,s=t.defaultView;return t!==R&&9===t.nodeType&&t.documentElement?(R=t,A=t.documentElement,H=!S(t),s&&s!==s.top&&(s.addEventListener?s.addEventListener("unload",function(){E()},!1):s.attachEvent&&s.attachEvent("onunload",function(){E()})),x.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=a(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=bn.test(t.getElementsByClassName)&&a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=a(function(e){return A.appendChild(e).id=$,!t.getElementsByName||!t.getElementsByName($).length}),x.getById?(M.find.ID=function(e,n){if(typeof n.getElementById!==K&&H){var t=n.getElementById(e);return t&&t.parentNode?[t]:[]}},M.filter.ID=function(e){var n=e.replace(kn,xn);return function(e){return e.getAttribute("id")===n}}):(delete M.find.ID,M.filter.ID=function(e){var n=e.replace(kn,xn);return function(e){var t=typeof e.getAttributeNode!==K&&e.getAttributeNode("id");return t&&t.value===n}}),M.find.TAG=x.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==K?n.getElementsByTagName(e):void 0}:function(e,n){var t,s=[],a=0,r=n.getElementsByTagName(e);if("*"===e){for(;t=r[a++];)1===t.nodeType&&s.push(t);return s}return r},M.find.CLASS=x.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==K&&H?n.getElementsByClassName(e):void 0},D=[],L=[],(x.qsa=bn.test(t.querySelectorAll))&&(a(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&L.push("[*^$]="+sn+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+sn+"*(?:value|"+tn+")"),e.querySelectorAll(":checked").length||L.push(":checked")}),a(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+sn+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=bn.test(O=A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&a(function(e){x.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),D.push("!=",ln)}),L=L.length&&new RegExp(L.join("|")),D=D.length&&new RegExp(D.join("|")),n=bn.test(A.compareDocumentPosition),F=n||bn.test(A.contains)?function(e,n){var t=9===e.nodeType?e.documentElement:e,s=n&&n.parentNode;return e===s||!(!s||1!==s.nodeType||!(t.contains?t.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,n){if(n)for(;n=n.parentNode;)if(n===e)return!0;return!1},W=n?function(e,n){if(e===n)return _=!0,0;var s=!e.compareDocumentPosition-!n.compareDocumentPosition;return s?s:(s=(e.ownerDocument||e)===(n.ownerDocument||n)?e.compareDocumentPosition(n):1,1&s||!x.sortDetached&&n.compareDocumentPosition(e)===s?e===t||e.ownerDocument===I&&F(I,e)?-1:n===t||n.ownerDocument===I&&F(I,n)?1:P?nn.call(P,e)-nn.call(P,n):0:4&s?-1:1)}:function(e,n){if(e===n)return _=!0,0;var s,a=0,r=e.parentNode,o=n.parentNode,l=[e],c=[n];if(!r||!o)return e===t?-1:n===t?1:r?-1:o?1:P?nn.call(P,e)-nn.call(P,n):0;if(r===o)return i(e,n);for(s=e;s=s.parentNode;)l.unshift(s);for(s=n;s=s.parentNode;)c.unshift(s);for(;l[a]===c[a];)a++;return a?i(l[a],c[a]):l[a]===I?-1:c[a]===I?1:0},t):R},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&E(e),t=t.replace(dn,"='$1']"),!(!x.matchesSelector||!H||D&&D.test(t)||L&&L.test(t)))try{var s=O.call(e,t);if(s||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(a){}return n(t,R,null,[e]).length>0},n.contains=function(e,n){return(e.ownerDocument||e)!==R&&E(e),F(e,n)},n.attr=function(e,n){(e.ownerDocument||e)!==R&&E(e);var t=M.attrHandle[n.toLowerCase()],s=t&&X.call(M.attrHandle,n.toLowerCase())?t(e,n,!H):void 0;return void 0!==s?s:x.attributes||!H?e.getAttribute(n):(s=e.getAttributeNode(n))&&s.specified?s.value:null},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var n,t=[],s=0,a=0;if(_=!x.detectDuplicates,P=!x.sortStable&&e.slice(0),e.sort(W),_){for(;n=e[a++];)n===e[a]&&(s=t.push(a));for(;s--;)e.splice(t[s],1)}return P=null,e},C=n.getText=function(e){var n,t="",s=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=C(e)}else if(3===a||4===a)return e.nodeValue}else for(;n=e[s++];)t+=C(n);return t},M=n.selectors={cacheLength:50,createPseudo:s,match:mn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(kn,xn),e[3]=(e[4]||e[5]||"").replace(kn,xn),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,t=!e[5]&&e[2];return mn.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:t&&hn.test(t)&&(n=d(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(kn,xn).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===n}},CLASS:function(e){var n=V[e+" "];return n||(n=new RegExp("(^|"+sn+")"+e+"("+sn+"|$)"))&&V(e,function(e){return n.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==K&&e.getAttribute("class")||"")})},ATTR:function(e,t,s){return function(a){var r=n.attr(a,e);return null==r?"!="===t:t?(r+="","="===t?r===s:"!="===t?r!==s:"^="===t?s&&0===r.indexOf(s):"*="===t?s&&r.indexOf(s)>-1:"$="===t?s&&r.slice(-s.length)===s:"~="===t?(" "+r+" ").indexOf(s)>-1:"|="===t?r===s||r.slice(0,s.length+1)===s+"-":!1):!0}},CHILD:function(e,n,t,s,a){var r="nth"!==e.slice(0,3),i="last"!==e.slice(-4),o="of-type"===n;return 1===s&&0===a?function(e){return!!e.parentNode}:function(n,t,l){var c,p,u,d,h,f,m=r!==i?"nextSibling":"previousSibling",v=n.parentNode,g=o&&n.nodeName.toLowerCase(),b=!l&&!o;if(v){if(r){for(;m;){for(u=n;u=u[m];)if(o?u.nodeName.toLowerCase()===g:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[i?v.firstChild:v.lastChild],i&&b){for(p=v[$]||(v[$]={}),c=p[e]||[],h=c[0]===q&&c[1],d=c[0]===q&&c[2],u=h&&v.childNodes[h];u=++h&&u&&u[m]||(d=h=0)||f.pop();)if(1===u.nodeType&&++d&&u===n){p[e]=[q,h,d];break}}else if(b&&(c=(n[$]||(n[$]={}))[e])&&c[0]===q)d=c[1];else for(;(u=++h&&u&&u[m]||(d=h=0)||f.pop())&&((o?u.nodeName.toLowerCase()!==g:1!==u.nodeType)||!++d||(b&&((u[$]||(u[$]={}))[e]=[q,d]),u!==n)););return d-=a,d===s||d%s===0&&d/s>=0}}},PSEUDO:function(e,t){var a,r=M.pseudos[e]||M.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[$]?r(t):r.length>1?(a=[e,e,"",t],M.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,n){for(var s,a=r(e,t),i=a.length;i--;)s=nn.call(e,a[i]),e[s]=!(n[s]=a[i])}):function(e){return r(e,0,a)}):r}},pseudos:{not:s(function(e){var n=[],t=[],a=N(e.replace(cn,"$1"));return a[$]?s(function(e,n,t,s){for(var r,i=a(e,null,s,[]),o=e.length;o--;)(r=i[o])&&(e[o]=!(n[o]=r))}):function(e,s,r){return n[0]=e,a(n,null,r,t),!t.pop()}}),has:s(function(e){return function(t){return n(e,t).length>0}}),contains:s(function(e){return function(n){return(n.textContent||n.innerText||C(n)).indexOf(e)>-1}}),lang:s(function(e){return fn.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(kn,xn).toLowerCase(),function(n){var t;do if(t=H?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return t=t.toLowerCase(),t===e||0===t.indexOf(e+"-");while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(n){var t=e.location&&e.location.hash;return t&&t.slice(1)===n.id},root:function(e){return e===A},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return"input"===n&&!!e.checked||"option"===n&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!M.pseudos.empty(e)},header:function(e){return gn.test(e.nodeName)},input:function(e){return vn.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return"input"===n&&"button"===e.type||"button"===n},text:function(e){var n;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(n=e.getAttribute("type"))||"text"===n.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,n){return[n-1]}),eq:c(function(e,n,t){return[0>t?t+n:t]}),even:c(function(e,n){for(var t=0;n>t;t+=2)e.push(t);return e}),odd:c(function(e,n){for(var t=1;n>t;t+=2)e.push(t);return e}),lt:c(function(e,n,t){for(var s=0>t?t+n:t;--s>=0;)e.push(s);return e}),gt:c(function(e,n,t){for(var s=0>t?t+n:t;++s<n;)e.push(s);return e})}},M.pseudos.nth=M.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[k]=o(k);for(k in{submit:!0,reset:!0})M.pseudos[k]=l(k);return u.prototype=M.filters=M.pseudos,M.setFilters=new u,N=n.compile=function(e,n){var t,s=[],a=[],r=z[e+" "];if(!r){for(n||(n=d(e)),t=n.length;t--;)r=b(n[t]),r[$]?s.push(r):a.push(r);r=z(e,y(a,s))}return r},x.sortStable=$.split("").sort(W).join("")===$,x.detectDuplicates=!!_,E(),x.sortDetached=a(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,n,t){return t?void 0:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),x.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,n,t){return t||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||r(tn,function(e,n,t){var s;return t?void 0:e[n]===!0?n.toLowerCase():(s=e.getAttributeNode(n))&&s.specified?s.value:null}),n}(e);rn.find=un,rn.expr=un.selectors,rn.expr[":"]=rn.expr.pseudos,rn.unique=un.uniqueSort,rn.text=un.getText,rn.isXMLDoc=un.isXML,rn.contains=un.contains;var dn=rn.expr.match.needsContext,hn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fn=/^.[^:#\[\.,]*$/;rn.filter=function(e,n,t){var s=n[0];return t&&(e=":not("+e+")"),1===n.length&&1===s.nodeType?rn.find.matchesSelector(s,e)?[s]:[]:rn.find.matches(e,rn.grep(n,function(e){return 1===e.nodeType}))},rn.fn.extend({find:function(e){var n,t=[],s=this,a=s.length;if("string"!=typeof e)return this.pushStack(rn(e).filter(function(){for(n=0;a>n;n++)if(rn.contains(s[n],this))return!0}));for(n=0;a>n;n++)rn.find(e,s[n],t);return t=this.pushStack(a>1?rn.unique(t):t),t.selector=this.selector?this.selector+" "+e:e,t},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&dn.test(e)?rn(e):e||[],!1).length}});var mn,vn=e.document,gn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,bn=rn.fn.init=function(e,n){var t,s;if(!e)return this;if("string"==typeof e){if(t="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gn.exec(e),!t||!t[1]&&n)return!n||n.jquery?(n||mn).find(e):this.constructor(n).find(e);if(t[1]){if(n=n instanceof rn?n[0]:n,rn.merge(this,rn.parseHTML(t[1],n&&n.nodeType?n.ownerDocument||n:vn,!0)),hn.test(t[1])&&rn.isPlainObject(n))for(t in n)rn.isFunction(this[t])?this[t](n[t]):this.attr(t,n[t]);return this}if(s=vn.getElementById(t[2]),s&&s.parentNode){if(s.id!==t[2])return mn.find(e);this.length=1,this[0]=s}return this.context=vn,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rn.isFunction(e)?"undefined"!=typeof mn.ready?mn.ready(e):e(rn):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rn.makeArray(e,this))};bn.prototype=rn.fn,mn=rn(vn);var yn=/^(?:parents|prev(?:Until|All))/,wn={children:!0,contents:!0,next:!0,prev:!0};rn.extend({dir:function(e,n,t){for(var s=[],a=e[n];a&&9!==a.nodeType&&(void 0===t||1!==a.nodeType||!rn(a).is(t));)1===a.nodeType&&s.push(a),a=a[n];return s},sibling:function(e,n){for(var t=[];e;e=e.nextSibling)1===e.nodeType&&e!==n&&t.push(e);return t}}),rn.fn.extend({has:function(e){var n,t=rn(e,this),s=t.length;return this.filter(function(){for(n=0;s>n;n++)if(rn.contains(this,t[n]))return!0})},closest:function(e,n){for(var t,s=0,a=this.length,r=[],i=dn.test(e)||"string"!=typeof e?rn(e,n||this.context):0;a>s;s++)for(t=this[s];t&&t!==n;t=t.parentNode)if(t.nodeType<11&&(i?i.index(t)>-1:1===t.nodeType&&rn.find.matchesSelector(t,e))){r.push(t);break}return this.pushStack(r.length>1?rn.unique(r):r)},index:function(e){return e?"string"==typeof e?rn.inArray(this[0],rn(e)):rn.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,n){return this.pushStack(rn.unique(rn.merge(this.get(),rn(e,n))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rn.each({parent:function(e){var n=e.parentNode;return n&&11!==n.nodeType?n:null},parents:function(e){return rn.dir(e,"parentNode")},parentsUntil:function(e,n,t){return rn.dir(e,"parentNode",t)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return rn.dir(e,"nextSibling")},prevAll:function(e){return rn.dir(e,"previousSibling")},nextUntil:function(e,n,t){return rn.dir(e,"nextSibling",t)},prevUntil:function(e,n,t){return rn.dir(e,"previousSibling",t)},siblings:function(e){return rn.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rn.sibling(e.firstChild)},contents:function(e){return rn.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rn.merge([],e.childNodes)}},function(e,n){rn.fn[e]=function(t,s){var a=rn.map(this,n,t);return"Until"!==e.slice(-5)&&(s=t),s&&"string"==typeof s&&(a=rn.filter(s,a)),this.length>1&&(wn[e]||(a=rn.unique(a)),yn.test(e)&&(a=a.reverse())),this.pushStack(a)}});var jn=/\S+/g,kn={};rn.Callbacks=function(e){e="string"==typeof e?kn[e]||r(e):rn.extend({},e);var n,t,s,a,i,o,l=[],c=!e.once&&[],p=function(r){for(t=e.memory&&r,s=!0,i=o||0,o=0,a=l.length,n=!0;l&&a>i;i++)if(l[i].apply(r[0],r[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(c?c.length&&p(c.shift()):t?l=[]:u.disable())},u={add:function(){if(l){var s=l.length;!function r(n){rn.each(n,function(n,t){var s=rn.type(t);"function"===s?e.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==s&&r(t)})}(arguments),n?a=l.length:t&&(o=s,p(t))}return this},remove:function(){return l&&rn.each(arguments,function(e,t){for(var s;(s=rn.inArray(t,l,s))>-1;)l.splice(s,1),n&&(a>=s&&a--,i>=s&&i--)}),this},has:function(e){return e?rn.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||u.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||s&&!c||(t=t||[],t=[e,t.slice?t.slice():t],n?c.push(t):p(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!s}};return u},rn.extend({Deferred:function(e){var n=[["resolve","done",rn.Callbacks("once memory"),"resolved"],["reject","fail",rn.Callbacks("once memory"),"rejected"],["notify","progress",rn.Callbacks("memory")]],t="pending",s={state:function(){return t},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rn.Deferred(function(t){rn.each(n,function(n,r){var i=rn.isFunction(e[n])&&e[n];a[r[1]](function(){var e=i&&i.apply(this,arguments);e&&rn.isFunction(e.promise)?e.promise().done(t.resolve).fail(t.reject).progress(t.notify):t[r[0]+"With"](this===s?t.promise():this,i?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rn.extend(e,s):s}},a={};return s.pipe=s.then,rn.each(n,function(e,r){var i=r[2],o=r[3];s[r[1]]=i.add,o&&i.add(function(){t=o},n[1^e][2].disable,n[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?s:this,arguments),this},a[r[0]+"With"]=i.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){var n,t,s,a=0,r=X.call(arguments),i=r.length,o=1!==i||e&&rn.isFunction(e.promise)?i:0,l=1===o?e:rn.Deferred(),c=function(e,t,s){return function(a){t[e]=this,s[e]=arguments.length>1?X.call(arguments):a,s===n?l.notifyWith(t,s):--o||l.resolveWith(t,s)}};if(i>1)for(n=new Array(i),t=new Array(i),s=new Array(i);i>a;a++)r[a]&&rn.isFunction(r[a].promise)?r[a].promise().done(c(a,s,r)).fail(l.reject).progress(c(a,t,n)):--o;return o||l.resolveWith(s,r),l.promise()}});var xn;rn.fn.ready=function(e){return rn.ready.promise().done(e),this},rn.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rn.readyWait++:rn.ready(!0)},ready:function(e){if(e===!0?!--rn.readyWait:!rn.isReady){if(!vn.body)return setTimeout(rn.ready);rn.isReady=!0,e!==!0&&--rn.readyWait>0||(xn.resolveWith(vn,[rn]),rn.fn.trigger&&rn(vn).trigger("ready").off("ready"))}}}),rn.ready.promise=function(n){if(!xn)if(xn=rn.Deferred(),"complete"===vn.readyState)setTimeout(rn.ready);else if(vn.addEventListener)vn.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1);else{vn.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var t=!1;try{t=null==e.frameElement&&vn.documentElement}catch(s){}t&&t.doScroll&&!function a(){if(!rn.isReady){try{t.doScroll("left")}catch(e){return setTimeout(a,50)}i(),rn.ready()}}()}return xn.promise(n)};var Mn,Cn="undefined";for(Mn in rn(sn))break;sn.ownLast="0"!==Mn,sn.inlineBlockNeedsLayout=!1,rn(function(){var e,n,t=vn.getElementsByTagName("body")[0];t&&(e=vn.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",n=vn.createElement("div"),t.appendChild(e).appendChild(n),typeof n.style.zoom!==Cn&&(n.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(sn.inlineBlockNeedsLayout=3===n.offsetWidth)&&(t.style.zoom=1)),t.removeChild(e),e=n=null)}),function(){var e=vn.createElement("div");if(null==sn.deleteExpando){sn.deleteExpando=!0;try{delete e.test}catch(n){sn.deleteExpando=!1}}e=null}(),rn.acceptData=function(e){var n=rn.noData[(e.nodeName+" ").toLowerCase()],t=+e.nodeType||1;return 1!==t&&9!==t?!1:!n||n!==!0&&e.getAttribute("classid")===n};var Sn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nn=/([A-Z])/g;rn.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rn.cache[e[rn.expando]]:e[rn.expando],!!e&&!c(e)},data:function(e,n,t){return p(e,n,t)},removeData:function(e,n){return u(e,n)},_data:function(e,n,t){return p(e,n,t,!0)},_removeData:function(e,n){return u(e,n,!0)}}),rn.fn.extend({data:function(e,n){var t,s,a,r=this[0],i=r&&r.attributes;if(void 0===e){if(this.length&&(a=rn.data(r),1===r.nodeType&&!rn._data(r,"parsedAttrs"))){for(t=i.length;t--;)s=i[t].name,0===s.indexOf("data-")&&(s=rn.camelCase(s.slice(5)),l(r,s,a[s]));rn._data(r,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){rn.data(this,e)}):arguments.length>1?this.each(function(){rn.data(this,e,n)}):r?l(r,e,rn.data(r,e)):void 0},removeData:function(e){return this.each(function(){rn.removeData(this,e)})}}),rn.extend({queue:function(e,n,t){var s;return e?(n=(n||"fx")+"queue",s=rn._data(e,n),t&&(!s||rn.isArray(t)?s=rn._data(e,n,rn.makeArray(t)):s.push(t)),s||[]):void 0},dequeue:function(e,n){n=n||"fx";var t=rn.queue(e,n),s=t.length,a=t.shift(),r=rn._queueHooks(e,n),i=function(){rn.dequeue(e,n)};"inprogress"===a&&(a=t.shift(),s--),a&&("fx"===n&&t.unshift("inprogress"),delete r.stop,a.call(e,i,r)),!s&&r&&r.empty.fire()},_queueHooks:function(e,n){var t=n+"queueHooks";return rn._data(e,t)||rn._data(e,t,{empty:rn.Callbacks("once memory").add(function(){rn._removeData(e,n+"queue"),rn._removeData(e,t)})})}}),rn.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?rn.queue(this[0],e):void 0===n?this:this.each(function(){var t=rn.queue(this,e,n);rn._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&rn.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rn.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var t,s=1,a=rn.Deferred(),r=this,i=this.length,o=function(){--s||a.resolveWith(r,[r])};for("string"!=typeof e&&(n=e,e=void 0),e=e||"fx";i--;)t=rn._data(r[i],e+"queueHooks"),t&&t.empty&&(s++,t.empty.add(o));return o(),a.promise(n)}});var Tn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pn=["Top","Right","Bottom","Left"],_n=function(e,n){return e=n||e,"none"===rn.css(e,"display")||!rn.contains(e.ownerDocument,e)},En=rn.access=function(e,n,t,s,a,r,i){var o=0,l=e.length,c=null==t;if("object"===rn.type(t)){a=!0;for(o in t)rn.access(e,n,o,t[o],!0,r,i)}else if(void 0!==s&&(a=!0,rn.isFunction(s)||(i=!0),c&&(i?(n.call(e,s),n=null):(c=n,n=function(e,n,t){return c.call(rn(e),t)})),n))for(;l>o;o++)n(e[o],t,i?s:s.call(e[o],o,n(e[o],t)));return a?e:c?n.call(e):l?n(e[0],t):r},Rn=/^(?:checkbox|radio)$/i;!function(){var e=vn.createDocumentFragment(),n=vn.createElement("div"),t=vn.createElement("input");if(n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a>",sn.leadingWhitespace=3===n.firstChild.nodeType,sn.tbody=!n.getElementsByTagName("tbody").length,sn.htmlSerialize=!!n.getElementsByTagName("link").length,sn.html5Clone="<:nav></:nav>"!==vn.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,e.appendChild(t),sn.appendChecked=t.checked,n.innerHTML="<textarea>x</textarea>",sn.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,e.appendChild(n),n.innerHTML="<input type='radio' checked='checked' name='t'/>",sn.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,sn.noCloneEvent=!0,n.attachEvent&&(n.attachEvent("onclick",function(){sn.noCloneEvent=!1}),n.cloneNode(!0).click()),null==sn.deleteExpando){sn.deleteExpando=!0;try{delete n.test}catch(s){sn.deleteExpando=!1}}e=n=t=null}(),function(){var n,t,s=vn.createElement("div");for(n in{submit:!0,change:!0,focusin:!0})t="on"+n,(sn[n+"Bubbles"]=t in e)||(s.setAttribute(t,"t"),sn[n+"Bubbles"]=s.attributes[t].expando===!1);s=null}();var An=/^(?:input|select|textarea)$/i,Hn=/^key/,Ln=/^(?:mouse|contextmenu)|click/,Dn=/^(?:focusinfocus|focusoutblur)$/,On=/^([^.]*)(?:\.(.+)|)$/;rn.event={global:{},add:function(e,n,t,s,a){var r,i,o,l,c,p,u,d,h,f,m,v=rn._data(e);if(v){for(t.handler&&(l=t,t=l.handler,a=l.selector),t.guid||(t.guid=rn.guid++),(i=v.events)||(i=v.events={}),(p=v.handle)||(p=v.handle=function(e){return typeof rn===Cn||e&&rn.event.triggered===e.type?void 0:rn.event.dispatch.apply(p.elem,arguments)},p.elem=e),n=(n||"").match(jn)||[""],o=n.length;o--;)r=On.exec(n[o])||[],h=m=r[1],f=(r[2]||"").split(".").sort(),h&&(c=rn.event.special[h]||{},h=(a?c.delegateType:c.bindType)||h,c=rn.event.special[h]||{},u=rn.extend({type:h,origType:m,data:s,handler:t,guid:t.guid,selector:a,needsContext:a&&rn.expr.match.needsContext.test(a),namespace:f.join(".")},l),(d=i[h])||(d=i[h]=[],d.delegateCount=0,c.setup&&c.setup.call(e,s,f,p)!==!1||(e.addEventListener?e.addEventListener(h,p,!1):e.attachEvent&&e.attachEvent("on"+h,p))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=t.guid)),a?d.splice(d.delegateCount++,0,u):d.push(u),rn.event.global[h]=!0);e=null}},remove:function(e,n,t,s,a){var r,i,o,l,c,p,u,d,h,f,m,v=rn.hasData(e)&&rn._data(e);if(v&&(p=v.events)){for(n=(n||"").match(jn)||[""],c=n.length;c--;)if(o=On.exec(n[c])||[],h=m=o[1],f=(o[2]||"").split(".").sort(),h){for(u=rn.event.special[h]||{},h=(s?u.delegateType:u.bindType)||h,d=p[h]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)i=d[r],!a&&m!==i.origType||t&&t.guid!==i.guid||o&&!o.test(i.namespace)||s&&s!==i.selector&&("**"!==s||!i.selector)||(d.splice(r,1),i.selector&&d.delegateCount--,u.remove&&u.remove.call(e,i));
l&&!d.length&&(u.teardown&&u.teardown.call(e,f,v.handle)!==!1||rn.removeEvent(e,h,v.handle),delete p[h])}else for(h in p)rn.event.remove(e,h+n[c],t,s,!0);rn.isEmptyObject(p)&&(delete v.handle,rn._removeData(e,"events"))}},trigger:function(n,t,s,a){var r,i,o,l,c,p,u,d=[s||vn],h=nn.call(n,"type")?n.type:n,f=nn.call(n,"namespace")?n.namespace.split("."):[];if(o=p=s=s||vn,3!==s.nodeType&&8!==s.nodeType&&!Dn.test(h+rn.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),i=h.indexOf(":")<0&&"on"+h,n=n[rn.expando]?n:new rn.Event(h,"object"==typeof n&&n),n.isTrigger=a?2:3,n.namespace=f.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=void 0,n.target||(n.target=s),t=null==t?[n]:rn.makeArray(t,[n]),c=rn.event.special[h]||{},a||!c.trigger||c.trigger.apply(s,t)!==!1)){if(!a&&!c.noBubble&&!rn.isWindow(s)){for(l=c.delegateType||h,Dn.test(l+h)||(o=o.parentNode);o;o=o.parentNode)d.push(o),p=o;p===(s.ownerDocument||vn)&&d.push(p.defaultView||p.parentWindow||e)}for(u=0;(o=d[u++])&&!n.isPropagationStopped();)n.type=u>1?l:c.bindType||h,r=(rn._data(o,"events")||{})[n.type]&&rn._data(o,"handle"),r&&r.apply(o,t),r=i&&o[i],r&&r.apply&&rn.acceptData(o)&&(n.result=r.apply(o,t),n.result===!1&&n.preventDefault());if(n.type=h,!a&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),t)===!1)&&rn.acceptData(s)&&i&&s[h]&&!rn.isWindow(s)){p=s[i],p&&(s[i]=null),rn.event.triggered=h;try{s[h]()}catch(m){}rn.event.triggered=void 0,p&&(s[i]=p)}return n.result}},dispatch:function(e){e=rn.event.fix(e);var n,t,s,a,r,i=[],o=X.call(arguments),l=(rn._data(this,"events")||{})[e.type]||[],c=rn.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(i=rn.event.handlers.call(this,e,l),n=0;(a=i[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,r=0;(s=a.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,t=((rn.event.special[s.origType]||{}).handle||s.handler).apply(a.elem,o),void 0!==t&&(e.result=t)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var t,s,a,r,i=[],o=n.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(a=[],r=0;o>r;r++)s=n[r],t=s.selector+" ",void 0===a[t]&&(a[t]=s.needsContext?rn(t,this).index(l)>=0:rn.find(t,this,null,[l]).length),a[t]&&a.push(s);a.length&&i.push({elem:l,handlers:a})}return o<n.length&&i.push({elem:this,handlers:n.slice(o)}),i},fix:function(e){if(e[rn.expando])return e;var n,t,s,a=e.type,r=e,i=this.fixHooks[a];for(i||(this.fixHooks[a]=i=Ln.test(a)?this.mouseHooks:Hn.test(a)?this.keyHooks:{}),s=i.props?this.props.concat(i.props):this.props,e=new rn.Event(r),n=s.length;n--;)t=s[n],e[t]=r[t];return e.target||(e.target=r.srcElement||vn),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,n){return null==e.which&&(e.which=null!=n.charCode?n.charCode:n.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var t,s,a,r=n.button,i=n.fromElement;return null==e.pageX&&null!=n.clientX&&(s=e.target.ownerDocument||vn,a=s.documentElement,t=s.body,e.pageX=n.clientX+(a&&a.scrollLeft||t&&t.scrollLeft||0)-(a&&a.clientLeft||t&&t.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||t&&t.scrollTop||0)-(a&&a.clientTop||t&&t.clientTop||0)),!e.relatedTarget&&i&&(e.relatedTarget=i===e.target?n.toElement:i),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rn.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rn.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,n,t,s){var a=rn.extend(new rn.Event,t,{type:e,isSimulated:!0,originalEvent:{}});s?rn.event.trigger(a,null,n):rn.event.dispatch.call(n,a),a.isDefaultPrevented()&&t.preventDefault()}},rn.removeEvent=vn.removeEventListener?function(e,n,t){e.removeEventListener&&e.removeEventListener(n,t,!1)}:function(e,n,t){var s="on"+n;e.detachEvent&&(typeof e[s]===Cn&&(e[s]=null),e.detachEvent(s,t))},rn.Event=function(e,n){return this instanceof rn.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?d:h):this.type=e,n&&rn.extend(this,n),this.timeStamp=e&&e.timeStamp||rn.now(),void(this[rn.expando]=!0)):new rn.Event(e,n)},rn.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d,this.stopPropagation()}},rn.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,n){rn.event.special[e]={delegateType:n,bindType:n,handle:function(e){var t,s=this,a=e.relatedTarget,r=e.handleObj;return(!a||a!==s&&!rn.contains(s,a))&&(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=n),t}}}),sn.submitBubbles||(rn.event.special.submit={setup:function(){return rn.nodeName(this,"form")?!1:void rn.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,t=rn.nodeName(n,"input")||rn.nodeName(n,"button")?n.form:void 0;t&&!rn._data(t,"submitBubbles")&&(rn.event.add(t,"submit._submit",function(e){e._submit_bubble=!0}),rn._data(t,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rn.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rn.nodeName(this,"form")?!1:void rn.event.remove(this,"._submit")}}),sn.changeBubbles||(rn.event.special.change={setup:function(){return An.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rn.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rn.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rn.event.simulate("change",this,e,!0)})),!1):void rn.event.add(this,"beforeactivate._change",function(e){var n=e.target;An.test(n.nodeName)&&!rn._data(n,"changeBubbles")&&(rn.event.add(n,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rn.event.simulate("change",this.parentNode,e,!0)}),rn._data(n,"changeBubbles",!0))})},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rn.event.remove(this,"._change"),!An.test(this.nodeName)}}),sn.focusinBubbles||rn.each({focus:"focusin",blur:"focusout"},function(e,n){var t=function(e){rn.event.simulate(n,e.target,rn.event.fix(e),!0)};rn.event.special[n]={setup:function(){var s=this.ownerDocument||this,a=rn._data(s,n);a||s.addEventListener(e,t,!0),rn._data(s,n,(a||0)+1)},teardown:function(){var s=this.ownerDocument||this,a=rn._data(s,n)-1;a?rn._data(s,n,a):(s.removeEventListener(e,t,!0),rn._removeData(s,n))}}}),rn.fn.extend({on:function(e,n,t,s,a){var r,i;if("object"==typeof e){"string"!=typeof n&&(t=t||n,n=void 0);for(r in e)this.on(r,n,t,e[r],a);return this}if(null==t&&null==s?(s=n,t=n=void 0):null==s&&("string"==typeof n?(s=t,t=void 0):(s=t,t=n,n=void 0)),s===!1)s=h;else if(!s)return this;return 1===a&&(i=s,s=function(e){return rn().off(e),i.apply(this,arguments)},s.guid=i.guid||(i.guid=rn.guid++)),this.each(function(){rn.event.add(this,e,s,t,n)})},one:function(e,n,t,s){return this.on(e,n,t,s,1)},off:function(e,n,t){var s,a;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,rn(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(t=n,n=void 0),t===!1&&(t=h),this.each(function(){rn.event.remove(this,e,t,n)})},trigger:function(e,n){return this.each(function(){rn.event.trigger(e,n,this)})},triggerHandler:function(e,n){var t=this[0];return t?rn.event.trigger(e,n,t,!0):void 0}});var Fn="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",$n=/ jQuery\d+="(?:null|\d+)"/g,In=new RegExp("<(?:"+Fn+")[\\s/>]","i"),qn=/^\s+/,Bn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Vn=/<([\w:]+)/,Un=/<tbody/i,zn=/<|&#?\w+;/,Wn=/<(?:script|style|link)/i,Kn=/checked\s*(?:[^=]|=\s*.checked.)/i,Qn=/^$|\/(?:java|ecma)script/i,Xn=/^true\/(.*)/,Jn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:sn.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gn=m(vn),Zn=Gn.appendChild(vn.createElement("div"));Yn.optgroup=Yn.option,Yn.tbody=Yn.tfoot=Yn.colgroup=Yn.caption=Yn.thead,Yn.th=Yn.td,rn.extend({clone:function(e,n,t){var s,a,r,i,o,l=rn.contains(e.ownerDocument,e);if(sn.html5Clone||rn.isXMLDoc(e)||!In.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Zn.innerHTML=e.outerHTML,Zn.removeChild(r=Zn.firstChild)),!(sn.noCloneEvent&&sn.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rn.isXMLDoc(e)))for(s=v(r),o=v(e),i=0;null!=(a=o[i]);++i)s[i]&&x(a,s[i]);if(n)if(t)for(o=o||v(e),s=s||v(r),i=0;null!=(a=o[i]);i++)k(a,s[i]);else k(e,r);return s=v(r,"script"),s.length>0&&j(s,!l&&v(e,"script")),s=o=a=null,r},buildFragment:function(e,n,t,s){for(var a,r,i,o,l,c,p,u=e.length,d=m(n),h=[],f=0;u>f;f++)if(r=e[f],r||0===r)if("object"===rn.type(r))rn.merge(h,r.nodeType?[r]:r);else if(zn.test(r)){for(o=o||d.appendChild(n.createElement("div")),l=(Vn.exec(r)||["",""])[1].toLowerCase(),p=Yn[l]||Yn._default,o.innerHTML=p[1]+r.replace(Bn,"<$1></$2>")+p[2],a=p[0];a--;)o=o.lastChild;if(!sn.leadingWhitespace&&qn.test(r)&&h.push(n.createTextNode(qn.exec(r)[0])),!sn.tbody)for(r="table"!==l||Un.test(r)?"<table>"!==p[1]||Un.test(r)?0:o:o.firstChild,a=r&&r.childNodes.length;a--;)rn.nodeName(c=r.childNodes[a],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(rn.merge(h,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=d.lastChild}else h.push(n.createTextNode(r));for(o&&d.removeChild(o),sn.appendChecked||rn.grep(v(h,"input"),g),f=0;r=h[f++];)if((!s||-1===rn.inArray(r,s))&&(i=rn.contains(r.ownerDocument,r),o=v(d.appendChild(r),"script"),i&&j(o),t))for(a=0;r=o[a++];)Qn.test(r.type||"")&&t.push(r);return o=null,d},cleanData:function(e,n){for(var t,s,a,r,i=0,o=rn.expando,l=rn.cache,c=sn.deleteExpando,p=rn.event.special;null!=(t=e[i]);i++)if((n||rn.acceptData(t))&&(a=t[o],r=a&&l[a])){if(r.events)for(s in r.events)p[s]?rn.event.remove(t,s):rn.removeEvent(t,s,r.handle);l[a]&&(delete l[a],c?delete t[o]:typeof t.removeAttribute!==Cn?t.removeAttribute(o):t[o]=null,Q.push(a))}}}),rn.fn.extend({text:function(e){return En(this,function(e){return void 0===e?rn.text(this):this.empty().append((this[0]&&this[0].ownerDocument||vn).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var n=b(this,e);n.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var n=b(this,e);n.insertBefore(e,n.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,n){for(var t,s=e?rn.filter(e,this):this,a=0;null!=(t=s[a]);a++)n||1!==t.nodeType||rn.cleanData(v(t)),t.parentNode&&(n&&rn.contains(t.ownerDocument,t)&&j(v(t,"script")),t.parentNode.removeChild(t));return this},empty:function(){for(var e,n=0;null!=(e=this[n]);n++){for(1===e.nodeType&&rn.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rn.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,n){return e=null==e?!1:e,n=null==n?e:n,this.map(function(){return rn.clone(this,e,n)})},html:function(e){return En(this,function(e){var n=this[0]||{},t=0,s=this.length;if(void 0===e)return 1===n.nodeType?n.innerHTML.replace($n,""):void 0;if(!("string"!=typeof e||Wn.test(e)||!sn.htmlSerialize&&In.test(e)||!sn.leadingWhitespace&&qn.test(e)||Yn[(Vn.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Bn,"<$1></$2>");try{for(;s>t;t++)n=this[t]||{},1===n.nodeType&&(rn.cleanData(v(n,!1)),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(n){e=this.parentNode,rn.cleanData(v(this)),e&&e.replaceChild(n,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,n){e=J.apply([],e);var t,s,a,r,i,o,l=0,c=this.length,p=this,u=c-1,d=e[0],h=rn.isFunction(d);if(h||c>1&&"string"==typeof d&&!sn.checkClone&&Kn.test(d))return this.each(function(t){var s=p.eq(t);h&&(e[0]=d.call(this,t,s.html())),s.domManip(e,n)});if(c&&(o=rn.buildFragment(e,this[0].ownerDocument,!1,this),t=o.firstChild,1===o.childNodes.length&&(o=t),t)){for(r=rn.map(v(o,"script"),y),a=r.length;c>l;l++)s=o,l!==u&&(s=rn.clone(s,!0,!0),a&&rn.merge(r,v(s,"script"))),n.call(this[l],s,l);if(a)for(i=r[r.length-1].ownerDocument,rn.map(r,w),l=0;a>l;l++)s=r[l],Qn.test(s.type||"")&&!rn._data(s,"globalEval")&&rn.contains(i,s)&&(s.src?rn._evalUrl&&rn._evalUrl(s.src):rn.globalEval((s.text||s.textContent||s.innerHTML||"").replace(Jn,"")));o=t=null}return this}}),rn.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,n){rn.fn[e]=function(e){for(var t,s=0,a=[],r=rn(e),i=r.length-1;i>=s;s++)t=s===i?this:this.clone(!0),rn(r[s])[n](t),Y.apply(a,t.get());return this.pushStack(a)}});var et,nt={};!function(){var e,n,t=vn.createElement("div"),s="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=t.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",sn.opacity=/^0.5/.test(e.style.opacity),sn.cssFloat=!!e.style.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",sn.clearCloneStyle="content-box"===t.style.backgroundClip,e=t=null,sn.shrinkWrapBlocks=function(){var e,t,a,r;if(null==n){if(e=vn.getElementsByTagName("body")[0],!e)return;r="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",t=vn.createElement("div"),a=vn.createElement("div"),e.appendChild(t).appendChild(a),n=!1,typeof a.style.zoom!==Cn&&(a.style.cssText=s+";width:1px;padding:1px;zoom:1",a.innerHTML="<div></div>",a.firstChild.style.width="5px",n=3!==a.offsetWidth),e.removeChild(t),e=t=a=null}return n}}();var tt,st,at=/^margin/,rt=new RegExp("^("+Tn+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(tt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},st=function(e,n,t){var s,a,r,i,o=e.style;return t=t||tt(e),i=t?t.getPropertyValue(n)||t[n]:void 0,t&&(""!==i||rn.contains(e.ownerDocument,e)||(i=rn.style(e,n)),rt.test(i)&&at.test(n)&&(s=o.width,a=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=i,i=t.width,o.width=s,o.minWidth=a,o.maxWidth=r)),void 0===i?i:i+""}):vn.documentElement.currentStyle&&(tt=function(e){return e.currentStyle},st=function(e,n,t){var s,a,r,i,o=e.style;return t=t||tt(e),i=t?t[n]:void 0,null==i&&o&&o[n]&&(i=o[n]),rt.test(i)&&!it.test(n)&&(s=o.left,a=e.runtimeStyle,r=a&&a.left,r&&(a.left=e.currentStyle.left),o.left="fontSize"===n?"1em":i,i=o.pixelLeft+"px",o.left=s,r&&(a.left=r)),void 0===i?i:i+""||"auto"}),function(){function n(){var n,t,s=vn.getElementsByTagName("body")[0];s&&(n=vn.createElement("div"),t=vn.createElement("div"),n.style.cssText=c,s.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",rn.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){a=4===t.offsetWidth}),r=!0,i=!1,o=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(t,null)||{}).top,r="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width),s.removeChild(n),t=s=null)}var t,s,a,r,i,o,l=vn.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",p="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=l.getElementsByTagName("a")[0],t.style.cssText="float:left;opacity:.5",sn.opacity=/^0.5/.test(t.style.opacity),sn.cssFloat=!!t.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",sn.clearCloneStyle="content-box"===l.style.backgroundClip,t=l=null,rn.extend(sn,{reliableHiddenOffsets:function(){if(null!=s)return s;var e,n,t,a=vn.createElement("div"),r=vn.getElementsByTagName("body")[0];if(r)return a.setAttribute("className","t"),a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=vn.createElement("div"),e.style.cssText=c,r.appendChild(e).appendChild(a),a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",n=a.getElementsByTagName("td"),n[0].style.cssText="padding:0;margin:0;border:0;display:none",t=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",s=t&&0===n[0].offsetHeight,r.removeChild(e),a=r=null,s},boxSizing:function(){return null==a&&n(),a},boxSizingReliable:function(){return null==r&&n(),r},pixelPosition:function(){return null==i&&n(),i},reliableMarginRight:function(){var n,t,s,a;if(null==o&&e.getComputedStyle){if(n=vn.getElementsByTagName("body")[0],!n)return;t=vn.createElement("div"),s=vn.createElement("div"),t.style.cssText=c,n.appendChild(t).appendChild(s),a=s.appendChild(vn.createElement("div")),a.style.cssText=s.style.cssText=p,a.style.marginRight=a.style.width="0",s.style.width="1px",o=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight),n.removeChild(t)}return o}})}(),rn.swap=function(e,n,t,s){var a,r,i={};for(r in n)i[r]=e.style[r],e.style[r]=n[r];a=t.apply(e,s||[]);for(r in n)e.style[r]=i[r];return a};var ot=/alpha\([^)]*\)/i,lt=/opacity\s*=\s*([^)]*)/,ct=/^(none|table(?!-c[ea]).+)/,pt=new RegExp("^("+Tn+")(.*)$","i"),ut=new RegExp("^([+-])=("+Tn+")","i"),dt={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:0,fontWeight:400},ft=["Webkit","O","Moz","ms"];rn.extend({cssHooks:{opacity:{get:function(e,n){if(n){var t=st(e,"opacity");return""===t?"1":t}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":sn.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,t,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,i,o=rn.camelCase(n),l=e.style;if(n=rn.cssProps[o]||(rn.cssProps[o]=N(l,o)),i=rn.cssHooks[n]||rn.cssHooks[o],void 0===t)return i&&"get"in i&&void 0!==(a=i.get(e,!1,s))?a:l[n];if(r=typeof t,"string"===r&&(a=ut.exec(t))&&(t=(a[1]+1)*a[2]+parseFloat(rn.css(e,n)),r="number"),null!=t&&t===t&&("number"!==r||rn.cssNumber[o]||(t+="px"),sn.clearCloneStyle||""!==t||0!==n.indexOf("background")||(l[n]="inherit"),!(i&&"set"in i&&void 0===(t=i.set(e,t,s)))))try{l[n]="",l[n]=t}catch(c){}}},css:function(e,n,t,s){var a,r,i,o=rn.camelCase(n);return n=rn.cssProps[o]||(rn.cssProps[o]=N(e.style,o)),i=rn.cssHooks[n]||rn.cssHooks[o],i&&"get"in i&&(r=i.get(e,!0,t)),void 0===r&&(r=st(e,n,s)),"normal"===r&&n in ht&&(r=ht[n]),""===t||t?(a=parseFloat(r),t===!0||rn.isNumeric(a)?a||0:r):r}}),rn.each(["height","width"],function(e,n){rn.cssHooks[n]={get:function(e,t,s){return t?0===e.offsetWidth&&ct.test(rn.css(e,"display"))?rn.swap(e,dt,function(){return E(e,n,s)}):E(e,n,s):void 0},set:function(e,t,s){var a=s&&tt(e);return P(e,t,s?_(e,n,s,sn.boxSizing()&&"border-box"===rn.css(e,"boxSizing",!1,a),a):0)}}}),sn.opacity||(rn.cssHooks.opacity={get:function(e,n){return lt.test((n&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":n?"1":""},set:function(e,n){var t=e.style,s=e.currentStyle,a=rn.isNumeric(n)?"alpha(opacity="+100*n+")":"",r=s&&s.filter||t.filter||"";t.zoom=1,(n>=1||""===n)&&""===rn.trim(r.replace(ot,""))&&t.removeAttribute&&(t.removeAttribute("filter"),""===n||s&&!s.filter)||(t.filter=ot.test(r)?r.replace(ot,a):r+" "+a)}}),rn.cssHooks.marginRight=S(sn.reliableMarginRight,function(e,n){return n?rn.swap(e,{display:"inline-block"},st,[e,"marginRight"]):void 0}),rn.each({margin:"",padding:"",border:"Width"},function(e,n){rn.cssHooks[e+n]={expand:function(t){for(var s=0,a={},r="string"==typeof t?t.split(" "):[t];4>s;s++)a[e+Pn[s]+n]=r[s]||r[s-2]||r[0];return a}},at.test(e)||(rn.cssHooks[e+n].set=P)}),rn.fn.extend({css:function(e,n){return En(this,function(e,n,t){var s,a,r={},i=0;if(rn.isArray(n)){for(s=tt(e),a=n.length;a>i;i++)r[n[i]]=rn.css(e,n[i],!1,s);return r}return void 0!==t?rn.style(e,n,t):rn.css(e,n)},e,n,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_n(this)?rn(this).show():rn(this).hide()})}}),rn.Tween=R,R.prototype={constructor:R,init:function(e,n,t,s,a,r){this.elem=e,this.prop=t,this.easing=a||"swing",this.options=n,this.start=this.now=this.cur(),this.end=s,this.unit=r||(rn.cssNumber[t]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var n,t=R.propHooks[this.prop];return this.pos=n=this.options.duration?rn.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var n;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(n=rn.css(e.elem,e.prop,""),n&&"auto"!==n?n:0):e.elem[e.prop]},set:function(e){rn.fx.step[e.prop]?rn.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rn.cssProps[e.prop]]||rn.cssHooks[e.prop])?rn.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rn.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rn.fx=R.prototype.init,rn.fx.step={};var mt,vt,gt=/^(?:toggle|show|hide)$/,bt=new RegExp("^(?:([+-])=|)("+Tn+")([a-z%]*)$","i"),yt=/queueHooks$/,wt=[D],jt={"*":[function(e,n){var t=this.createTween(e,n),s=t.cur(),a=bt.exec(n),r=a&&a[3]||(rn.cssNumber[e]?"":"px"),i=(rn.cssNumber[e]||"px"!==r&&+s)&&bt.exec(rn.css(t.elem,e)),o=1,l=20;if(i&&i[3]!==r){r=r||i[3],a=a||[],i=+s||1;do o=o||".5",i/=o,rn.style(t.elem,e,i+r);while(o!==(o=t.cur()/s)&&1!==o&&--l)}return a&&(i=t.start=+i||+s||0,t.unit=r,t.end=a[1]?i+(a[1]+1)*a[2]:+a[2]),t}]};rn.Animation=rn.extend(F,{tweener:function(e,n){rn.isFunction(e)?(n=e,e=["*"]):e=e.split(" ");for(var t,s=0,a=e.length;a>s;s++)t=e[s],jt[t]=jt[t]||[],jt[t].unshift(n)},prefilter:function(e,n){n?wt.unshift(e):wt.push(e)}}),rn.speed=function(e,n,t){var s=e&&"object"==typeof e?rn.extend({},e):{complete:t||!t&&n||rn.isFunction(e)&&e,duration:e,easing:t&&n||n&&!rn.isFunction(n)&&n};return s.duration=rn.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in rn.fx.speeds?rn.fx.speeds[s.duration]:rn.fx.speeds._default,(null==s.queue||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){rn.isFunction(s.old)&&s.old.call(this),s.queue&&rn.dequeue(this,s.queue)},s},rn.fn.extend({fadeTo:function(e,n,t,s){return this.filter(_n).css("opacity",0).show().end().animate({opacity:n},e,t,s)},animate:function(e,n,t,s){var a=rn.isEmptyObject(e),r=rn.speed(n,t,s),i=function(){var n=F(this,rn.extend({},e),r);(a||rn._data(this,"finish"))&&n.stop(!0)};return i.finish=i,a||r.queue===!1?this.each(i):this.queue(r.queue,i)},stop:function(e,n,t){var s=function(e){var n=e.stop;delete e.stop,n(t)};return"string"!=typeof e&&(t=n,n=e,e=void 0),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var n=!0,a=null!=e&&e+"queueHooks",r=rn.timers,i=rn._data(this);if(a)i[a]&&i[a].stop&&s(i[a]);else for(a in i)i[a]&&i[a].stop&&yt.test(a)&&s(i[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(t),n=!1,r.splice(a,1));(n||!t)&&rn.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var n,t=rn._data(this),s=t[e+"queue"],a=t[e+"queueHooks"],r=rn.timers,i=s?s.length:0;for(t.finish=!0,rn.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),n=r.length;n--;)r[n].elem===this&&r[n].queue===e&&(r[n].anim.stop(!0),r.splice(n,1));for(n=0;i>n;n++)s[n]&&s[n].finish&&s[n].finish.call(this);delete t.finish})}}),rn.each(["toggle","show","hide"],function(e,n){var t=rn.fn[n];rn.fn[n]=function(e,s,a){return null==e||"boolean"==typeof e?t.apply(this,arguments):this.animate(H(n,!0),e,s,a)}}),rn.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){rn.fn[e]=function(e,t,s){return this.animate(n,e,t,s)}}),rn.timers=[],rn.fx.tick=function(){var e,n=rn.timers,t=0;for(mt=rn.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||rn.fx.stop(),mt=void 0},rn.fx.timer=function(e){rn.timers.push(e),e()?rn.fx.start():rn.timers.pop()},rn.fx.interval=13,rn.fx.start=function(){vt||(vt=setInterval(rn.fx.tick,rn.fx.interval))},rn.fx.stop=function(){clearInterval(vt),vt=null},rn.fx.speeds={slow:600,fast:200,_default:400},rn.fn.delay=function(e,n){return e=rn.fx?rn.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,t){var s=setTimeout(n,e);t.stop=function(){clearTimeout(s)}})},function(){var e,n,t,s,a=vn.createElement("div");a.setAttribute("className","t"),a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=a.getElementsByTagName("a")[0],t=vn.createElement("select"),s=t.appendChild(vn.createElement("option")),n=a.getElementsByTagName("input")[0],e.style.cssText="top:1px",sn.getSetAttribute="t"!==a.className,sn.style=/top/.test(e.getAttribute("style")),sn.hrefNormalized="/a"===e.getAttribute("href"),sn.checkOn=!!n.value,sn.optSelected=s.selected,sn.enctype=!!vn.createElement("form").enctype,t.disabled=!0,sn.optDisabled=!s.disabled,n=vn.createElement("input"),n.setAttribute("value",""),sn.input=""===n.getAttribute("value"),n.value="t",n.setAttribute("type","radio"),sn.radioValue="t"===n.value,e=n=t=s=a=null}();var kt=/\r/g;rn.fn.extend({val:function(e){var n,t,s,a=this[0];{if(arguments.length)return s=rn.isFunction(e),this.each(function(t){var a;1===this.nodeType&&(a=s?e.call(this,t,rn(this).val()):e,null==a?a="":"number"==typeof a?a+="":rn.isArray(a)&&(a=rn.map(a,function(e){return null==e?"":e+""})),n=rn.valHooks[this.type]||rn.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&void 0!==n.set(this,a,"value")||(this.value=a))});if(a)return n=rn.valHooks[a.type]||rn.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(t=n.get(a,"value"))?t:(t=a.value,"string"==typeof t?t.replace(kt,""):null==t?"":t)}}}),rn.extend({valHooks:{option:{get:function(e){var n=rn.find.attr(e,"value");return null!=n?n:rn.text(e)}},select:{get:function(e){for(var n,t,s=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,i=r?null:[],o=r?a+1:s.length,l=0>a?o:r?a:0;o>l;l++)if(t=s[l],!(!t.selected&&l!==a||(sn.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&rn.nodeName(t.parentNode,"optgroup"))){if(n=rn(t).val(),r)return n;i.push(n)}return i},set:function(e,n){for(var t,s,a=e.options,r=rn.makeArray(n),i=a.length;i--;)if(s=a[i],rn.inArray(rn.valHooks.option.get(s),r)>=0)try{s.selected=t=!0}catch(o){s.scrollHeight}else s.selected=!1;return t||(e.selectedIndex=-1),a}}}}),rn.each(["radio","checkbox"],function(){rn.valHooks[this]={set:function(e,n){return rn.isArray(n)?e.checked=rn.inArray(rn(e).val(),n)>=0:void 0}},sn.checkOn||(rn.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt,Mt,Ct=rn.expr.attrHandle,St=/^(?:checked|selected)$/i,Nt=sn.getSetAttribute,Tt=sn.input;rn.fn.extend({attr:function(e,n){return En(this,rn.attr,e,n,arguments.length>1)},removeAttr:function(e){return this.each(function(){rn.removeAttr(this,e)})}}),rn.extend({attr:function(e,n,t){var s,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Cn?rn.prop(e,n,t):(1===r&&rn.isXMLDoc(e)||(n=n.toLowerCase(),s=rn.attrHooks[n]||(rn.expr.match.bool.test(n)?Mt:xt)),void 0===t?s&&"get"in s&&null!==(a=s.get(e,n))?a:(a=rn.find.attr(e,n),null==a?void 0:a):null!==t?s&&"set"in s&&void 0!==(a=s.set(e,t,n))?a:(e.setAttribute(n,t+""),t):void rn.removeAttr(e,n))},removeAttr:function(e,n){var t,s,a=0,r=n&&n.match(jn);if(r&&1===e.nodeType)for(;t=r[a++];)s=rn.propFix[t]||t,rn.expr.match.bool.test(t)?Tt&&Nt||!St.test(t)?e[s]=!1:e[rn.camelCase("default-"+t)]=e[s]=!1:rn.attr(e,t,""),e.removeAttribute(Nt?t:s)},attrHooks:{type:{set:function(e,n){if(!sn.radioValue&&"radio"===n&&rn.nodeName(e,"input")){var t=e.value;return e.setAttribute("type",n),t&&(e.value=t),n}}}}}),Mt={set:function(e,n,t){return n===!1?rn.removeAttr(e,t):Tt&&Nt||!St.test(t)?e.setAttribute(!Nt&&rn.propFix[t]||t,t):e[rn.camelCase("default-"+t)]=e[t]=!0,t}},rn.each(rn.expr.match.bool.source.match(/\w+/g),function(e,n){var t=Ct[n]||rn.find.attr;Ct[n]=Tt&&Nt||!St.test(n)?function(e,n,s){var a,r;return s||(r=Ct[n],Ct[n]=a,a=null!=t(e,n,s)?n.toLowerCase():null,Ct[n]=r),a}:function(e,n,t){return t?void 0:e[rn.camelCase("default-"+n)]?n.toLowerCase():null}}),Tt&&Nt||(rn.attrHooks.value={set:function(e,n,t){return rn.nodeName(e,"input")?void(e.defaultValue=n):xt&&xt.set(e,n,t)}}),Nt||(xt={set:function(e,n,t){var s=e.getAttributeNode(t);return s||e.setAttributeNode(s=e.ownerDocument.createAttribute(t)),s.value=n+="","value"===t||n===e.getAttribute(t)?n:void 0}},Ct.id=Ct.name=Ct.coords=function(e,n,t){var s;return t?void 0:(s=e.getAttributeNode(n))&&""!==s.value?s.value:null},rn.valHooks.button={get:function(e,n){var t=e.getAttributeNode(n);return t&&t.specified?t.value:void 0},set:xt.set},rn.attrHooks.contenteditable={set:function(e,n,t){xt.set(e,""===n?!1:n,t)}},rn.each(["width","height"],function(e,n){rn.attrHooks[n]={set:function(e,t){return""===t?(e.setAttribute(n,"auto"),t):void 0}}})),sn.style||(rn.attrHooks.style={get:function(e){return e.style.cssText||void 0
},set:function(e,n){return e.style.cssText=n+""}});var Pt=/^(?:input|select|textarea|button|object)$/i,_t=/^(?:a|area)$/i;rn.fn.extend({prop:function(e,n){return En(this,rn.prop,e,n,arguments.length>1)},removeProp:function(e){return e=rn.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(n){}})}}),rn.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,t){var s,a,r,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return r=1!==i||!rn.isXMLDoc(e),r&&(n=rn.propFix[n]||n,a=rn.propHooks[n]),void 0!==t?a&&"set"in a&&void 0!==(s=a.set(e,t,n))?s:e[n]=t:a&&"get"in a&&null!==(s=a.get(e,n))?s:e[n]},propHooks:{tabIndex:{get:function(e){var n=rn.find.attr(e,"tabindex");return n?parseInt(n,10):Pt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}}}),sn.hrefNormalized||rn.each(["href","src"],function(e,n){rn.propHooks[n]={get:function(e){return e.getAttribute(n,4)}}}),sn.optSelected||(rn.propHooks.selected={get:function(e){var n=e.parentNode;return n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex),null}}),rn.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rn.propFix[this.toLowerCase()]=this}),sn.enctype||(rn.propFix.enctype="encoding");var Et=/[\t\r\n\f]/g;rn.fn.extend({addClass:function(e){var n,t,s,a,r,i,o=0,l=this.length,c="string"==typeof e&&e;if(rn.isFunction(e))return this.each(function(n){rn(this).addClass(e.call(this,n,this.className))});if(c)for(n=(e||"").match(jn)||[];l>o;o++)if(t=this[o],s=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(Et," "):" ")){for(r=0;a=n[r++];)s.indexOf(" "+a+" ")<0&&(s+=a+" ");i=rn.trim(s),t.className!==i&&(t.className=i)}return this},removeClass:function(e){var n,t,s,a,r,i,o=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(rn.isFunction(e))return this.each(function(n){rn(this).removeClass(e.call(this,n,this.className))});if(c)for(n=(e||"").match(jn)||[];l>o;o++)if(t=this[o],s=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(Et," "):"")){for(r=0;a=n[r++];)for(;s.indexOf(" "+a+" ")>=0;)s=s.replace(" "+a+" "," ");i=e?rn.trim(s):"",t.className!==i&&(t.className=i)}return this},toggleClass:function(e,n){var t=typeof e;return"boolean"==typeof n&&"string"===t?n?this.addClass(e):this.removeClass(e):this.each(rn.isFunction(e)?function(t){rn(this).toggleClass(e.call(this,t,this.className,n),n)}:function(){if("string"===t)for(var n,s=0,a=rn(this),r=e.match(jn)||[];n=r[s++];)a.hasClass(n)?a.removeClass(n):a.addClass(n);else(t===Cn||"boolean"===t)&&(this.className&&rn._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rn._data(this,"__className__")||"")})},hasClass:function(e){for(var n=" "+e+" ",t=0,s=this.length;s>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(Et," ").indexOf(n)>=0)return!0;return!1}}),rn.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){rn.fn[n]=function(e,t){return arguments.length>0?this.on(n,null,e,t):this.trigger(n)}}),rn.fn.extend({hover:function(e,n){return this.mouseenter(e).mouseleave(n||e)},bind:function(e,n,t){return this.on(e,null,n,t)},unbind:function(e,n){return this.off(e,null,n)},delegate:function(e,n,t,s){return this.on(n,e,t,s)},undelegate:function(e,n,t){return 1===arguments.length?this.off(e,"**"):this.off(n,e||"**",t)}});var Rt=rn.now(),At=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rn.parseJSON=function(n){if(e.JSON&&e.JSON.parse)return e.JSON.parse(n+"");var t,s=null,a=rn.trim(n+"");return a&&!rn.trim(a.replace(Ht,function(e,n,a,r){return t&&n&&(s=0),0===s?e:(t=a||n,s+=!r-!a,"")}))?Function("return "+a)():rn.error("Invalid JSON: "+n)},rn.parseXML=function(n){var t,s;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(s=new DOMParser,t=s.parseFromString(n,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n))}catch(a){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||rn.error("Invalid XML: "+n),t};var Lt,Dt,Ot=/#.*$/,Ft=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,It=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ut={},zt={},Wt="*/".concat("*");try{Dt=location.href}catch(Kt){Dt=vn.createElement("a"),Dt.href="",Dt=Dt.href}Lt=Vt.exec(Dt.toLowerCase())||[],rn.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt,type:"GET",isLocal:It.test(Lt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rn.parseJSON,"text xml":rn.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,n){return n?q(q(e,rn.ajaxSettings),n):q(rn.ajaxSettings,e)},ajaxPrefilter:$(Ut),ajaxTransport:$(zt),ajax:function(e,n){function t(e,n,t,s){var a,p,g,b,w,k=n;2!==y&&(y=2,o&&clearTimeout(o),c=void 0,i=s||"",j.readyState=e>0?4:0,a=e>=200&&300>e||304===e,t&&(b=B(u,j,t)),b=V(u,b,j,a),a?(u.ifModified&&(w=j.getResponseHeader("Last-Modified"),w&&(rn.lastModified[r]=w),w=j.getResponseHeader("etag"),w&&(rn.etag[r]=w)),204===e||"HEAD"===u.type?k="nocontent":304===e?k="notmodified":(k=b.state,p=b.data,g=b.error,a=!g)):(g=k,(e||!k)&&(k="error",0>e&&(e=0))),j.status=e,j.statusText=(n||k)+"",a?f.resolveWith(d,[p,k,j]):f.rejectWith(d,[j,k,g]),j.statusCode(v),v=void 0,l&&h.trigger(a?"ajaxSuccess":"ajaxError",[j,u,a?p:g]),m.fireWith(d,[j,k]),l&&(h.trigger("ajaxComplete",[j,u]),--rn.active||rn.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var s,a,r,i,o,l,c,p,u=rn.ajaxSetup({},n),d=u.context||u,h=u.context&&(d.nodeType||d.jquery)?rn(d):rn.event,f=rn.Deferred(),m=rn.Callbacks("once memory"),v=u.statusCode||{},g={},b={},y=0,w="canceled",j={readyState:0,getResponseHeader:function(e){var n;if(2===y){if(!p)for(p={};n=$t.exec(i);)p[n[1].toLowerCase()]=n[2];n=p[e.toLowerCase()]}return null==n?null:n},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,n){var t=e.toLowerCase();return y||(e=b[t]=b[t]||e,g[e]=n),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var n;if(e)if(2>y)for(n in e)v[n]=[v[n],e[n]];else j.always(e[j.status]);return this},abort:function(e){var n=e||w;return c&&c.abort(n),t(0,n),this}};if(f.promise(j).complete=m.add,j.success=j.done,j.error=j.fail,u.url=((e||u.url||Dt)+"").replace(Ot,"").replace(Bt,Lt[1]+"//"),u.type=n.method||n.type||u.method||u.type,u.dataTypes=rn.trim(u.dataType||"*").toLowerCase().match(jn)||[""],null==u.crossDomain&&(s=Vt.exec(u.url.toLowerCase()),u.crossDomain=!(!s||s[1]===Lt[1]&&s[2]===Lt[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(Lt[3]||("http:"===Lt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=rn.param(u.data,u.traditional)),I(Ut,u,n,j),2===y)return j;l=u.global,l&&0===rn.active++&&rn.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!qt.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(At.test(r)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=Ft.test(r)?r.replace(Ft,"$1_="+Rt++):r+(At.test(r)?"&":"?")+"_="+Rt++)),u.ifModified&&(rn.lastModified[r]&&j.setRequestHeader("If-Modified-Since",rn.lastModified[r]),rn.etag[r]&&j.setRequestHeader("If-None-Match",rn.etag[r])),(u.data&&u.hasContent&&u.contentType!==!1||n.contentType)&&j.setRequestHeader("Content-Type",u.contentType),j.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Wt+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)j.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(d,j,u)===!1||2===y))return j.abort();w="abort";for(a in{success:1,error:1,complete:1})j[a](u[a]);if(c=I(zt,u,n,j)){j.readyState=1,l&&h.trigger("ajaxSend",[j,u]),u.async&&u.timeout>0&&(o=setTimeout(function(){j.abort("timeout")},u.timeout));try{y=1,c.send(g,t)}catch(k){if(!(2>y))throw k;t(-1,k)}}else t(-1,"No Transport");return j},getJSON:function(e,n,t){return rn.get(e,n,t,"json")},getScript:function(e,n){return rn.get(e,void 0,n,"script")}}),rn.each(["get","post"],function(e,n){rn[n]=function(e,t,s,a){return rn.isFunction(t)&&(a=a||s,s=t,t=void 0),rn.ajax({url:e,type:n,dataType:a,data:t,success:s})}}),rn.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,n){rn.fn[n]=function(e){return this.on(n,e)}}),rn._evalUrl=function(e){return rn.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rn.fn.extend({wrapAll:function(e){if(rn.isFunction(e))return this.each(function(n){rn(this).wrapAll(e.call(this,n))});if(this[0]){var n=rn(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rn.isFunction(e)?function(n){rn(this).wrapInner(e.call(this,n))}:function(){var n=rn(this),t=n.contents();t.length?t.wrapAll(e):n.append(e)})},wrap:function(e){var n=rn.isFunction(e);return this.each(function(t){rn(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){rn.nodeName(this,"body")||rn(this).replaceWith(this.childNodes)}).end()}}),rn.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!sn.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rn.css(e,"display"))},rn.expr.filters.visible=function(e){return!rn.expr.filters.hidden(e)};var Qt=/%20/g,Xt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Gt=/^(?:input|select|textarea|keygen)/i;rn.param=function(e,n){var t,s=[],a=function(e,n){n=rn.isFunction(n)?n():null==n?"":n,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};if(void 0===n&&(n=rn.ajaxSettings&&rn.ajaxSettings.traditional),rn.isArray(e)||e.jquery&&!rn.isPlainObject(e))rn.each(e,function(){a(this.name,this.value)});else for(t in e)U(t,e[t],n,a);return s.join("&").replace(Qt,"+")},rn.fn.extend({serialize:function(){return rn.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rn.prop(this,"elements");return e?rn.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rn(this).is(":disabled")&&Gt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!Rn.test(e))}).map(function(e,n){var t=rn(this).val();return null==t?null:rn.isArray(t)?rn.map(t,function(e){return{name:n.name,value:e.replace(Jt,"\r\n")}}):{name:n.name,value:t.replace(Jt,"\r\n")}}).get()}}),rn.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&z()||W()}:z;var Zt=0,es={},ns=rn.ajaxSettings.xhr();e.ActiveXObject&&rn(e).on("unload",function(){for(var e in es)es[e](void 0,!0)}),sn.cors=!!ns&&"withCredentials"in ns,ns=sn.ajax=!!ns,ns&&rn.ajaxTransport(function(e){if(!e.crossDomain||sn.cors){var n;return{send:function(t,s){var a,r=e.xhr(),i=++Zt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)r[a]=e.xhrFields[a];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest");for(a in t)void 0!==t[a]&&r.setRequestHeader(a,t[a]+"");r.send(e.hasContent&&e.data||null),n=function(t,a){var o,l,c;if(n&&(a||4===r.readyState))if(delete es[i],n=void 0,r.onreadystatechange=rn.noop,a)4!==r.readyState&&r.abort();else{c={},o=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(p){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&s(o,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(n):r.onreadystatechange=es[i]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),rn.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rn.globalEval(e),e}}}),rn.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rn.ajaxTransport("script",function(e){if(e.crossDomain){var n,t=vn.head||rn("head")[0]||vn.documentElement;return{send:function(s,a){n=vn.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||a(200,"success"))},t.insertBefore(n,t.firstChild)},abort:function(){n&&n.onload(void 0,!0)}}}});var ts=[],ss=/(=)\?(?=&|$)|\?\?/;rn.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ts.pop()||rn.expando+"_"+Rt++;return this[e]=!0,e}}),rn.ajaxPrefilter("json jsonp",function(n,t,s){var a,r,i,o=n.jsonp!==!1&&(ss.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&ss.test(n.data)&&"data");return o||"jsonp"===n.dataTypes[0]?(a=n.jsonpCallback=rn.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o?n[o]=n[o].replace(ss,"$1"+a):n.jsonp!==!1&&(n.url+=(At.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return i||rn.error(a+" was not called"),i[0]},n.dataTypes[0]="json",r=e[a],e[a]=function(){i=arguments},s.always(function(){e[a]=r,n[a]&&(n.jsonpCallback=t.jsonpCallback,ts.push(a)),i&&rn.isFunction(r)&&r(i[0]),i=r=void 0}),"script"):void 0}),rn.parseHTML=function(e,n,t){if(!e||"string"!=typeof e)return null;"boolean"==typeof n&&(t=n,n=!1),n=n||vn;var s=hn.exec(e),a=!t&&[];return s?[n.createElement(s[1])]:(s=rn.buildFragment([e],n,a),a&&a.length&&rn(a).remove(),rn.merge([],s.childNodes))};var as=rn.fn.load;rn.fn.load=function(e,n,t){if("string"!=typeof e&&as)return as.apply(this,arguments);var s,a,r,i=this,o=e.indexOf(" ");return o>=0&&(s=e.slice(o,e.length),e=e.slice(0,o)),rn.isFunction(n)?(t=n,n=void 0):n&&"object"==typeof n&&(r="POST"),i.length>0&&rn.ajax({url:e,type:r,dataType:"html",data:n}).done(function(e){a=arguments,i.html(s?rn("<div>").append(rn.parseHTML(e)).find(s):e)}).complete(t&&function(e,n){i.each(t,a||[e.responseText,n,e])}),this},rn.expr.filters.animated=function(e){return rn.grep(rn.timers,function(n){return e===n.elem}).length};var rs=e.document.documentElement;rn.offset={setOffset:function(e,n,t){var s,a,r,i,o,l,c,p=rn.css(e,"position"),u=rn(e),d={};"static"===p&&(e.style.position="relative"),o=u.offset(),r=rn.css(e,"top"),l=rn.css(e,"left"),c=("absolute"===p||"fixed"===p)&&rn.inArray("auto",[r,l])>-1,c?(s=u.position(),i=s.top,a=s.left):(i=parseFloat(r)||0,a=parseFloat(l)||0),rn.isFunction(n)&&(n=n.call(e,t,o)),null!=n.top&&(d.top=n.top-o.top+i),null!=n.left&&(d.left=n.left-o.left+a),"using"in n?n.using.call(e,d):u.css(d)}},rn.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(n){rn.offset.setOffset(this,e,n)});var n,t,s={top:0,left:0},a=this[0],r=a&&a.ownerDocument;if(r)return n=r.documentElement,rn.contains(n,a)?(typeof a.getBoundingClientRect!==Cn&&(s=a.getBoundingClientRect()),t=K(r),{top:s.top+(t.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(t.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},position:function(){if(this[0]){var e,n,t={top:0,left:0},s=this[0];return"fixed"===rn.css(s,"position")?n=s.getBoundingClientRect():(e=this.offsetParent(),n=this.offset(),rn.nodeName(e[0],"html")||(t=e.offset()),t.top+=rn.css(e[0],"borderTopWidth",!0),t.left+=rn.css(e[0],"borderLeftWidth",!0)),{top:n.top-t.top-rn.css(s,"marginTop",!0),left:n.left-t.left-rn.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rs;e&&!rn.nodeName(e,"html")&&"static"===rn.css(e,"position");)e=e.offsetParent;return e||rs})}}),rn.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var t=/Y/.test(n);rn.fn[e]=function(s){return En(this,function(e,s,a){var r=K(e);return void 0===a?r?n in r?r[n]:r.document.documentElement[s]:e[s]:void(r?r.scrollTo(t?rn(r).scrollLeft():a,t?a:rn(r).scrollTop()):e[s]=a)},e,s,arguments.length,null)}}),rn.each(["top","left"],function(e,n){rn.cssHooks[n]=S(sn.pixelPosition,function(e,t){return t?(t=st(e,n),rt.test(t)?rn(e).position()[n]+"px":t):void 0})}),rn.each({Height:"height",Width:"width"},function(e,n){rn.each({padding:"inner"+e,content:n,"":"outer"+e},function(t,s){rn.fn[s]=function(s,a){var r=arguments.length&&(t||"boolean"!=typeof s),i=t||(s===!0||a===!0?"margin":"border");return En(this,function(n,t,s){var a;return rn.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):void 0===s?rn.css(n,t,i):rn.style(n,t,s,i)},n,r?s:void 0,r,null)}})}),rn.fn.size=function(){return this.length},rn.fn.andSelf=rn.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rn});var is=e.jQuery,os=e.$;return rn.noConflict=function(n){return e.$===rn&&(e.$=os),n&&e.jQuery===rn&&(e.jQuery=is),rn},typeof n===Cn&&(e.jQuery=e.$=rn),rn}),define("noconflict-jquery",["jquery"],function(e){return e.noConflict(!0)}),function(){function e(e,n,t){for(var s=(t||0)-1,a=e?e.length:0;++s<a;)if(e[s]===n)return s;return-1}function n(e,n){for(var t=e.criteria,s=n.criteria,a=-1,r=t.length;++a<r;){var i=t[a],o=s[a];if(i!==o){if(i>o||"undefined"==typeof i)return 1;if(o>i||"undefined"==typeof o)return-1}}return e.index-n.index}function t(e){return"\\"+kt[e]}function s(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var s=-1,a=t-n||0,r=Array(0>a?0:a);++s<a;)r[s]=e[n+s];return r}function a(e){return e instanceof a?e:new r(e)}function r(e,n){this.__chain__=!!n,this.__wrapped__=e}function i(e){function n(){if(a){var e=s(a);Dt.apply(e,arguments)}if(this instanceof n){var i=o(t.prototype),l=t.apply(i,e||arguments);return L(l)?l:i}return t.apply(r,e||arguments)}var t=e[0],a=e[2],r=e[4];return n}function o(e){return L(e)?Ft(e):{}}function l(e,n,t){if("function"!=typeof e)return zn;if("undefined"==typeof n||!("prototype"in e))return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,s){return e.call(n,t,s)};case 3:return function(t,s,a){return e.call(n,t,s,a)};case 4:return function(t,s,a,r){return e.call(n,t,s,a,r)}}return Rn(e,n)}function c(e){function n(){var e=u?l:this;if(r){var v=s(r);Dt.apply(v,arguments)}if((i||h)&&(v||(v=s(arguments)),i&&Dt.apply(v,i),h&&v.length<p))return a|=16,c([t,f?a:-4&a,v,null,l,p]);if(v||(v=arguments),d&&(t=e[m]),this instanceof n){e=o(t.prototype);var g=t.apply(e,v);return L(g)?g:e}return t.apply(e,v)}var t=e[0],a=e[1],r=e[2],i=e[3],l=e[4],p=e[5],u=1&a,d=2&a,h=4&a,f=8&a,m=t;return n}function p(e,n){for(var t=-1,s=b(),a=e?e.length:0,r=[];++t<a;){var i=e[t];s(n,i)<0&&r.push(i)}return r}function u(e,n,t,s){for(var a=(s||0)-1,r=e?e.length:0,i=[];++a<r;){var o=e[a];if(o&&"object"==typeof o&&"number"==typeof o.length&&(Kt(o)||j(o))){n||(o=u(o,n,t));var l=-1,c=o.length,p=i.length;for(i.length+=c;++l<c;)i[p++]=o[l]}else t||i.push(o)}return i}function d(e,n,t,s){if(e===n)return 0!==e||1/e==1/n;var r=typeof e,i=typeof n;if(!(e!==e||e&&jt[r]||n&&jt[i]))return!1;if(null==e||null==n)return e===n;var o=Et.call(e),l=Et.call(n);if(o!=l)return!1;switch(o){case ft:case mt:return+e==+n;case gt:return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case yt:case wt:return e==String(n)}var c=o==ht;if(!c){var p=e instanceof a,u=n instanceof a;if(p||u)return d(p?e.__wrapped__:e,u?n.__wrapped__:n,t,s);if(o!=bt)return!1;var h=e.constructor,f=n.constructor;if(h!=f&&!(H(h)&&h instanceof h&&H(f)&&f instanceof f)&&"constructor"in e&&"constructor"in n)return!1}t||(t=[]),s||(s=[]);for(var m=t.length;m--;)if(t[m]==e)return s[m]==n;var v=!0,g=0;if(t.push(e),s.push(n),c){if(g=n.length,v=g==e.length)for(;g--&&(v=d(e[g],n[g],t,s)););}else es(n,function(n,a,r){return Lt.call(r,a)?(g++,!(v=Lt.call(e,a)&&d(e[a],n,t,s))&&ot):void 0}),v&&es(e,function(e,n,t){return Lt.call(t,n)?!(v=--g>-1)&&ot:void 0});return t.pop(),s.pop(),v}function h(e,n){return e+Ht(zt()*(n-e+1))}function f(e,n,t){for(var s=-1,a=b(),r=e?e.length:0,i=[],o=t?[]:i;++s<r;){var l=e[s],c=t?t(l,s,e):l;(n?!s||o[o.length-1]!==c:a(o,c)<0)&&(t&&o.push(c),i.push(l))}return i}function m(e){return function(n,t,s){var a={};t=Vn(t,s,3);var r=-1,i=n?n.length:0;if("number"==typeof i)for(;++r<i;){var o=n[r];e(a,o,t(o,r,n),n)}else ns(n,function(n,s,r){e(a,n,t(n,s,r),r)});return a}}function v(e,n,t,s,a,r){var o=2&n,l=16&n,p=32&n;if(!o&&!H(e))throw new TypeError;l&&!t.length&&(n&=-17,l=t=!1),p&&!s.length&&(n&=-33,p=s=!1);var u=1==n||17===n?i:c;return u([e,n,t,s,a,r])}function g(e){return Jt[e]}function b(){var n=(n=a.indexOf)===bn?e:n;return n}function y(e){return"function"==typeof e&&Rt.test(e)}function w(e){return Yt[e]}function j(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Et.call(e)==dt||!1}function k(e){if(!e)return e;for(var n=1,t=arguments.length;t>n;n++){var s=arguments[n];if(s)for(var a in s)e[a]=s[a]}return e}function x(e){return L(e)?Kt(e)?s(e):k({},e):e}function M(e){if(!e)return e;for(var n=1,t=arguments.length;t>n;n++){var s=arguments[n];if(s)for(var a in s)"undefined"==typeof e[a]&&(e[a]=s[a])}return e}function C(e){var n=[];return es(e,function(e,t){H(e)&&n.push(t)}),n.sort()}function S(e,n){return e?Lt.call(e,n):!1}function N(e){for(var n=-1,t=Xt(e),s=t.length,a={};++n<s;){var r=t[n];a[e[r]]=r}return a}function T(e){return e===!0||e===!1||e&&"object"==typeof e&&Et.call(e)==ft||!1}function P(e){return e&&"object"==typeof e&&Et.call(e)==mt||!1}function _(e){return e&&1===e.nodeType||!1}function E(e){if(!e)return!0;if(Kt(e)||I(e))return!e.length;for(var n in e)if(Lt.call(e,n))return!1;return!0}function R(e,n){return d(e,n)}function A(e){return It(e)&&!qt(parseFloat(e))}function H(e){return"function"==typeof e}function L(e){return!(!e||!jt[typeof e])}function D(e){return F(e)&&e!=+e}function O(e){return null===e}function F(e){return"number"==typeof e||e&&"object"==typeof e&&Et.call(e)==gt||!1}function $(e){return e&&jt[typeof e]&&Et.call(e)==yt||!1}function I(e){return"string"==typeof e||e&&"object"==typeof e&&Et.call(e)==wt||!1}function q(e){return"undefined"==typeof e}function B(e){var n=[];es(e,function(e,t){n.push(t)}),n=p(n,u(arguments,!0,!1,1));for(var t=-1,s=n.length,a={};++t<s;){var r=n[t];a[r]=e[r]}return a}function V(e){for(var n=-1,t=Xt(e),s=t.length,a=Array(s);++n<s;){var r=t[n];a[n]=[r,e[r]]}return a}function U(e){for(var n=-1,t=u(arguments,!0,!1,1),s=t.length,a={};++n<s;){var r=t[n];r in e&&(a[r]=e[r])}return a}function z(e){for(var n=-1,t=Xt(e),s=t.length,a=Array(s);++n<s;)a[n]=e[t[n]];return a}function W(e,n){var t=b(),s=e?e.length:0,a=!1;return s&&"number"==typeof s?a=t(e,n)>-1:ns(e,function(e){return(a=e===n)&&ot}),a}function K(e,n,t){var s=!0;n=Vn(n,t,3);var a=-1,r=e?e.length:0;if("number"==typeof r)for(;++a<r&&(s=!!n(e[a],a,e)););else ns(e,function(e,t,a){return!(s=!!n(e,t,a))&&ot});return s}function Q(e,n,t){var s=[];n=Vn(n,t,3);var a=-1,r=e?e.length:0;if("number"==typeof r)for(;++a<r;){var i=e[a];n(i,a,e)&&s.push(i)}else ns(e,function(e,t,a){n(e,t,a)&&s.push(e)});return s}function X(e,n,t){n=Vn(n,t,3);var s=-1,a=e?e.length:0;if("number"!=typeof a){var r;return ns(e,function(e,t,s){return n(e,t,s)?(r=e,ot):void 0}),r}for(;++s<a;){var i=e[s];if(n(i,s,e))return i}}function J(e,n){return hn(e,n,!0)}function Y(e,n,t){var s=-1,a=e?e.length:0;if(n=n&&"undefined"==typeof t?n:l(n,t,3),"number"==typeof a)for(;++s<a&&n(e[s],s,e)!==ot;);else ns(e,n)}function G(e,n){var t=e?e.length:0;if("number"==typeof t)for(;t--&&n(e[t],t,e)!==!1;);else{var s=Xt(e);t=s.length,ns(e,function(e,a,r){return a=s?s[--t]:--t,n(r[a],a,r)===!1&&ot})}}function Z(e,n){var t=s(arguments,2),a=-1,r="function"==typeof n,i=e?e.length:0,o=Array("number"==typeof i?i:0);return Y(e,function(e){o[++a]=(r?n:e[n]).apply(e,t)}),o}function en(e,n,t){var s=-1,a=e?e.length:0;if(n=Vn(n,t,3),"number"==typeof a)for(var r=Array(a);++s<a;)r[s]=n(e[s],s,e);else r=[],ns(e,function(e,t,a){r[++s]=n(e,t,a)});return r}function nn(e,n,t){var s=-1/0,a=s;"function"!=typeof n&&t&&t[n]===e&&(n=null);var r=-1,i=e?e.length:0;if(null==n&&"number"==typeof i)for(;++r<i;){var o=e[r];o>a&&(a=o)}else n=Vn(n,t,3),Y(e,function(e,t,r){var i=n(e,t,r);i>s&&(s=i,a=e)});return a}function tn(e,n,t){var s=1/0,a=s;"function"!=typeof n&&t&&t[n]===e&&(n=null);var r=-1,i=e?e.length:0;if(null==n&&"number"==typeof i)for(;++r<i;){var o=e[r];a>o&&(a=o)}else n=Vn(n,t,3),Y(e,function(e,t,r){var i=n(e,t,r);s>i&&(s=i,a=e)});return a}function sn(e,n,t,s){if(!e)return t;var a=arguments.length<3;n=Vn(n,s,4);var r=-1,i=e.length;if("number"==typeof i)for(a&&(t=e[++r]);++r<i;)t=n(t,e[r],r,e);else ns(e,function(e,s,r){t=a?(a=!1,e):n(t,e,s,r)});return t}function an(e,n,t,s){var a=arguments.length<3;return n=Vn(n,s,4),G(e,function(e,s,r){t=a?(a=!1,e):n(t,e,s,r)}),t}function rn(e,n,t){return n=Vn(n,t,3),Q(e,function(e,t,s){return!n(e,t,s)})}function on(e,n,t){if(e&&"number"!=typeof e.length&&(e=z(e)),null==n||t)return e?e[h(0,e.length-1)]:rt;var s=ln(e);return s.length=Ut(Vt(0,n),s.length),s}function ln(e){var n=-1,t=e?e.length:0,s=Array("number"==typeof t?t:0);return Y(e,function(e){var t=h(0,++n);s[n]=s[t],s[t]=e}),s}function cn(e){var n=e?e.length:0;return"number"==typeof n?n:Xt(e).length}function pn(e,n,t){var s;n=Vn(n,t,3);var a=-1,r=e?e.length:0;if("number"==typeof r)for(;++a<r&&!(s=n(e[a],a,e)););else ns(e,function(e,t,a){return(s=n(e,t,a))&&ot});return!!s}function un(e,t,s){var a=-1,r=e?e.length:0,i=Array("number"==typeof r?r:0);for(t=Vn(t,s,3),Y(e,function(e,n,s){i[++a]={criteria:[t(e,n,s)],index:a,value:e}}),r=i.length,i.sort(n);r--;)i[r]=i[r].value;return i}function dn(e){return Kt(e)?s(e):e&&"number"==typeof e.length?en(e):z(e)}function hn(e,n,t){return t&&E(n)?rt:(t?X:Q)(e,n)}function fn(e){for(var n=-1,t=e?e.length:0,s=[];++n<t;){var a=e[n];a&&s.push(a)}return s}function mn(e){return p(e,u(arguments,!0,!0,1))}function vn(e,n,t){var a=0,r=e?e.length:0;if("number"!=typeof n&&null!=n){var i=-1;for(n=Vn(n,t,3);++i<r&&n(e[i],i,e);)a++}else if(a=n,null==a||t)return e?e[0]:rt;return s(e,0,Ut(Vt(0,a),r))}function gn(e,n){return u(e,n)}function bn(n,t,s){if("number"==typeof s){var a=n?n.length:0;s=0>s?Vt(0,a+s):s||0}else if(s){var r=Cn(n,t);return n[r]===t?r:-1}return e(n,t,s)}function yn(e,n,t){var a=0,r=e?e.length:0;if("number"!=typeof n&&null!=n){var i=r;for(n=Vn(n,t,3);i--&&n(e[i],i,e);)a++}else a=null==n||t?1:n||a;return s(e,0,Ut(Vt(0,r-a),r))}function wn(){for(var e=[],n=-1,t=arguments.length;++n<t;){var s=arguments[n];(Kt(s)||j(s))&&e.push(s)}var a=e[0],r=-1,i=b(),o=a?a.length:0,l=[];e:for(;++r<o;)if(s=a[r],i(l,s)<0){for(var n=t;--n;)if(i(e[n],s)<0)continue e;l.push(s)}return l}function jn(e,n,t){var a=0,r=e?e.length:0;if("number"!=typeof n&&null!=n){var i=r;for(n=Vn(n,t,3);i--&&n(e[i],i,e);)a++}else if(a=n,null==a||t)return e?e[r-1]:rt;return s(e,Vt(0,r-a))}function kn(e,n,t){var s=e?e.length:0;for("number"==typeof t&&(s=(0>t?Vt(0,s+t):Ut(t,s-1))+1);s--;)if(e[s]===n)return s;return-1}function xn(e,n,t){e=+e||0,t=+t||1,null==n&&(n=e,e=0);for(var s=-1,a=Vt(0,At((n-e)/t)),r=Array(a);++s<a;)r[s]=e,e+=t;return r}function Mn(e,n,t){if("number"!=typeof n&&null!=n){var a=0,r=-1,i=e?e.length:0;for(n=Vn(n,t,3);++r<i&&n(e[r],r,e);)a++}else a=null==n||t?1:Vt(0,n);return s(e,a)}function Cn(e,n,t,s){var a=0,r=e?e.length:a;for(t=t?Vn(t,s,1):zn,n=t(n);r>a;){var i=a+r>>>1;t(e[i])<n?a=i+1:r=i}return a}function Sn(){return f(u(arguments,!0,!0))}function Nn(e,n,t,s){return"boolean"!=typeof n&&null!=n&&(s=t,t="function"!=typeof n&&s&&s[n]===e?null:n,n=!1),null!=t&&(t=Vn(t,s,3)),f(e,n,t)}function Tn(e){return p(e,s(arguments,1))}function Pn(){for(var e=-1,n=nn(rs(arguments,"length")),t=Array(0>n?0:n);++e<n;)t[e]=rs(arguments,e);return t}function _n(e,n){var t=-1,s=e?e.length:0,a={};for(n||!s||Kt(e[0])||(n=[]);++t<s;){var r=e[t];n?a[r]=n[t]:r&&(a[r[0]]=r[1])}return a}function En(e,n){if(!H(n))throw new TypeError;return function(){return--e<1?n.apply(this,arguments):void 0}}function Rn(e,n){return arguments.length>2?v(e,17,s(arguments,2),null,n):v(e,1,null,null,n)}function An(e){for(var n=arguments.length>1?u(arguments,!0,!1,1):C(e),t=-1,s=n.length;++t<s;){var a=n[t];e[a]=v(e[a],1,null,null,e)}return e}function Hn(){for(var e=arguments,n=e.length;n--;)if(!H(e[n]))throw new TypeError;return function(){for(var n=arguments,t=e.length;t--;)n=[e[t].apply(this,n)];return n[0]}}function Ln(e,n,t){var s,a,r,i,o,l,c,p=0,u=!1,d=!0;if(!H(e))throw new TypeError;if(n=Vt(0,n)||0,t===!0){var h=!0;d=!1}else L(t)&&(h=t.leading,u="maxWait"in t&&(Vt(n,t.maxWait)||0),d="trailing"in t?t.trailing:d);var f=function(){var t=n-(is()-i);if(0>=t){a&&clearTimeout(a);var u=c;a=l=c=rt,u&&(p=is(),r=e.apply(o,s),l||a||(s=o=null))}else l=setTimeout(f,t)},m=function(){l&&clearTimeout(l),a=l=c=rt,(d||u!==n)&&(p=is(),r=e.apply(o,s),l||a||(s=o=null))};return function(){if(s=arguments,i=is(),o=this,c=d&&(l||!h),u===!1)var t=h&&!l;else{a||h||(p=i);var v=u-(i-p),g=0>=v;g?(a&&(a=clearTimeout(a)),p=i,r=e.apply(o,s)):a||(a=setTimeout(m,v))}return g&&l?l=clearTimeout(l):l||n===u||(l=setTimeout(f,n)),t&&(g=!0,r=e.apply(o,s)),!g||l||a||(s=o=null),r}}function Dn(e){if(!H(e))throw new TypeError;var n=s(arguments,1);return setTimeout(function(){e.apply(rt,n)},1)}function On(e,n){if(!H(e))throw new TypeError;var t=s(arguments,2);return setTimeout(function(){e.apply(rt,t)},n)}function Fn(e,n){var t={};return function(){var s=n?n.apply(this,arguments):lt+arguments[0];return Lt.call(t,s)?t[s]:t[s]=e.apply(this,arguments)}}function $n(e){var n,t;if(!H(e))throw new TypeError;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function In(e){return v(e,16,s(arguments,1))}function qn(e,n,t){var s=!0,a=!0;if(!H(e))throw new TypeError;return t===!1?s=!1:L(t)&&(s="leading"in t?t.leading:s,a="trailing"in t?t.trailing:a),t={},t.leading=s,t.maxWait=n,t.trailing=a,Ln(e,n,t)}function Bn(e,n){return v(n,16,[e])}function Vn(e,n,t){var s=typeof e;if(null==e||"function"==s)return l(e,n,t);if("object"!=s)return Qn(e);var a=Xt(e);return function(n){for(var t=a.length,s=!1;t--&&(s=n[a[t]]===e[a[t]]););return s}}function Un(e){return null==e?"":String(e).replace(Zt,g)}function zn(e){return e}function Wn(e){Y(C(e),function(n){var t=a[n]=e[n];a.prototype[n]=function(){var e=[this.__wrapped__];Dt.apply(e,arguments);var n=t.apply(a,e);return this.__chain__?new r(n,!0):n}})}function Kn(){return xt._=_t,this}function Qn(e){return function(n){return n[e]}}function Xn(e,n){return null==e&&null==n&&(n=1),e=+e||0,null==n?(n=e,e=0):n=+n||0,e+Ht(zt()*(n-e+1))}function Jn(e,n){if(e){var t=e[n];return H(t)?e[n]():t}}function Yn(e,n,s){var r=a,i=r.templateSettings;e=String(e||""),s=M({},s,i);var o=0,l="__p += '",c=s.variable,p=RegExp((s.escape||pt).source+"|"+(s.interpolate||pt).source+"|"+(s.evaluate||pt).source+"|$","g");e.replace(p,function(n,s,a,r,i){return l+=e.slice(o,i).replace(ut,t),s&&(l+="' +\n_.escape("+s+") +\n'"),r&&(l+="';\n"+r+";\n__p += '"),a&&(l+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),o=i+n.length,n}),l+="';\n",c||(c="obj",l="with ("+c+" || {}) {\n"+l+"\n}\n"),l="function("+c+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+l+"return __p\n}";try{var u=Function("_","return "+l)(r)}catch(d){throw d.source=l,d}return n?u(n):(u.source=l,u)}function Gn(e,n,t){e=(e=+e)>-1?e:0;var s=-1,a=Array(e);for(n=l(n,t,1);++s<e;)a[s]=n(s);
return a}function Zn(e){return null==e?"":String(e).replace(Gt,w)}function et(e){var n=++it+"";return e?e+n:n}function nt(e){return e=new r(e),e.__chain__=!0,e}function tt(e,n){return n(e),e}function st(){return this.__chain__=!0,this}function at(){return this.__wrapped__}var rt,it=0,ot={},lt=+new Date+"",ct=/<%=([\s\S]+?)%>/g,pt=/($^)/,ut=/['\n\r\t\u2028\u2029\\]/g,dt="[object Arguments]",ht="[object Array]",ft="[object Boolean]",mt="[object Date]",vt="[object Function]",gt="[object Number]",bt="[object Object]",yt="[object RegExp]",wt="[object String]",jt={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},kt={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},xt=jt[typeof window]&&window||this,Mt=jt[typeof exports]&&exports&&!exports.nodeType&&exports,Ct=jt[typeof module]&&module&&!module.nodeType&&module,St=Ct&&Ct.exports===Mt&&Mt,Nt=jt[typeof global]&&global;!Nt||Nt.global!==Nt&&Nt.window!==Nt||(xt=Nt);var Tt=[],Pt=Object.prototype,_t=xt._,Et=Pt.toString,Rt=RegExp("^"+String(Et).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),At=Math.ceil,Ht=Math.floor,Lt=Pt.hasOwnProperty,Dt=Tt.push,Ot=Pt.propertyIsEnumerable,Ft=y(Ft=Object.create)&&Ft,$t=y($t=Array.isArray)&&$t,It=xt.isFinite,qt=xt.isNaN,Bt=y(Bt=Object.keys)&&Bt,Vt=Math.max,Ut=Math.min,zt=Math.random;r.prototype=a.prototype;var Wt={};!function(){var e={0:1,length:1};Wt.spliceObjects=(Tt.splice.call(e,0,1),!e[0])}(1),a.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ct,variable:""},Ft||(o=function(){function e(){}return function(n){if(L(n)){e.prototype=n;var t=new e;e.prototype=null}return t||xt.Object()}}()),j(arguments)||(j=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Lt.call(e,"callee")&&!Ot.call(e,"callee")||!1});var Kt=$t||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Et.call(e)==ht||!1},Qt=function(e){var n,t=e,s=[];if(!t)return s;if(!jt[typeof e])return s;for(n in t)Lt.call(t,n)&&s.push(n);return s},Xt=Bt?function(e){return L(e)?Bt(e):[]}:Qt,Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Yt=N(Jt),Gt=RegExp("("+Xt(Yt).join("|")+")","g"),Zt=RegExp("["+Xt(Jt).join("")+"]","g"),es=function(e,n){var t,s=e,a=s;if(!s)return a;if(!jt[typeof s])return a;for(t in s)if(n(s[t],t,e)===ot)return a;return a},ns=function(e,n){var t,s=e,a=s;if(!s)return a;if(!jt[typeof s])return a;for(t in s)if(Lt.call(s,t)&&n(s[t],t,e)===ot)return a;return a};H(/x/)&&(H=function(e){return"function"==typeof e&&Et.call(e)==vt});var ts=m(function(e,n,t){Lt.call(e,t)?e[t]++:e[t]=1}),ss=m(function(e,n,t){(Lt.call(e,t)?e[t]:e[t]=[]).push(n)}),as=m(function(e,n,t){e[t]=n}),rs=en,is=y(is=Date.now)&&is||function(){return(new Date).getTime()};a.after=En,a.bind=Rn,a.bindAll=An,a.chain=nt,a.compact=fn,a.compose=Hn,a.countBy=ts,a.debounce=Ln,a.defaults=M,a.defer=Dn,a.delay=On,a.difference=mn,a.filter=Q,a.flatten=gn,a.forEach=Y,a.functions=C,a.groupBy=ss,a.indexBy=as,a.initial=yn,a.intersection=wn,a.invert=N,a.invoke=Z,a.keys=Xt,a.map=en,a.max=nn,a.memoize=Fn,a.min=tn,a.omit=B,a.once=$n,a.pairs=V,a.partial=In,a.pick=U,a.pluck=rs,a.range=xn,a.reject=rn,a.rest=Mn,a.shuffle=ln,a.sortBy=un,a.tap=tt,a.throttle=qn,a.times=Gn,a.toArray=dn,a.union=Sn,a.uniq=Nn,a.values=z,a.where=hn,a.without=Tn,a.wrap=Bn,a.zip=Pn,a.collect=en,a.drop=Mn,a.each=Y,a.extend=k,a.methods=C,a.object=_n,a.select=Q,a.tail=Mn,a.unique=Nn,a.clone=x,a.contains=W,a.escape=Un,a.every=K,a.find=X,a.has=S,a.identity=zn,a.indexOf=bn,a.isArguments=j,a.isArray=Kt,a.isBoolean=T,a.isDate=P,a.isElement=_,a.isEmpty=E,a.isEqual=R,a.isFinite=A,a.isFunction=H,a.isNaN=D,a.isNull=O,a.isNumber=F,a.isObject=L,a.isRegExp=$,a.isString=I,a.isUndefined=q,a.lastIndexOf=kn,a.mixin=Wn,a.noConflict=Kn,a.random=Xn,a.reduce=sn,a.reduceRight=an,a.result=Jn,a.size=cn,a.some=pn,a.sortedIndex=Cn,a.template=Yn,a.unescape=Zn,a.uniqueId=et,a.all=K,a.any=pn,a.detect=X,a.findWhere=J,a.foldl=sn,a.foldr=an,a.include=W,a.inject=sn,a.first=vn,a.last=jn,a.sample=on,a.take=vn,a.head=vn,Wn(a),a.VERSION="2.4.1",a.prototype.chain=st,a.prototype.value=at,Y(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=Tt[e];a.prototype[e]=function(){var e=this.__wrapped__;return n.apply(e,arguments),Wt.spliceObjects||0!==e.length||delete e[0],this}}),Y(["concat","join","slice"],function(e){var n=Tt[e];a.prototype[e]=function(){var e=this.__wrapped__,t=n.apply(e,arguments);return this.__chain__&&(t=new r(t),t.__chain__=!0),t}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(xt._=a,define("lodash",[],function(){return a})):Mt&&Ct?St?(Ct.exports=a)._=a:Mt._=a:xt._=a}.call(this),function(){!function(e){var n=this||(0,eval)("this"),t=n.document,s=n.navigator,a=n.jQuery,r=n.JSON;!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(module.exports||exports,require):"function"==typeof define&&define.amd?define("knockout",["exports","require"],e):e(n.ko={})}(function(i,o){function l(e,n){return null===e||typeof e in h?e===n:!1}function c(n,t){var s;return function(){s||(s=setTimeout(function(){s=e,n()},t))}}function p(e,n){var t;return function(){clearTimeout(t),t=setTimeout(e,n)}}function u(e,n,t,s){d.d[e]={init:function(e,a,r,i,o){var l,c;return d.s(function(){var r=d.a.c(a()),i=!t!=!r,p=!c;(p||n||i!==l)&&(p&&d.Y.la()&&(c=d.a.ia(d.f.childNodes(e),!0)),i?(p||d.f.T(e,d.a.ia(c)),d.Ca(s?s(o,r):o,e)):d.f.ja(e),l=i)},null,{o:e}),{controlsDescendantBindings:!0}}},d.h.ha[e]=!1,d.f.Q[e]=!0}var d="undefined"!=typeof i?i:{};d.b=function(e,n){for(var t=e.split("."),s=d,a=0;a<t.length-1;a++)s=s[t[a]];s[t[t.length-1]]=n},d.A=function(e,n,t){e[n]=t},d.version="3.2.0",d.b("version",d.version),d.a=function(){function i(e,n){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])}function o(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function l(e,n){return e.__proto__=n,e}var c={__proto__:[]}instanceof Array,p={},u={};p[s&&/Firefox\/2/i.test(s.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),i(p,function(e,n){if(n.length)for(var t=0,s=n.length;s>t;t++)u[n[t]]=e});var h={propertychange:!0},f=t&&function(){for(var n=3,s=t.createElement("div"),a=s.getElementsByTagName("i");s.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->",a[0];);return n>4?n:e}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(e,n){for(var t=0,s=e.length;s>t;t++)n(e[t],t)},m:function(e,n){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n);for(var t=0,s=e.length;s>t;t++)if(e[t]===n)return t;return-1},qb:function(e,n,t){for(var s=0,a=e.length;a>s;s++)if(n.call(t,e[s],s))return e[s];return null},ua:function(e,n){var t=d.a.m(e,n);t>0?e.splice(t,1):0===t&&e.shift()},rb:function(e){e=e||[];for(var n=[],t=0,s=e.length;s>t;t++)0>d.a.m(n,e[t])&&n.push(e[t]);return n},Da:function(e,n){e=e||[];for(var t=[],s=0,a=e.length;a>s;s++)t.push(n(e[s],s));return t},ta:function(e,n){e=e||[];for(var t=[],s=0,a=e.length;a>s;s++)n(e[s],s)&&t.push(e[s]);return t},ga:function(e,n){if(n instanceof Array)e.push.apply(e,n);else for(var t=0,s=n.length;s>t;t++)e.push(n[t]);return e},ea:function(e,n,t){var s=d.a.m(d.a.Xa(e),n);0>s?t&&e.push(n):t||e.splice(s,1)},xa:c,extend:o,za:l,Aa:c?l:o,G:i,na:function(e,n){if(!e)return e;var t,s={};for(t in e)e.hasOwnProperty(t)&&(s[t]=n(e[t],t,e));return s},Ka:function(e){for(;e.firstChild;)d.removeNode(e.firstChild)},oc:function(e){e=d.a.S(e);for(var n=t.createElement("div"),s=0,a=e.length;a>s;s++)n.appendChild(d.R(e[s]));return n},ia:function(e,n){for(var t=0,s=e.length,a=[];s>t;t++){var r=e[t].cloneNode(!0);a.push(n?d.R(r):r)}return a},T:function(e,n){if(d.a.Ka(e),n)for(var t=0,s=n.length;s>t;t++)e.appendChild(n[t])},Lb:function(e,n){var t=e.nodeType?[e]:e;if(0<t.length){for(var s=t[0],a=s.parentNode,r=0,i=n.length;i>r;r++)a.insertBefore(n[r],s);for(r=0,i=t.length;i>r;r++)d.removeNode(t[r])}},ka:function(e,n){if(e.length){for(n=8===n.nodeType&&n.parentNode||n;e.length&&e[0].parentNode!==n;)e.shift();if(1<e.length){var t=e[0],s=e[e.length-1];for(e.length=0;t!==s;)if(e.push(t),t=t.nextSibling,!t)return;e.push(s)}}return e},Nb:function(e,n){7>f?e.setAttribute("selected",n):e.selected=n},cb:function(n){return null===n||n===e?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(e,n){return e=e||"",n.length>e.length?!1:e.substring(0,n.length)===n},cc:function(e,n){if(e===n)return!0;if(11===e.nodeType)return!1;if(n.contains)return n.contains(3===e.nodeType?e.parentNode:e);if(n.compareDocumentPosition)return 16==(16&n.compareDocumentPosition(e));for(;e&&e!=n;)e=e.parentNode;return!!e},Ja:function(e){return d.a.cc(e,e.ownerDocument.documentElement)},ob:function(e){return!!d.a.qb(e,d.a.Ja)},t:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(e,n,t){var s=f&&h[n];if(!s&&a)a(e).bind(n,t);else if(s||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var r=function(n){t.call(e,n)},i="on"+n;e.attachEvent(i,r),d.a.w.da(e,function(){e.detachEvent(i,r)})}else e.addEventListener(n,t,!1)},oa:function(e,s){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var r;if("input"===d.a.t(e)&&e.type&&"click"==s.toLowerCase()?(r=e.type,r="checkbox"==r||"radio"==r):r=!1,a&&!r)a(e).trigger(s);else if("function"==typeof t.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");r=t.createEvent(u[s]||"HTMLEvents"),r.initEvent(s,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else if(r&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+s)}},c:function(e){return d.C(e)?e():e},Xa:function(e){return d.C(e)?e.v():e},Ba:function(e,n,t){if(n){var s=/\S+/g,a=e.className.match(s)||[];d.a.u(n.match(s),function(e){d.a.ea(a,e,t)}),e.className=a.join(" ")}},bb:function(n,t){var s=d.a.c(t);(null===s||s===e)&&(s="");var a=d.f.firstChild(n);!a||3!=a.nodeType||d.f.nextSibling(a)?d.f.T(n,[n.ownerDocument.createTextNode(s)]):a.data=s,d.a.fc(n)},Mb:function(e,n){if(e.name=n,7>=f)try{e.mergeAttributes(t.createElement("<input name='"+e.name+"'/>"),!1)}catch(s){}},fc:function(e){f>=9&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},dc:function(e){if(f){var n=e.style.width;e.style.width=0,e.style.width=n}},sc:function(e,n){e=d.a.c(e),n=d.a.c(n);for(var t=[],s=e;n>=s;s++)t.push(s);return t},S:function(e){for(var n=[],t=0,s=e.length;s>t;t++)n.push(e[t]);return n},yc:6===f,zc:7===f,L:f,xb:function(e,n){for(var t=d.a.S(e.getElementsByTagName("input")).concat(d.a.S(e.getElementsByTagName("textarea"))),s="string"==typeof n?function(e){return e.name===n}:function(e){return n.test(e.name)},a=[],r=t.length-1;r>=0;r--)s(t[r])&&a.push(t[r]);return a},pc:function(e){return"string"==typeof e&&(e=d.a.cb(e))?r&&r.parse?r.parse(e):new Function("return "+e)():null},eb:function(e,n,t){if(!r||!r.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return r.stringify(d.a.c(e),n,t)},qc:function(e,n,s){s=s||{};var a=s.params||{},r=s.includeFields||this.vb,o=e;if("object"==typeof e&&"form"===d.a.t(e))for(var o=e.action,l=r.length-1;l>=0;l--)for(var c=d.a.xb(e,r[l]),p=c.length-1;p>=0;p--)a[c[p].name]=c[p].value;n=d.a.c(n);var u=t.createElement("form");u.style.display="none",u.action=o,u.method="post";for(var h in n)e=t.createElement("input"),e.type="hidden",e.name=h,e.value=d.a.eb(d.a.c(n[h])),u.appendChild(e);i(a,function(e,n){var s=t.createElement("input");s.type="hidden",s.name=e,s.value=n,u.appendChild(s)}),t.body.appendChild(u),s.submitter?s.submitter(u):u.submit(),setTimeout(function(){u.parentNode.removeChild(u)},0)}}}(),d.b("utils",d.a),d.b("utils.arrayForEach",d.a.u),d.b("utils.arrayFirst",d.a.qb),d.b("utils.arrayFilter",d.a.ta),d.b("utils.arrayGetDistinctValues",d.a.rb),d.b("utils.arrayIndexOf",d.a.m),d.b("utils.arrayMap",d.a.Da),d.b("utils.arrayPushAll",d.a.ga),d.b("utils.arrayRemoveItem",d.a.ua),d.b("utils.extend",d.a.extend),d.b("utils.fieldsIncludedWithJsonPost",d.a.vb),d.b("utils.getFormFields",d.a.xb),d.b("utils.peekObservable",d.a.Xa),d.b("utils.postJson",d.a.qc),d.b("utils.parseJson",d.a.pc),d.b("utils.registerEventHandler",d.a.n),d.b("utils.stringifyJson",d.a.eb),d.b("utils.range",d.a.sc),d.b("utils.toggleDomNodeCssClass",d.a.Ba),d.b("utils.triggerEvent",d.a.oa),d.b("utils.unwrapObservable",d.a.c),d.b("utils.objectForEach",d.a.G),d.b("utils.addOrRemoveItem",d.a.ea),d.b("unwrap",d.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,t=Array.prototype.slice.call(arguments);return e=t.shift(),function(){return n.apply(e,t.concat(Array.prototype.slice.call(arguments)))}}),d.a.e=new function(){function n(n,r){var i=n[s];if(!i||"null"===i||!a[i]){if(!r)return e;i=n[s]="ko"+t++,a[i]={}}return a[i]}var t=0,s="__ko__"+(new Date).getTime(),a={};return{get:function(t,s){var a=n(t,!1);return a===e?e:a[s]},set:function(t,s,a){(a!==e||n(t,!1)!==e)&&(n(t,!0)[s]=a)},clear:function(e){var n=e[s];return n?(delete a[n],e[s]=null,!0):!1},F:function(){return t++ +s}}},d.b("utils.domData",d.a.e),d.b("utils.domData.clear",d.a.e.clear),d.a.w=new function(){function n(n,t){var a=d.a.e.get(n,s);return a===e&&t&&(a=[],d.a.e.set(n,s,a)),a}function t(e){var s=n(e,!1);if(s)for(var s=s.slice(0),a=0;a<s.length;a++)s[a](e);if(d.a.e.clear(e),d.a.w.cleanExternalData(e),i[e.nodeType])for(s=e.firstChild;e=s;)s=e.nextSibling,8===e.nodeType&&t(e)}var s=d.a.e.F(),r={1:!0,8:!0,9:!0},i={1:!0,9:!0};return{da:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");n(e,!0).push(t)},Kb:function(t,a){var r=n(t,!1);r&&(d.a.ua(r,a),0==r.length&&d.a.e.set(t,s,e))},R:function(e){if(r[e.nodeType]&&(t(e),i[e.nodeType])){var n=[];d.a.ga(n,e.getElementsByTagName("*"));for(var s=0,a=n.length;a>s;s++)t(n[s])}return e},removeNode:function(e){d.R(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){a&&"function"==typeof a.cleanData&&a.cleanData([e])}}},d.R=d.a.w.R,d.removeNode=d.a.w.removeNode,d.b("cleanNode",d.R),d.b("removeNode",d.removeNode),d.b("utils.domNodeDisposal",d.a.w),d.b("utils.domNodeDisposal.addDisposeCallback",d.a.w.da),d.b("utils.domNodeDisposal.removeDisposeCallback",d.a.w.Kb),function(){d.a.ba=function(e){var s;if(a){if(a.parseHTML)s=a.parseHTML(e)||[];else if((s=a.clean([e]))&&s[0]){for(e=s[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var r=d.a.cb(e).toLowerCase();for(s=t.createElement("div"),r=r.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!r.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!r.indexOf("<td")||!r.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+r[1]+e+r[2]+"</div>","function"==typeof n.innerShiv?s.appendChild(n.innerShiv(e)):s.innerHTML=e;r[0]--;)s=s.lastChild;s=d.a.S(s.lastChild.childNodes)}return s},d.a.$a=function(n,t){if(d.a.Ka(n),t=d.a.c(t),null!==t&&t!==e)if("string"!=typeof t&&(t=t.toString()),a)a(n).html(t);else for(var s=d.a.ba(t),r=0;r<s.length;r++)n.appendChild(s[r])}}(),d.b("utils.parseHtmlFragment",d.a.ba),d.b("utils.setHtml",d.a.$a),d.D=function(){function n(e,t){if(e)if(8==e.nodeType){var s=d.D.Gb(e.nodeValue);null!=s&&t.push({bc:e,mc:s})}else if(1==e.nodeType)for(var s=0,a=e.childNodes,r=a.length;r>s;s++)n(a[s],t)}var t={};return{Ua:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[n]=e,"<!--[ko_memo:"+n+"]-->"},Rb:function(n,s){var a=t[n];if(a===e)throw Error("Couldn't find any memo with ID "+n+". Perhaps it's already been unmemoized.");try{return a.apply(null,s||[]),!0}finally{delete t[n]}},Sb:function(e,t){var s=[];n(e,s);for(var a=0,r=s.length;r>a;a++){var i=s[a].bc,o=[i];t&&d.a.ga(o,t),d.D.Rb(s[a].mc,o),i.nodeValue="",i.parentNode&&i.parentNode.removeChild(i)}},Gb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),d.b("memoization",d.D),d.b("memoization.memoize",d.D.Ua),d.b("memoization.unmemoize",d.D.Rb),d.b("memoization.parseMemoText",d.D.Gb),d.b("memoization.unmemoizeDomNodeAndDescendants",d.D.Sb),d.La={throttle:function(e,n){e.throttleEvaluation=n;var t=null;return d.j({read:e,write:function(s){clearTimeout(t),t=setTimeout(function(){e(s)},n)}})},rateLimit:function(e,n){var t,s,a;"number"==typeof n?t=n:(t=n.timeout,s=n.method),a="notifyWhenChangesStop"==s?p:c,e.Ta(function(e){return a(e,t)})},notify:function(e,n){e.equalityComparer="always"==n?null:l}};var h={undefined:1,"boolean":1,number:1,string:1};d.b("extenders",d.La),d.Pb=function(e,n,t){this.target=e,this.wa=n,this.ac=t,this.Cb=!1,d.A(this,"dispose",this.K)},d.Pb.prototype.K=function(){this.Cb=!0,this.ac()},d.P=function(){d.a.Aa(this,d.P.fn),this.M={}};var f="change",m={U:function(e,n,t){var s=this;t=t||f;var a=new d.Pb(s,n?e.bind(n):e,function(){d.a.ua(s.M[t],a),s.nb&&s.nb()});return s.va&&s.va(t),s.M[t]||(s.M[t]=[]),s.M[t].push(a),a},notifySubscribers:function(e,n){if(n=n||f,this.Ab(n))try{d.k.Ea();for(var t,s=this.M[n].slice(0),a=0;t=s[a];++a)t.Cb||t.wa(e)}finally{d.k.end()}},Ta:function(e){var n,t,s,a=this,r=d.C(a);a.qa||(a.qa=a.notifySubscribers,a.notifySubscribers=function(e,n){n&&n!==f?"beforeChange"===n?a.kb(e):a.qa(e,n):a.lb(e)});var i=e(function(){r&&s===a&&(s=a()),n=!1,a.Pa(t,s)&&a.qa(t=s)});a.lb=function(e){n=!0,s=e,i()},a.kb=function(e){n||(t=e,a.qa(e,"beforeChange"))}},Ab:function(e){return this.M[e]&&this.M[e].length},yb:function(){var e=0;return d.a.G(this.M,function(n,t){e+=t.length}),e},Pa:function(e,n){return!this.equalityComparer||!this.equalityComparer(e,n)},extend:function(e){var n=this;return e&&d.a.G(e,function(e,t){var s=d.La[e];"function"==typeof s&&(n=s(n,t)||n)}),n}};d.A(m,"subscribe",m.U),d.A(m,"extend",m.extend),d.A(m,"getSubscriptionsCount",m.yb),d.a.xa&&d.a.za(m,Function.prototype),d.P.fn=m,d.Db=function(e){return null!=e&&"function"==typeof e.U&&"function"==typeof e.notifySubscribers},d.b("subscribable",d.P),d.b("isSubscribable",d.Db),d.Y=d.k=function(){function e(e){s.push(t),t=e}function n(){t=s.pop()}var t,s=[],a=0;return{Ea:e,end:n,Jb:function(e){if(t){if(!d.Db(e))throw Error("Only subscribable things can act as dependencies");t.wa(e,e.Vb||(e.Vb=++a))}},B:function(t,s,a){try{return e(),t.apply(s,a||[])}finally{n()}},la:function(){return t?t.s.la():void 0},ma:function(){return t?t.ma:void 0}}}(),d.b("computedContext",d.Y),d.b("computedContext.getDependenciesCount",d.Y.la),d.b("computedContext.isInitial",d.Y.ma),d.b("computedContext.isSleeping",d.Y.Ac),d.p=function(e){function n(){return 0<arguments.length?(n.Pa(t,arguments[0])&&(n.X(),t=arguments[0],n.W()),this):(d.k.Jb(n),t)}var t=e;return d.P.call(n),d.a.Aa(n,d.p.fn),n.v=function(){return t},n.W=function(){n.notifySubscribers(t)},n.X=function(){n.notifySubscribers(t,"beforeChange")},d.A(n,"peek",n.v),d.A(n,"valueHasMutated",n.W),d.A(n,"valueWillMutate",n.X),n},d.p.fn={equalityComparer:l};var v=d.p.rc="__ko_proto__";d.p.fn[v]=d.p,d.a.xa&&d.a.za(d.p.fn,d.P.fn),d.Ma=function(n,t){return null===n||n===e||n[v]===e?!1:n[v]===t?!0:d.Ma(n[v],t)},d.C=function(e){return d.Ma(e,d.p)},d.Ra=function(e){return"function"==typeof e&&e[v]===d.p||"function"==typeof e&&e[v]===d.j&&e.hc?!0:!1},d.b("observable",d.p),d.b("isObservable",d.C),d.b("isWriteableObservable",d.Ra),d.b("isWritableObservable",d.Ra),d.aa=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=d.p(e),d.a.Aa(e,d.aa.fn),e.extend({trackArrayChanges:!0})},d.aa.fn={remove:function(e){for(var n=this.v(),t=[],s="function"!=typeof e||d.C(e)?function(n){return n===e}:e,a=0;a<n.length;a++){var r=n[a];s(r)&&(0===t.length&&this.X(),t.push(r),n.splice(a,1),a--)}return t.length&&this.W(),t},removeAll:function(n){if(n===e){var t=this.v(),s=t.slice(0);return this.X(),t.splice(0,t.length),this.W(),s}return n?this.remove(function(e){return 0<=d.a.m(n,e)}):[]},destroy:function(e){var n=this.v(),t="function"!=typeof e||d.C(e)?function(n){return n===e}:e;this.X();for(var s=n.length-1;s>=0;s--)t(n[s])&&(n[s]._destroy=!0);this.W()},destroyAll:function(n){return n===e?this.destroy(function(){return!0}):n?this.destroy(function(e){return 0<=d.a.m(n,e)}):[]},indexOf:function(e){var n=this();return d.a.m(n,e)},replace:function(e,n){var t=this.indexOf(e);t>=0&&(this.X(),this.v()[t]=n,this.W())}},d.a.u("pop push reverse shift sort splice unshift".split(" "),function(e){d.aa.fn[e]=function(){var n=this.v();return this.X(),this.sb(n,e,arguments),n=n[e].apply(n,arguments),this.W(),n}}),d.a.u(["slice"],function(e){d.aa.fn[e]=function(){var n=this();return n[e].apply(n,arguments)}}),d.a.xa&&d.a.za(d.aa.fn,d.p.fn),d.b("observableArray",d.aa);var g="arrayChange";d.La.trackArrayChanges=function(e){function n(){if(!t){t=!0;var n=e.notifySubscribers;e.notifySubscribers=function(e,t){return t&&t!==f||++a,n.apply(this,arguments)};var r=[].concat(e.v()||[]);s=null,e.U(function(n){if(n=[].concat(n||[]),e.Ab(g)){var t;(!s||a>1)&&(s=d.a.Fa(r,n,{sparse:!0})),t=s,t.length&&e.notifySubscribers(t,g)}r=n,s=null,a=0})}}if(!e.sb){var t=!1,s=null,a=0,r=e.U;e.U=e.subscribe=function(e,t,s){return s===g&&n(),r.apply(this,arguments)},e.sb=function(e,n,r){function i(e,n,t){return o[o.length]={status:e,value:n,index:t}}if(t&&!a){var o=[],l=e.length,c=r.length,p=0;switch(n){case"push":p=l;case"unshift":for(n=0;c>n;n++)i("added",r[n],p+n);break;case"pop":p=l-1;case"shift":l&&i("deleted",e[p],p);break;case"splice":n=Math.min(Math.max(0,0>r[0]?l+r[0]:r[0]),l);for(var l=1===c?l:Math.min(n+(r[1]||0),l),c=n+c-2,p=Math.max(l,c),u=[],h=[],f=2;p>n;++n,++f)l>n&&h.push(i("deleted",e[n],n)),c>n&&u.push(i("added",r[f],n));d.a.wb(h,u);break;default:return}s=o}}}},d.s=d.j=function(n,t,s){function a(){d.a.G(C,function(e,n){n.K()}),C={}}function r(){a(),S=0,v=!0,h=!1}function i(){var e=l.throttleEvaluation;e&&e>=0?(clearTimeout(N),N=setTimeout(o,e)):l.ib?l.ib():o()}function o(n){if(f){if(b)throw Error("A 'pure' computed must not be called recursively")}else if(!v){if(x&&x()){if(!m)return void M()}else m=!1;if(f=!0,y)try{var s={};d.k.Ea({wa:function(e,n){s[n]||(s[n]=1,++S)},s:l,ma:e}),S=0,u=g.call(t)}finally{d.k.end(),f=!1}else try{var a=C,r=S;d.k.Ea({wa:function(e,n){v||(r&&a[n]?(C[n]=a[n],++S,delete a[n],--r):C[n]||(C[n]=e.U(i),++S))},s:l,ma:b?e:!S}),C={},S=0;try{var o=t?g.call(t):g()}finally{d.k.end(),r&&d.a.G(a,function(e,n){n.K()}),h=!1}l.Pa(u,o)&&(l.notifySubscribers(u,"beforeChange"),u=o,!0!==n&&l.notifySubscribers(u))}finally{f=!1}S||M()}}function l(){if(0<arguments.length){if("function"!=typeof w)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return w.apply(t,arguments),this}return d.k.Jb(l),h&&o(!0),u}function c(){return h&&!S&&o(!0),u}function p(){return h||S>0}var u,h=!0,f=!1,m=!1,v=!1,g=n,b=!1,y=!1;if(g&&"object"==typeof g?(s=g,g=s.read):(s=s||{},g||(g=s.read)),"function"!=typeof g)throw Error("Pass a function that returns the value of the ko.computed");var w=s.write,j=s.disposeWhenNodeIsRemoved||s.o||null,k=s.disposeWhen||s.Ia,x=k,M=r,C={},S=0,N=null;t||(t=s.owner),d.P.call(l),d.a.Aa(l,d.j.fn),l.v=c,l.la=function(){return S},l.hc="function"==typeof s.write,l.K=function(){M()},l.Z=p;var T=l.Ta;return l.Ta=function(e){T.call(l,e),l.ib=function(){l.kb(u),h=!0,l.lb(l)}},s.pure?(y=b=!0,l.va=function(){y&&(y=!1,o(!0))},l.nb=function(){l.yb()||(a(),y=h=!0)}):s.deferEvaluation&&(l.va=function(){c(),delete l.va}),d.A(l,"peek",l.v),d.A(l,"dispose",l.K),d.A(l,"isActive",l.Z),d.A(l,"getDependenciesCount",l.la),j&&(m=!0,j.nodeType&&(x=function(){return!d.a.Ja(j)||k&&k()})),y||s.deferEvaluation||o(),j&&p()&&j.nodeType&&(M=function(){d.a.w.Kb(j,M),r()},d.a.w.da(j,M)),l},d.jc=function(e){return d.Ma(e,d.j)},m=d.p.rc,d.j[m]=d.p,d.j.fn={equalityComparer:l},d.j.fn[m]=d.j,d.a.xa&&d.a.za(d.j.fn,d.P.fn),d.b("dependentObservable",d.j),d.b("computed",d.j),d.b("isComputed",d.jc),d.Ib=function(e,n){return"function"==typeof e?d.s(e,n,{pure:!0}):(e=d.a.extend({},e),e.pure=!0,d.s(e,n))},d.b("pureComputed",d.Ib),function(){function n(a,r,i){if(i=i||new s,a=r(a),"object"!=typeof a||null===a||a===e||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var o=a instanceof Array?[]:{};return i.save(a,o),t(a,function(t){var s=r(a[t]);switch(typeof s){case"boolean":case"number":case"string":case"function":o[t]=s;break;case"object":case"undefined":var l=i.get(s);o[t]=l!==e?l:n(s,r,i)}}),o}function t(e,n){if(e instanceof Array){for(var t=0;t<e.length;t++)n(t);"function"==typeof e.toJSON&&n("toJSON")}else for(t in e)n(t)}function s(){this.keys=[],this.hb=[]}d.Qb=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return n(e,function(e){for(var n=0;d.C(e)&&10>n;n++)e=e();return e})},d.toJSON=function(e,n,t){return e=d.Qb(e),d.a.eb(e,n,t)},s.prototype={save:function(e,n){var t=d.a.m(this.keys,e);t>=0?this.hb[t]=n:(this.keys.push(e),this.hb.push(n))},get:function(n){return n=d.a.m(this.keys,n),n>=0?this.hb[n]:e}}}(),d.b("toJS",d.Qb),d.b("toJSON",d.toJSON),function(){d.i={q:function(n){switch(d.a.t(n)){case"option":return!0===n.__ko__hasDomDataOptionValue__?d.a.e.get(n,d.d.options.Va):7>=d.a.L?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return 0<=n.selectedIndex?d.i.q(n.options[n.selectedIndex]):e;default:return n.value}},ca:function(n,t,s){switch(d.a.t(n)){case"option":switch(typeof t){case"string":d.a.e.set(n,d.d.options.Va,e),"__ko__hasDomDataOptionValue__"in n&&delete n.__ko__hasDomDataOptionValue__,n.value=t;break;default:d.a.e.set(n,d.d.options.Va,t),n.__ko__hasDomDataOptionValue__=!0,n.value="number"==typeof t?t:""}break;case"select":(""===t||null===t)&&(t=e);for(var a,r=-1,i=0,o=n.options.length;o>i;++i)if(a=d.i.q(n.options[i]),a==t||""==a&&t===e){r=i;break}(s||r>=0||t===e&&1<n.size)&&(n.selectedIndex=r);break;default:(null===t||t===e)&&(t=""),n.value=t}}}}(),d.b("selectExtensions",d.i),d.b("selectExtensions.readValue",d.i.q),d.b("selectExtensions.writeValue",d.i.ca),d.h=function(){function e(e){e=d.a.cb(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var n,t,i=[],o=e.match(s),l=0;if(o){o.push(",");for(var c,p=0;c=o[p];++p){var u=c.charCodeAt(0);if(44===u){if(0>=l){n&&i.push(t?{key:n,value:t.join("")}:{unknown:n}),n=t=l=0;continue}}else if(58===u){if(!t)continue}else if(47===u&&p&&1<c.length)(u=o[p-1].match(a))&&!r[u[0]]&&(e=e.substr(e.indexOf(c)+1),o=e.match(s),o.push(","),p=-1,c="/");else if(40===u||123===u||91===u)++l;else if(41===u||125===u||93===u)--l;else if(!n&&!t){n=34===u||39===u?c.slice(1,-1):c;continue}t?t.push(c):t=[c]}}return i}var n=["true","false","null","undefined"],t=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,s=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),a=/[\])"'A-Za-z0-9_$]+$/,r={"in":1,"return":1,"typeof":1},i={};return{ha:[],V:i,Wa:e,ya:function(s,a){function r(e,s){var a;if(!p){var u=d.getBindingHandler(e);if(u&&u.preprocess&&!(s=u.preprocess(s,e,r)))return;(u=i[e])&&(a=s,0<=d.a.m(n,a)?a=!1:(u=a.match(t),a=null===u?!1:u[1]?"Object("+u[1]+")"+u[2]:a),u=a),u&&l.push("'"+e+"':function(_z){"+a+"=_z}")}c&&(s="function(){return "+s+" }"),o.push("'"+e+"':"+s)}a=a||{};var o=[],l=[],c=a.valueAccessors,p=a.bindingParams,u="string"==typeof s?e(s):s;return d.a.u(u,function(e){r(e.key||e.unknown,e.value)}),l.length&&r("_ko_property_writers","{"+l.join(",")+" }"),o.join(",")},lc:function(e,n){for(var t=0;t<e.length;t++)if(e[t].key==n)return!0;return!1},pa:function(e,n,t,s,a){e&&d.C(e)?!d.Ra(e)||a&&e.v()===s||e(s):(e=n.get("_ko_property_writers"))&&e[t]&&e[t](s)}}}(),d.b("expressionRewriting",d.h),d.b("expressionRewriting.bindingRewriteValidators",d.h.ha),d.b("expressionRewriting.parseObjectLiteral",d.h.Wa),d.b("expressionRewriting.preProcessBindings",d.h.ya),d.b("expressionRewriting._twoWayBindings",d.h.V),d.b("jsonExpressionRewriting",d.h),d.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",d.h.ya),function(){function e(e){return 8==e.nodeType&&i.test(r?e.text:e.nodeValue)}function n(e){return 8==e.nodeType&&o.test(r?e.text:e.nodeValue)}function s(t,s){for(var a=t,r=1,i=[];a=a.nextSibling;){if(n(a)&&(r--,0===r))return i;i.push(a),e(a)&&r++}if(!s)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function a(e,n){var t=s(e,n);return t?0<t.length?t[t.length-1].nextSibling:e.nextSibling:null}var r=t&&"<!--test-->"===t.createComment("test").text,i=r?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,o=r?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};d.f={Q:{},childNodes:function(n){return e(n)?s(n):n.childNodes},ja:function(n){if(e(n)){n=d.f.childNodes(n);for(var t=0,s=n.length;s>t;t++)d.removeNode(n[t])}else d.a.Ka(n)},T:function(n,t){if(e(n)){d.f.ja(n);for(var s=n.nextSibling,a=0,r=t.length;r>a;a++)s.parentNode.insertBefore(t[a],s)}else d.a.T(n,t)},Hb:function(n,t){e(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},Bb:function(n,t,s){s?e(n)?n.parentNode.insertBefore(t,s.nextSibling):s.nextSibling?n.insertBefore(t,s.nextSibling):n.appendChild(t):d.f.Hb(n,t)},firstChild:function(t){return e(t)?!t.nextSibling||n(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return e(t)&&(t=a(t)),t.nextSibling&&n(t.nextSibling)?null:t.nextSibling},gc:e,xc:function(e){return(e=(r?e.text:e.nodeValue).match(i))?e[1]:null},Fb:function(t){if(l[d.a.t(t)]){var s=t.firstChild;if(s)do if(1===s.nodeType){var r;r=s.firstChild;var i=null;if(r)do if(i)i.push(r);else if(e(r)){var o=a(r,!0);o?r=o:i=[r]}else n(r)&&(i=[r]);while(r=r.nextSibling);if(r=i)for(i=s.nextSibling,o=0;o<r.length;o++)i?t.insertBefore(r[o],i):t.appendChild(r[o])}while(s=s.nextSibling)}}}}(),d.b("virtualElements",d.f),d.b("virtualElements.allowedBindings",d.f.Q),d.b("virtualElements.emptyNode",d.f.ja),d.b("virtualElements.insertAfter",d.f.Bb),d.b("virtualElements.prepend",d.f.Hb),d.b("virtualElements.setDomNodeChildren",d.f.T),function(){d.J=function(){this.Yb={}},d.a.extend(d.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||d.g.getComponentNameForNode(e);case 8:return d.f.gc(e);default:return!1}},getBindings:function(e,n){var t=this.getBindingsString(e,n),t=t?this.parseBindingsString(t,n,e):null;return d.g.mb(t,e,n,!1)},getBindingAccessors:function(e,n){var t=this.getBindingsString(e,n),t=t?this.parseBindingsString(t,n,e,{valueAccessors:!0}):null;return d.g.mb(t,e,n,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return d.f.xc(e);default:return null}},parseBindingsString:function(e,n,t,s){try{var a,r=this.Yb,i=e+(s&&s.valueAccessors||"");if(!(a=r[i])){var o,l="with($context){with($data||{}){return{"+d.h.ya(e,s)+"}}}";o=new Function("$context","$element",l),a=r[i]=o}return a(n,t)}catch(c){throw c.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+c.message,c}}}),d.J.instance=new d.J}(),d.b("bindingProvider",d.J),function(){function t(e){return function(){return e}}function s(e){return e()}function r(e){return d.a.na(d.k.B(e),function(n,t){return function(){return e()[t]
}})}function i(e,n){return r(this.getBindings.bind(this,e,n))}function o(e,n,t){var s,a=d.f.firstChild(n),r=d.J.instance,i=r.preprocessNode;if(i){for(;s=a;)a=d.f.nextSibling(s),i.call(r,s);a=d.f.firstChild(n)}for(;s=a;)a=d.f.nextSibling(s),l(e,s,t)}function l(e,n,t){var s=!0,a=1===n.nodeType;a&&d.f.Fb(n),(a&&t||d.J.instance.nodeHasBindings(n))&&(s=p(n,null,e,t).shouldBindDescendants),s&&!h[d.a.t(n)]&&o(e,n,!a)}function c(e){var n=[],t={},s=[];return d.a.G(e,function a(r){if(!t[r]){var i=d.getBindingHandler(r);i&&(i.after&&(s.push(r),d.a.u(i.after,function(n){if(e[n]){if(-1!==d.a.m(s,n))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+s.join(", "));a(n)}}),s.length--),n.push({key:r,zb:i})),t[r]=!0}}),n}function p(n,t,a,r){var o=d.a.e.get(n,f);if(!t){if(o)throw Error("You cannot apply bindings multiple times to the same element.");d.a.e.set(n,f,!0)}!o&&r&&d.Ob(n,a);var l;if(t&&"function"!=typeof t)l=t;else{var p=d.J.instance,u=p.getBindingAccessors||i,h=d.j(function(){return(l=t?t(a,n):u.call(p,n,a))&&a.I&&a.I(),l},null,{o:n});l&&h.Z()||(h=null)}var m;if(l){var v=h?function(e){return function(){return s(h()[e])}}:function(e){return l[e]},g=function(){return d.a.na(h?h():l,s)};g.get=function(e){return l[e]&&s(v(e))},g.has=function(e){return e in l},r=c(l),d.a.u(r,function(t){var s=t.zb.init,r=t.zb.update,i=t.key;if(8===n.nodeType&&!d.f.Q[i])throw Error("The binding '"+i+"' cannot be used with virtual elements");try{"function"==typeof s&&d.k.B(function(){var t=s(n,v(i),g,a.$data,a);if(t&&t.controlsDescendantBindings){if(m!==e)throw Error("Multiple bindings ("+m+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");m=i}}),"function"==typeof r&&d.j(function(){r(n,v(i),g,a.$data,a)},null,{o:n})}catch(o){throw o.message='Unable to process binding "'+i+": "+l[i]+'"\nMessage: '+o.message,o}})}return{shouldBindDescendants:m===e}}function u(e){return e&&e instanceof d.N?e:new d.N(e)}d.d={};var h={script:!0};d.getBindingHandler=function(e){return d.d[e]},d.N=function(n,t,s,a){var r,i=this,o="function"==typeof n&&!d.C(n),l=d.j(function(){var e=o?n():n,r=d.a.c(e);return t?(t.I&&t.I(),d.a.extend(i,t),l&&(i.I=l)):(i.$parents=[],i.$root=r,i.ko=d),i.$rawData=e,i.$data=r,s&&(i[s]=r),a&&a(i,t,r),i.$data},null,{Ia:function(){return r&&!d.a.ob(r)},o:!0});l.Z()&&(i.I=l,l.equalityComparer=null,r=[],l.Tb=function(n){r.push(n),d.a.w.da(n,function(n){d.a.ua(r,n),r.length||(l.K(),i.I=l=e)})})},d.N.prototype.createChildContext=function(e,n,t){return new d.N(e,this,n,function(e,n){e.$parentContext=n,e.$parent=n.$data,e.$parents=(n.$parents||[]).slice(0),e.$parents.unshift(e.$parent),t&&t(e)})},d.N.prototype.extend=function(e){return new d.N(this.I||this.$data,this,null,function(n,t){n.$rawData=t.$rawData,d.a.extend(n,"function"==typeof e?e():e)})};var f=d.a.e.F(),m=d.a.e.F();d.Ob=function(e,n){return 2!=arguments.length?d.a.e.get(e,m):(d.a.e.set(e,m,n),void(n.I&&n.I.Tb(e)))},d.ra=function(e,n,t){return 1===e.nodeType&&d.f.Fb(e),p(e,n,u(t),!0)},d.Wb=function(e,n,s){return s=u(s),d.ra(e,"function"==typeof n?r(n.bind(null,s,e)):d.a.na(n,t),s)},d.Ca=function(e,n){1!==n.nodeType&&8!==n.nodeType||o(u(e),n,!0)},d.pb=function(e,t){if(!a&&n.jQuery&&(a=n.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,l(u(e),t,!0)},d.Ha=function(n){switch(n.nodeType){case 1:case 8:var t=d.Ob(n);if(t)return t;if(n.parentNode)return d.Ha(n.parentNode)}return e},d.$b=function(n){return(n=d.Ha(n))?n.$data:e},d.b("bindingHandlers",d.d),d.b("applyBindings",d.pb),d.b("applyBindingsToDescendants",d.Ca),d.b("applyBindingAccessorsToNode",d.ra),d.b("applyBindingsToNode",d.Wb),d.b("contextFor",d.Ha),d.b("dataFor",d.$b)}(),function(e){function n(n,s){var i,o=a.hasOwnProperty(n)?a[n]:e;o||(o=a[n]=new d.P,t(n,function(e){r[n]=e,delete a[n],i?o.notifySubscribers(e):setTimeout(function(){o.notifySubscribers(e)},0)}),i=!0),o.U(s)}function t(e,n){s("getConfig",[e],function(t){t?s("loadComponent",[e,t],function(e){n(e)}):n(null)})}function s(n,t,a,r){r||(r=d.g.loaders.slice(0));var i=r.shift();if(i){var o=i[n];if(o){var l=!1;if(o.apply(i,t.concat(function(e){l?a(null):null!==e?a(e):s(n,t,a,r)}))!==e&&(l=!0,!i.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else s(n,t,a,r)}else a(null)}var a={},r={};d.g={get:function(t,s){var a=r.hasOwnProperty(t)?r[t]:e;a?setTimeout(function(){s(a)},0):n(t,s)},tb:function(e){delete r[e]},jb:s},d.g.loaders=[],d.b("components",d.g),d.b("components.get",d.g.get),d.b("components.clearCachedDefinition",d.g.tb)}(),function(){function e(e,n,t,s){function a(){0===--o&&s(r)}var r={},o=2,l=t.template;t=t.viewModel,l?i(n,l,function(n){d.g.jb("loadTemplate",[e,n],function(e){r.template=e,a()})}):a(),t?i(n,t,function(n){d.g.jb("loadViewModel",[e,n],function(e){r[p]=e,a()})}):a()}function s(e,n,t){if("function"==typeof n)t(function(e){return new n(e)});else if("function"==typeof n[p])t(n[p]);else if("instance"in n){var a=n.instance;t(function(){return a})}else"viewModel"in n?s(e,n.viewModel,t):e("Unknown viewModel value: "+n)}function a(e){switch(d.a.t(e)){case"script":return d.a.ba(e.text);case"textarea":return d.a.ba(e.value);case"template":if(r(e.content))return d.a.ia(e.content.childNodes)}return d.a.ia(e.childNodes)}function r(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function i(e,t,s){"string"==typeof t.require?o||n.require?(o||n.require)([t.require],s):e("Uses require, but no AMD loader is present"):s(t)}function l(e){return function(n){throw Error("Component '"+e+"': "+n)}}var c={};d.g.tc=function(e,n){if(!n)throw Error("Invalid configuration for "+e);if(d.g.Qa(e))throw Error("Component "+e+" is already registered");c[e]=n},d.g.Qa=function(e){return e in c},d.g.wc=function(e){delete c[e],d.g.tb(e)},d.g.ub={getConfig:function(e,n){n(c.hasOwnProperty(e)?c[e]:null)},loadComponent:function(n,t,s){var a=l(n);i(a,t,function(t){e(n,a,t,s)})},loadTemplate:function(e,s,i){if(e=l(e),"string"==typeof s)i(d.a.ba(s));else if(s instanceof Array)i(s);else if(r(s))i(d.a.S(s.childNodes));else if(s.element)if(s=s.element,n.HTMLElement?s instanceof HTMLElement:s&&s.tagName&&1===s.nodeType)i(a(s));else if("string"==typeof s){var o=t.getElementById(s);o?i(a(o)):e("Cannot find element with ID "+s)}else e("Unknown element type: "+s);else e("Unknown template value: "+s)},loadViewModel:function(e,n,t){s(l(e),n,t)}};var p="createViewModel";d.b("components.register",d.g.tc),d.b("components.isRegistered",d.g.Qa),d.b("components.unregister",d.g.wc),d.b("components.defaultLoader",d.g.ub),d.g.loaders.push(d.g.ub),d.g.Ub=c}(),function(){function e(e,t){var s=e.getAttribute("params");if(s){var s=n.parseBindingsString(s,t,e,{valueAccessors:!0,bindingParams:!0}),s=d.a.na(s,function(n){return d.s(n,null,{o:e})}),a=d.a.na(s,function(n){return n.Z()?d.s(function(){return d.a.c(n())},null,{o:e}):n.v()});return a.hasOwnProperty("$raw")||(a.$raw=s),a}return{$raw:{}}}d.g.getComponentNameForNode=function(e){return e=d.a.t(e),d.g.Qa(e)&&e},d.g.mb=function(n,t,s,a){if(1===t.nodeType){var r=d.g.getComponentNameForNode(t);if(r){if(n=n||{},n.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var i={name:r,params:e(t,s)};n.component=a?function(){return i}:i}}return n};var n=new d.J;9>d.a.L&&(d.g.register=function(e){return function(n){return t.createElement(n),e.apply(this,arguments)}}(d.g.register),t.createDocumentFragment=function(e){return function(){var n,t=e(),s=d.g.Ub;for(n in s)s.hasOwnProperty(n)&&t.createElement(n);return t}}(t.createDocumentFragment))}(),function(){var e=0;d.d.component={init:function(n,t,s,a,r){function i(){var e=o&&o.dispose;"function"==typeof e&&e.call(o),l=null}var o,l;return d.a.w.da(n,i),d.s(function(){var s,a,c=d.a.c(t());if("string"==typeof c?s=c:(s=d.a.c(c.name),a=d.a.c(c.params)),!s)throw Error("No component name specified");var p=l=++e;d.g.get(s,function(e){if(l===p){if(i(),!e)throw Error("Unknown component '"+s+"'");var t=e.template;if(!t)throw Error("Component '"+s+"' has no template");t=d.a.ia(t),d.f.T(n,t);var t=a,c=e.createViewModel;e=c?c.call(e,t,{element:n}):t,t=r.createChildContext(e),o=e,d.Ca(t,n)}})},null,{o:n}),{controlsDescendantBindings:!0}}},d.f.Q.component=!0}();var b={"class":"className","for":"htmlFor"};d.d.attr={update:function(n,t){var s=d.a.c(t())||{};d.a.G(s,function(t,s){s=d.a.c(s);var a=!1===s||null===s||s===e;a&&n.removeAttribute(t),8>=d.a.L&&t in b?(t=b[t],a?n.removeAttribute(t):n[t]=s):a||n.setAttribute(t,s.toString()),"name"===t&&d.a.Mb(n,a?"":s.toString())})}},function(){d.d.checked={after:["value","attr"],init:function(n,t,s){function a(){var e=n.checked,a=u?i():e;if(!d.Y.ma()&&(!l||e)){var r=d.k.B(t);c?p!==a?(e&&(d.a.ea(r,a,!0),d.a.ea(r,p,!1)),p=a):d.a.ea(r,a,e):d.h.pa(r,s,"checked",a,!0)}}function r(){var e=d.a.c(t());n.checked=c?0<=d.a.m(e,i()):o?e:i()===e}var i=d.Ib(function(){return s.has("checkedValue")?d.a.c(s.get("checkedValue")):s.has("value")?d.a.c(s.get("value")):n.value}),o="checkbox"==n.type,l="radio"==n.type;if(o||l){var c=o&&d.a.c(t())instanceof Array,p=c?i():e,u=l||c;l&&!n.name&&d.d.uniqueName.init(n,function(){return!0}),d.s(a,null,{o:n}),d.a.n(n,"click",a),d.s(r,null,{o:n})}}},d.h.V.checked=!0,d.d.checkedValue={update:function(e,n){e.value=d.a.c(n())}}}(),d.d.css={update:function(e,n){var t=d.a.c(n());"object"==typeof t?d.a.G(t,function(n,t){t=d.a.c(t),d.a.Ba(e,n,t)}):(t=String(t||""),d.a.Ba(e,e.__ko__cssValue,!1),e.__ko__cssValue=t,d.a.Ba(e,t,!0))}},d.d.enable={update:function(e,n){var t=d.a.c(n());t&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}},d.d.disable={update:function(e,n){d.d.enable.update(e,function(){return!d.a.c(n())})}},d.d.event={init:function(e,n,t,s,a){var r=n()||{};d.a.G(r,function(r){"string"==typeof r&&d.a.n(e,r,function(e){var i,o=n()[r];if(o){try{var l=d.a.S(arguments);s=a.$data,l.unshift(s),i=o.apply(s,l)}finally{!0!==i&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===t.get(r+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},d.d.foreach={Eb:function(e){return function(){var n=e(),t=d.a.Xa(n);return t&&"number"!=typeof t.length?(d.a.c(n),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:d.O.Oa}):{foreach:n,templateEngine:d.O.Oa}}},init:function(e,n){return d.d.template.init(e,d.d.foreach.Eb(n))},update:function(e,n,t,s,a){return d.d.template.update(e,d.d.foreach.Eb(n),t,s,a)}},d.h.ha.foreach=!1,d.f.Q.foreach=!0,d.d.hasfocus={init:function(e,n,t){function s(s){e.__ko_hasfocusUpdating=!0;var a=e.ownerDocument;if("activeElement"in a){var r;try{r=a.activeElement}catch(i){r=a.body}s=r===e}a=n(),d.h.pa(a,t,"hasfocus",s,!0),e.__ko_hasfocusLastValue=s,e.__ko_hasfocusUpdating=!1}var a=s.bind(null,!0),r=s.bind(null,!1);d.a.n(e,"focus",a),d.a.n(e,"focusin",a),d.a.n(e,"blur",r),d.a.n(e,"focusout",r)},update:function(e,n){var t=!!d.a.c(n());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),d.k.B(d.a.oa,null,[e,t?"focusin":"focusout"]))}},d.h.V.hasfocus=!0,d.d.hasFocus=d.d.hasfocus,d.h.V.hasFocus=!0,d.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){d.a.$a(e,n())}},u("if"),u("ifnot",!1,!0),u("with",!0,!1,function(e,n){return e.createChildContext(n)});var y={};d.d.options={init:function(e){if("select"!==d.a.t(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(n,t,s){function a(){return d.a.ta(n.options,function(e){return e.selected})}function r(e,n,t){var s=typeof n;return"function"==s?n(e):"string"==s?e[n]:t}function i(e,t){if(u.length){var s=0<=d.a.m(u,d.i.q(t[0]));d.a.Nb(t[0],s),h&&!s&&d.k.B(d.a.oa,null,[n,"change"])}}var o=0!=n.length&&n.multiple?n.scrollTop:null,l=d.a.c(t()),c=s.get("optionsIncludeDestroyed");t={};var p,u;u=n.multiple?d.a.Da(a(),d.i.q):0<=n.selectedIndex?[d.i.q(n.options[n.selectedIndex])]:[],l&&("undefined"==typeof l.length&&(l=[l]),p=d.a.ta(l,function(n){return c||n===e||null===n||!d.a.c(n._destroy)}),s.has("optionsCaption")&&(l=d.a.c(s.get("optionsCaption")),null!==l&&l!==e&&p.unshift(y)));var h=!1;t.beforeRemove=function(e){n.removeChild(e)},l=i,s.has("optionsAfterRender")&&(l=function(n,t){i(0,t),d.k.B(s.get("optionsAfterRender"),null,[t[0],n!==y?n:e])}),d.a.Za(n,p,function(t,a,i){return i.length&&(u=i[0].selected?[d.i.q(i[0])]:[],h=!0),a=n.ownerDocument.createElement("option"),t===y?(d.a.bb(a,s.get("optionsCaption")),d.i.ca(a,e)):(i=r(t,s.get("optionsValue"),t),d.i.ca(a,d.a.c(i)),t=r(t,s.get("optionsText"),i),d.a.bb(a,t)),[a]},t,l),d.k.B(function(){s.get("valueAllowUnset")&&s.has("value")?d.i.ca(n,d.a.c(s.get("value")),!0):(n.multiple?u.length&&a().length<u.length:u.length&&0<=n.selectedIndex?d.i.q(n.options[n.selectedIndex])!==u[0]:u.length||0<=n.selectedIndex)&&d.a.oa(n,"change")}),d.a.dc(n),o&&20<Math.abs(o-n.scrollTop)&&(n.scrollTop=o)}},d.d.options.Va=d.a.e.F(),d.d.selectedOptions={after:["options","foreach"],init:function(e,n,t){d.a.n(e,"change",function(){var s=n(),a=[];d.a.u(e.getElementsByTagName("option"),function(e){e.selected&&a.push(d.i.q(e))}),d.h.pa(s,t,"selectedOptions",a)})},update:function(e,n){if("select"!=d.a.t(e))throw Error("values binding applies only to SELECT elements");var t=d.a.c(n());t&&"number"==typeof t.length&&d.a.u(e.getElementsByTagName("option"),function(e){var n=0<=d.a.m(t,d.i.q(e));d.a.Nb(e,n)})}},d.h.V.selectedOptions=!0,d.d.style={update:function(n,t){var s=d.a.c(t()||{});d.a.G(s,function(t,s){s=d.a.c(s),(null===s||s===e||!1===s)&&(s=""),n.style[t]=s})}},d.d.submit={init:function(e,n,t,s,a){if("function"!=typeof n())throw Error("The value for a submit binding must be a function");d.a.n(e,"submit",function(t){var s,r=n();try{s=r.call(a.$data,e)}finally{!0!==s&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},d.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){d.a.bb(e,n())}},d.f.Q.text=!0,function(){if(n&&n.navigator)var t=function(e){return e?parseFloat(e[1]):void 0},s=n.opera&&n.opera.version&&parseInt(n.opera.version()),a=n.navigator.userAgent,r=t(a.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),i=t(a.match(/Firefox\/([^ ]*)/));if(10>d.a.L)var o=d.a.e.F(),l=d.a.e.F(),c=function(e){var n=this.activeElement;(n=n&&d.a.e.get(n,l))&&n(e)},p=function(e,n){var t=e.ownerDocument;d.a.e.get(t,o)||(d.a.e.set(t,o,!0),d.a.n(t,"selectionchange",c)),d.a.e.set(e,l,n)};d.d.textInput={init:function(n,t,a){function o(e,t){d.a.n(n,e,t)}function l(){var s=d.a.c(t());(null===s||s===e)&&(s=""),f!==e&&s===f?setTimeout(l,4):n.value!==s&&(m=s,n.value=s)}function c(){h||(f=n.value,h=setTimeout(u,4))}function u(){clearTimeout(h),f=h=e;var s=n.value;m!==s&&(m=s,d.h.pa(t(),a,"textInput",s))}var h,f,m=n.value;10>d.a.L?(o("propertychange",function(e){"value"===e.propertyName&&u()}),8==d.a.L&&(o("keyup",u),o("keydown",u)),8<=d.a.L&&(p(n,u),o("dragend",c))):(o("input",u),5>r&&"textarea"===d.a.t(n)?(o("keydown",c),o("paste",c),o("cut",c)):11>s?o("keydown",c):4>i&&(o("DOMAutoComplete",u),o("dragdrop",u),o("drop",u))),o("change",u),d.s(l,null,{o:n})}},d.h.V.textInput=!0,d.d.textinput={preprocess:function(e,n,t){t("textInput",e)}}}(),d.d.uniqueName={init:function(e,n){if(n()){var t="ko_unique_"+ ++d.d.uniqueName.Zb;d.a.Mb(e,t)}}},d.d.uniqueName.Zb=0,d.d.value={after:["options","foreach"],init:function(e,n,t){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var s=["change"],a=t.get("valueUpdate"),r=!1,i=null;a&&("string"==typeof a&&(a=[a]),d.a.ga(s,a),s=d.a.rb(s));var o=function(){i=null,r=!1;var s=n(),a=d.i.q(e);d.h.pa(s,t,"value",a)};!d.a.L||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=d.a.m(s,"propertychange")||(d.a.n(e,"propertychange",function(){r=!0}),d.a.n(e,"focus",function(){r=!1}),d.a.n(e,"blur",function(){r&&o()})),d.a.u(s,function(n){var t=o;d.a.vc(n,"after")&&(t=function(){i=d.i.q(e),setTimeout(o,0)},n=n.substring(5)),d.a.n(e,n,t)});var l=function(){var s=d.a.c(n()),a=d.i.q(e);if(null!==i&&s===i)setTimeout(l,0);else if(s!==a)if("select"===d.a.t(e)){var r=t.get("valueAllowUnset"),a=function(){d.i.ca(e,s,r)};a(),r||s===d.i.q(e)?setTimeout(a,0):d.k.B(d.a.oa,null,[e,"change"])}else d.i.ca(e,s)};d.s(l,null,{o:e})}else d.ra(e,{checkedValue:n})},update:function(){}},d.h.V.value=!0,d.d.visible={update:function(e,n){var t=d.a.c(n()),s="none"!=e.style.display;t&&!s?e.style.display="":!t&&s&&(e.style.display="none")}},function(e){d.d[e]={init:function(n,t,s,a,r){return d.d.event.init.call(this,n,function(){var n={};return n[e]=t(),n},s,a,r)}}}("click"),d.H=function(){},d.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},d.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},d.H.prototype.makeTemplateSource=function(e,n){if("string"==typeof e){n=n||t;var s=n.getElementById(e);if(!s)throw Error("Cannot find template with ID "+e);return new d.r.l(s)}if(1==e.nodeType||8==e.nodeType)return new d.r.fa(e);throw Error("Unknown template type: "+e)},d.H.prototype.renderTemplate=function(e,n,t,s){return e=this.makeTemplateSource(e,s),this.renderTemplateSource(e,n,t)},d.H.prototype.isTemplateRewritten=function(e,n){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(e,n).data("isRewritten")},d.H.prototype.rewriteTemplate=function(e,n,t){e=this.makeTemplateSource(e,t),n=n(e.text()),e.text(n),e.data("isRewritten",!0)},d.b("templateEngine",d.H),d.fb=function(){function e(e,n,t,s){e=d.h.Wa(e);for(var a=d.h.ha,r=0;r<e.length;r++){var i=e[r].key;if(a.hasOwnProperty(i)){var o=a[i];if("function"==typeof o){if(i=o(e[r].value))throw Error(i)}else if(!o)throw Error("This template engine does not support the '"+i+"' binding within its templates")}}return t="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+d.h.ya(e,{valueAccessors:!0})+" } })()},'"+t.toLowerCase()+"')",s.createJavaScriptEvaluatorBlock(t)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,t=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(e,n,t){n.isTemplateRewritten(e,t)||n.rewriteTemplate(e,function(e){return d.fb.nc(e,n)},t)},nc:function(s,a){return s.replace(n,function(n,t,s,r,i){return e(i,t,s,a)}).replace(t,function(n,t){return e(t,"<!-- ko -->","#comment",a)})},Xb:function(e,n){return d.D.Ua(function(t,s){var a=t.nextSibling;a&&a.nodeName.toLowerCase()===n&&d.ra(a,e,s)})}}}(),d.b("__tr_ambtns",d.fb.Xb),function(){d.r={},d.r.l=function(e){this.l=e},d.r.l.prototype.text=function(){var e=d.a.t(this.l),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.l[e];var n=arguments[0];"innerHTML"===e?d.a.$a(this.l,n):this.l[e]=n};var n=d.a.e.F()+"_";d.r.l.prototype.data=function(e){return 1===arguments.length?d.a.e.get(this.l,n+e):void d.a.e.set(this.l,n+e,arguments[1])};var t=d.a.e.F();d.r.fa=function(e){this.l=e},d.r.fa.prototype=new d.r.l,d.r.fa.prototype.text=function(){if(0==arguments.length){var n=d.a.e.get(this.l,t)||{};return n.gb===e&&n.Ga&&(n.gb=n.Ga.innerHTML),n.gb}d.a.e.set(this.l,t,{gb:arguments[0]})},d.r.l.prototype.nodes=function(){return 0==arguments.length?(d.a.e.get(this.l,t)||{}).Ga:void d.a.e.set(this.l,t,{Ga:arguments[0]})},d.b("templateSources",d.r),d.b("templateSources.domElement",d.r.l),d.b("templateSources.anonymousTemplate",d.r.fa)}(),function(){function n(e,n,t){var s;for(n=d.f.nextSibling(n);e&&(s=e)!==n;)e=d.f.nextSibling(s),t(s,e)}function t(e,t){if(e.length){var s=e[0],a=e[e.length-1],r=s.parentNode,i=d.J.instance,o=i.preprocessNode;if(o){if(n(s,a,function(e,n){var t=e.previousSibling,r=o.call(i,e);r&&(e===s&&(s=r[0]||n),e===a&&(a=r[r.length-1]||t))}),e.length=0,!s)return;s===a?e.push(s):(e.push(s,a),d.a.ka(e,r))}n(s,a,function(e){1!==e.nodeType&&8!==e.nodeType||d.pb(t,e)}),n(s,a,function(e){1!==e.nodeType&&8!==e.nodeType||d.D.Sb(e,[t])}),d.a.ka(e,r)}}function s(e){return e.nodeType?e:0<e.length?e[0]:null}function a(e,n,a,i,o){o=o||{};var l=e&&s(e),l=l&&l.ownerDocument,c=o.templateEngine||r;if(d.fb.ec(a,c,l),a=c.renderTemplate(a,i,o,l),"number"!=typeof a.length||0<a.length&&"number"!=typeof a[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,n){case"replaceChildren":d.f.T(e,a),l=!0;break;case"replaceNode":d.a.Lb(e,a),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return l&&(t(a,i),o.afterRender&&d.k.B(o.afterRender,null,[a,i.$data])),a}var r;d.ab=function(n){if(n!=e&&!(n instanceof d.H))throw Error("templateEngine must inherit from ko.templateEngine");r=n},d.Ya=function(n,t,i,o,l){if(i=i||{},(i.templateEngine||r)==e)throw Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",o){var c=s(o);return d.j(function(){var e=t&&t instanceof d.N?t:new d.N(d.a.c(t)),r=d.C(n)?n():"function"==typeof n?n(e.$data,e):n,e=a(o,l,r,e,i);"replaceNode"==l&&(o=e,c=s(o))},null,{Ia:function(){return!c||!d.a.Ja(c)},o:c&&"replaceNode"==l?c.parentNode:c})}return d.D.Ua(function(e){d.Ya(n,t,i,e,"replaceNode")})},d.uc=function(n,s,r,i,o){function l(e,n){t(n,p),r.afterRender&&r.afterRender(n,e)}function c(e,t){p=o.createChildContext(e,r.as,function(e){e.$index=t});var s=d.C(n)?n():"function"==typeof n?n(e,p):n;return a(null,"ignoreTargetNode",s,p,r)}var p;return d.j(function(){var n=d.a.c(s)||[];"undefined"==typeof n.length&&(n=[n]),n=d.a.ta(n,function(n){return r.includeDestroyed||n===e||null===n||!d.a.c(n._destroy)}),d.k.B(d.a.Za,null,[i,n,c,r,l])},null,{o:i})};var i=d.a.e.F();d.d.template={init:function(e,n){var t=d.a.c(n());return"string"==typeof t||t.name?d.f.ja(e):(t=d.f.childNodes(e),t=d.a.oc(t),new d.r.fa(e).nodes(t)),{controlsDescendantBindings:!0}},update:function(n,t,s,a,r){var o,l=t();t=d.a.c(l),s=!0,a=null,"string"==typeof t?t={}:(l=t.name,"if"in t&&(s=d.a.c(t["if"])),s&&"ifnot"in t&&(s=!d.a.c(t.ifnot)),o=d.a.c(t.data)),"foreach"in t?a=d.uc(l||n,s&&t.foreach||[],t,n,r):s?(r="data"in t?r.createChildContext(o,t.as):r,a=d.Ya(l||n,r,t,n)):d.f.ja(n),r=a,(o=d.a.e.get(n,i))&&"function"==typeof o.K&&o.K(),d.a.e.set(n,i,r&&r.Z()?r:e)}},d.h.ha.template=function(e){return e=d.h.Wa(e),1==e.length&&e[0].unknown||d.h.lc(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},d.f.Q.template=!0}(),d.b("setTemplateEngine",d.ab),d.b("renderTemplate",d.Ya),d.a.wb=function(e,n,t){if(e.length&&n.length){var s,a,r,i,o;for(s=a=0;(!t||t>s)&&(i=e[a]);++a){for(r=0;o=n[r];++r)if(i.value===o.value){i.moved=o.index,o.moved=i.index,n.splice(r,1),s=r=0;break}s+=r}}},d.a.Fa=function(){function e(e,n,t,s,a){var r,i,o,l,c,p=Math.min,u=Math.max,h=[],f=e.length,m=n.length,v=m-f||1,g=f+m+1;for(r=0;f>=r;r++)for(l=o,h.push(o=[]),c=p(m,r+v),i=u(0,r-1);c>=i;i++)o[i]=i?r?e[r-1]===n[i-1]?l[i-1]:p(l[i]||g,o[i-1]||g)+1:i+1:r+1;for(p=[],u=[],v=[],r=f,i=m;r||i;)m=h[r][i]-1,i&&m===h[r][i-1]?u.push(p[p.length]={status:t,value:n[--i],index:i}):r&&m===h[r-1][i]?v.push(p[p.length]={status:s,value:e[--r],index:r}):(--i,--r,a.sparse||p.push({status:"retained",value:n[i]}));return d.a.wb(u,v,10*f),p.reverse()}return function(n,t,s){return s="boolean"==typeof s?{dontLimitMoves:s}:s||{},n=n||[],t=t||[],n.length<=t.length?e(n,t,"added","deleted",s):e(t,n,"deleted","added",s)}}(),d.b("utils.compareArrays",d.a.Fa),function(){function n(n,t,s,a,r){var i=[],o=d.j(function(){var e=t(s,r,d.a.ka(i,n))||[];0<i.length&&(d.a.Lb(i,e),a&&d.k.B(a,null,[s,e,r])),i.length=0,d.a.ga(i,e)},null,{o:n,Ia:function(){return!d.a.ob(i)}});return{$:i,j:o.Z()?o:e}}var t=d.a.e.F();d.a.Za=function(s,a,r,i,o){function l(e,n){w=u[n],g!==n&&(x[e]=w),w.Na(g++),d.a.ka(w.$,s),m.push(w),y.push(w)}function c(e,n){if(e)for(var t=0,s=n.length;s>t;t++)n[t]&&d.a.u(n[t].$,function(s){e(s,t,n[t].sa)})}a=a||[],i=i||{};var p=d.a.e.get(s,t)===e,u=d.a.e.get(s,t)||[],h=d.a.Da(u,function(e){return e.sa}),f=d.a.Fa(h,a,i.dontLimitMoves),m=[],v=0,g=0,b=[],y=[];a=[];for(var w,j,k,x=[],h=[],M=0;j=f[M];M++)switch(k=j.moved,j.status){case"deleted":k===e&&(w=u[v],w.j&&w.j.K(),b.push.apply(b,d.a.ka(w.$,s)),i.beforeRemove&&(a[M]=w,y.push(w))),v++;break;case"retained":l(M,v++);break;case"added":k!==e?l(M,k):(w={sa:j.value,Na:d.p(g++)},m.push(w),y.push(w),p||(h[M]=w))}c(i.beforeMove,x),d.a.u(b,i.beforeRemove?d.R:d.removeNode);for(var C,M=0,p=d.f.firstChild(s);w=y[M];M++){for(w.$||d.a.extend(w,n(s,r,w.sa,o,w.Na)),v=0;f=w.$[v];p=f.nextSibling,C=f,v++)f!==p&&d.f.Bb(s,f,C);!w.ic&&o&&(o(w.sa,w.$,w.Na),w.ic=!0)}c(i.beforeRemove,a),c(i.afterMove,x),c(i.afterAdd,h),d.a.e.set(s,t,m)}}(),d.b("utils.setDomNodeChildrenFromArrayMapping",d.a.Za),d.O=function(){this.allowTemplateRewriting=!1},d.O.prototype=new d.H,d.O.prototype.renderTemplateSource=function(e){var n=(9>d.a.L?0:e.nodes)?e.nodes():null;return n?d.a.S(n.cloneNode(!0).childNodes):(e=e.text(),d.a.ba(e))},d.O.Oa=new d.O,d.ab(d.O.Oa),d.b("nativeTemplateEngine",d.O),function(){d.Sa=function(){var e=this.kc=function(){if(!a||!a.tmpl)return 0;try{if(0<=a.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,s,r){if(r=r||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var i=n.data("precompiled");return i||(i=n.text()||"",i=a.template(null,"{{ko_with $item.koBindingContext}}"+i+"{{/ko_with}}"),n.data("precompiled",i)),n=[s.$data],s=a.extend({koBindingContext:s},r.templateOptions),s=a.tmpl(i,n,s),s.appendTo(t.createElement("div")),a.fragments={},s},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,n){t.write("<script type='text/html' id='"+e+"'>"+n+"</script>")},e>0&&(a.tmpl.tag.ko_code={open:"__.push($1 || '');"},a.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},d.Sa.prototype=new d.H;var e=new d.Sa;0<e.kc&&d.ab(e),d.b("jqueryTmplTemplateEngine",d.Sa)}()})}()}(),function(e,n){"object"==typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("conduitjs",[],n(e)):e.Conduit=n(e)}(this,function(){function e(e){if("function"!=typeof e.target)throw new Error("You can only make functions into Conduits.");var n={pre:e.pre||[],post:e.post||[],all:[]},t=e.context,s=e.target,a={isTarget:!0,fn:e.sync?function(){var e=Array.prototype.slice.call(arguments,0),n=s.apply(t,e);return n}:function(e){var n=Array.prototype.slice.call(arguments,1);n.splice(1,1,s.apply(t,n)),e.apply(this,n)}},r=function(){n.all=n.pre.concat([a].concat(n.post))};r();var i=function(){var s,a,r=0,i=function o(){var i,l,c=Array.prototype.slice.call(arguments,0),p=r;r+=1,p<n.all.length&&(i=n.all[p],a="target"===a?"after":i.isTarget?"target":"before",e.sync?"before"===a?(l=i.fn.apply(i.context||t,c),o.apply(this,l||c)):(s=i.fn.apply(i.context||t,c)||s,o.apply(this,[s].concat(c))):i.fn.apply(i.context||t,[o].concat(c)))};return i.apply(this,arguments),s};return i.steps=function(){return n.all},i.context=function(e){return 0===arguments.length?t:void(t=e)},i.before=function(e,t){e="function"==typeof e?{fn:e}:e,t=t||{},t.prepend?n.pre.unshift(e):n.pre.push(e),r()},i.after=function(e,t){e="function"==typeof e?{fn:e}:e,t=t||{},t.prepend?n.post.unshift(e):n.post.push(e),r()},i.clear=function(){n={pre:[],post:[],all:[]},r()},i.target=function(e){return e&&(s=e),s},i}return{Sync:function(n){return n.sync=!0,e.call(this,n)},Async:function(n){return e.call(this,n)}}}),function(e,n){"object"==typeof module&&module.exports?module.exports=n(require("lodash"),require("conduitjs"),this):"function"==typeof define&&define.amd?define("postal",["lodash","conduitjs"],function(t,s){return n(t,s,e)}):e.postal=n(e._,e.Conduit,e)}(this,function(e,n,t){function s(){for(;y.length;)c.unsubscribe(y.shift())}function a(e,n){return{channel:c.configuration.SYSTEM_CHANNEL,topic:"subscription."+e,data:{event:"subscription."+e,channel:n.channel,topic:n.topic}}}function r(n){return"function"==typeof n?n:n?function(t){var s=0,a=0;return e.each(n,function(e,r){s+=1,("topic"===r&&c.configuration.resolver.compare(t.topic,n.topic)||"context"===r&&n.context===(t.callback.context&&t.callback.context()||t.context)||t[r]===n[r])&&(a+=1)}),s===a}:function(){return!0}}function i(e){var n,t=new d(e.channel||this.configuration.DEFAULT_CHANNEL,e.topic,e.callback),s=this.subscriptions[t.channel];return s||(s=this.subscriptions[t.channel]={}),n=this.subscriptions[t.channel][t.topic],n||(n=this.subscriptions[t.channel][t.topic]=[]),n.push(t),t}function o(n){++b,n.channel=n.channel||this.configuration.DEFAULT_CHANNEL,n.timeStamp=new Date,e.each(this.wireTaps,function(e){e(n.data,n)}),this.subscriptions[n.channel]&&e.each(this.subscriptions[n.channel],function(e){for(var t,s=0,a=e.length;a>s;)(t=e[s++])&&g(t,n)}),0===--b&&s()}function l(){for(var e,n=0,t=Array.prototype.slice.call(arguments,0);e=t.shift();){if(b)return void y.push(e);if(this.subscriptions[e.channel]&&this.subscriptions[e.channel][e.topic]){var s=this.subscriptions[e.channel][e.topic].length;for(n=0;s>n;){if(this.subscriptions[e.channel][e.topic][n]===e){this.subscriptions[e.channel][e.topic].splice(n,1);break}n+=1}}c.publish(a("removed",e))}}var c,p=t.postal,u=function(e){this.channel=e||c.configuration.DEFAULT_CHANNEL,this.initialize()};u.prototype.initialize=function(){var e=this.publish;this.publish=new n.Async({target:e,context:this})},u.prototype.subscribe=function(){return c.subscribe({channel:this.channel,topic:1===arguments.length?arguments[0].topic:arguments[0],callback:1===arguments.length?arguments[0].callback:arguments[1]})},u.prototype.publish=function(){var e=1===arguments.length?"[object String]"===Object.prototype.toString.call(arguments[0])?{topic:arguments[0]}:arguments[0]:{topic:arguments[0],data:arguments[1]};e.channel=this.channel,c.publish(e)};var d=function(e,n,t){if(3!==arguments.length)throw new Error("You must provide a channel, topic and callback when creating a SubscriptionDefinition instance.");if(0===n.length)throw new Error("Topics cannot be empty");this.channel=e,this.topic=n,this.subscribe(t)},h=function(){var n;return function(t){var s=!1;return e.isString(t)?(s=t===n,n=t):(s=e.isEqual(t,n),n=e.clone(t)),!s}},f=function(){var n=[];return function(t){var s=!e.any(n,function(n){return e.isObject(t)||e.isArray(t)?e.isEqual(t,n):t===n});return s&&n.push(t),s}},m={withDelay:function(n){if(e.isNaN(n))throw"Milliseconds must be a number";return{name:"withDelay",fn:function(e,t,s){setTimeout(function(){e(t,s)},n)}}},defer:function(){return this.withDelay(0)},stopAfter:function(n,t){if(e.isNaN(n)||0>=n)throw"The value provided to disposeAfter (maxCalls) must be a number greater than zero.";var s=e.after(n,t);return{name:"stopAfter",fn:function(e,n,t){s(),e(n,t)}}},withThrottle:function(n){if(e.isNaN(n))throw"Milliseconds must be a number";return{name:"withThrottle",fn:e.throttle(function(e,n,t){e(n,t)},n)}},withDebounce:function(n,t){if(e.isNaN(n))throw"Milliseconds must be a number";return{name:"debounce",fn:e.debounce(function(e,n,t){e(n,t)},n,!!t)}},withConstraint:function(n){if(!e.isFunction(n))throw"Predicate constraint must be a function";return{name:"withConstraint",fn:function(e,t,s){n.call(this,t,s)&&e.call(this,t,s)}}},distinct:function(e){e=e||{};var n=function(e){return e[0]},t=e.all?new f(n):new h(n);return{name:"distinct",fn:function(e,n,s){t(n)&&e(n,s)}}}};d.prototype={after:function(){return this.callback.after.apply(this,arguments),this},before:function(){return this.callback.before.apply(this,arguments),this
},"catch":function(e){var n=this.callback.target(),t=function(){try{n.apply(this,arguments)}catch(t){e(t,arguments[0])}};return this.callback.target(t),this},defer:function(){return this.callback.before(m.defer()),this},disposeAfter:function(e){var n=this;return n.callback.before(m.stopAfter(e,function(){n.unsubscribe.call(n)})),n},distinctUntilChanged:function(){return this.callback.before(m.distinct()),this},distinct:function(){return this.callback.before(m.distinct({all:!0})),this},logError:function(){if(console){var e;e=console.warn?console.warn:console.log,this.catch(e)}return this},once:function(){return this.disposeAfter(1),this},subscribe:function(e){return this.callback=new n.Async({target:e,context:this}),this},unsubscribe:function(){this.inactive||(this.inactive=!0,c.unsubscribe(this))},withConstraint:function(e){return this.callback.before(m.withConstraint(e)),this},withConstraints:function(e){for(;e.length;)this.callback.before(m.withConstraint(e.shift()));return this},withDebounce:function(e,n){return this.callback.before(m.withDebounce(e,n)),this},withDelay:function(e){return this.callback.before(m.withDelay(e)),this},withThrottle:function(e){return this.callback.before(m.withThrottle(e)),this},withContext:function(e){return this.callback.context(e),this}};var v={cache:{},regex:{},compare:function(n,t){var s,a,r,i=this.cache[t]&&this.cache[t][n];return"undefined"!=typeof i?i:((a=this.regex[n])||(s="^"+e.map(n.split("."),function(e){var n="";return r&&(n="#"!==r?"\\.\\b":"\\b"),n+="#"===e?"[\\s\\S]*":"*"===e?"[^.]+":e,r=e,n}).join("")+"$",a=this.regex[n]=new RegExp(s)),this.cache[t]=this.cache[t]||{},this.cache[t][n]=i=a.test(t),i)},reset:function(){this.cache={},this.regex={}}},g=function(e,n){!e.inactive&&c.configuration.resolver.compare(e.topic,n.topic)&&e.callback(n.data,n)},b=0,y=[];if(c={configuration:{resolver:v,DEFAULT_CHANNEL:"/",SYSTEM_CHANNEL:"postal"},subscriptions:{},wireTaps:[],ChannelDefinition:u,SubscriptionDefinition:d,channel:function(e){return new u(e)},addWireTap:function(e){var n=this;return n.wireTaps.push(e),function(){var t=n.wireTaps.indexOf(e);-1!==t&&n.wireTaps.splice(t,1)}},noConflict:function(){if("undefined"==typeof window||"undefined"!=typeof window&&"function"==typeof define&&define.amd)throw new Error("noConflict can only be used in browser clients which aren't using AMD modules");return t.postal=p,this},getSubscribersFor:function(n){var t=[];return e.each(this.subscriptions,function(s){e.each(s,function(s){t=t.concat(e.filter(s,r(n)))})}),t},reset:function(){this.unsubscribeFor(),this.configuration.resolver.reset(),this.subscriptions={}},unsubscribeFor:function(e){var n=[];this.subscriptions&&(n=this.getSubscribersFor(e),this.unsubscribe.apply(this,n))}},c.subscribe=new n.Sync({target:i,context:c}),c.publish=n.Async({target:o,context:c}),c.unsubscribe=new n.Sync({target:l,context:c}),c.subscribe.after(function(e){c.publish(a("created",e))}),c.subscriptions[c.configuration.SYSTEM_CHANNEL]={},c.linkChannels=function(n,t){var s=[],a=this;return n=e.isArray(n)?n:[n],t=e.isArray(t)?t:[t],e.each(n,function(n){var r=n.topic||"#";e.each(t,function(t){var i=t.channel||a.configuration.DEFAULT_CHANNEL;s.push(a.subscribe({channel:n.channel||a.configuration.DEFAULT_CHANNEL,topic:r,callback:function(n,s){var r=e.clone(s);r.topic=e.isFunction(t.topic)?t.topic(s.topic):t.topic||s.topic,r.channel=i,r.data=n,a.publish(r)}}))})}),s},t&&Object.prototype.hasOwnProperty.call(t,"__postalReady__")&&e.isArray(t.__postalReady__))for(;t.__postalReady__.length;)t.__postalReady__.shift().onReady(c);return c}),function(e,n){"function"==typeof define&&define.amd?define("footwork",["lodash","knockout","postal"],n):"object"==typeof exports?module.exports=n(require("lodash"),require("knockout"),require("postal")):e.fw=n(e._,e.ko,e.postal)}(this,function(e,n,t){var s=window;return window.require="undefined"!=typeof require?require:void 0,window.define="undefined"!=typeof define?define:void 0,function(){var a={},r=void 0,i=void 0;e.extend(a,{_:e,ko:n,postal:t}),function(){!function(e,n){"object"==typeof i&&i.exports?i.exports=n(require("lodash")):"function"==typeof r&&r.amd?r(["lodash"],function(t){return n(t,e)}):e.riveter=n(e._,e)}(this,function(e){var n=Array.prototype.slice,t=function(){for(var e=n.call(arguments,0);e.length;)t.rivet(e.shift())};return t.rivet=function(e){e.hasOwnProperty("extend")||(e.extend=function(n,s){return t.extend(e,n,s)}),e.hasOwnProperty("compose")||(e.compose=function(){return t.compose.apply(this,[e].concat(n.call(arguments,0)))}),e.hasOwnProperty("inherits")||(e.inherits=function(n,s){t.inherits(e,n,s)}),e.hasOwnProperty("mixin")||(e.mixin=function(){t.mixin.apply(this,[e].concat(n.call(arguments,0)))})},t.inherits=function(n,s,a){var r,i=function(){},o=function(){s.apply(this,arguments)};return"object"==typeof n?(n.hasOwnProperty("constructor")&&(o=n.constructor),r=n):(o=n,r=n.prototype),t.rivet(o),e.defaults(o,s,a),i.prototype=s.prototype,o.prototype=new i,e.extend(o.prototype,r,{constructor:o}),o.__super=s,o.__super__=s.prototype,o},t.extend=function(e,n,s){return t.inherits(n,e,s)},t.compose=function(){var s=n.call(arguments,0),a=s.shift();t.rivet(a);var r=e.reduce(s,function(e,n){return n.hasOwnProperty("_preInit")&&e.preInit.push(n._preInit),n.hasOwnProperty("_postInit")&&e.postInit.push(n._postInit),n=n.mixin||n,e.items.push(n),e},{items:[],preInit:[],postInit:[]}),i=a.extend({constructor:function(){var t=n.call(arguments,0);e.each(r.preInit,function(e){e.apply(this,t)},this),a.prototype.constructor.apply(this,t),e.each(r.postInit,function(e){e.apply(this,t)},this)}});return t.rivet(i),e.defaults(i.prototype,e.extend.apply(null,[{}].concat(r.items))),i},t.mixin=function(){var s=n.call(arguments,0),a=s.shift();t.rivet(a),e.defaults(a.prototype,e.extend.apply(null,[{}].concat(s)))},t})}.call(a),"undefined"==typeof a.postal.preserve&&function(){!function(e,n){"object"==typeof i&&i.exports?i.exports=function(e){n(require("lodash"),require("conduitjs"),e,this)}:"function"==typeof r&&r.amd?r(["lodash","conduitjs","postal"],function(t,s,a){return n(t,s,a,e)}):e.postal=n(e._,e.Conduit,e.postal,e)}(this,function(e,n,t){function s(){for(var n=new Date,t=e.filter(a.expiring,function(e){return e.expires<n});t.length;)t.pop().purge()}{var a=t.preserve={store:{},expiring:[]},r=(t.channel(t.configuration.SYSTEM_CHANNEL),function(e,n){return n.expires-e.expires});t.addWireTap(function(n,t){var s=t.channel,i=t.topic;t.headers&&t.headers.preserve&&(a.store[s]=a.store[s]||{},a.store[s][i]=a.store[s][i]||[],a.store[s][i].push(t),t.headers.expires&&(a.expiring.push({expires:t.headers.expires,purge:function(){a.store[s][i]=e.without(a.store[s][i],t),a.expiring=e.without(a.expiring,this)}}),a.expiring.sort(r)))})}if(!t.subscribe.after){var i=t.subscribe;t.subscribe=new n.Sync({context:t,target:i})}return t.SubscriptionDefinition.prototype.enlistPreserved=function(){var n=this.channel,r=this.topic,i=this;return s(!0),a.store[n]&&e.each(a.store[n],function(n,s){t.configuration.resolver.compare(r,s)&&e.each(n,function(e){i.callback.call(i.context||i.callback.context&&i.callback.context()||this,e.data,e)})}),this},t})}.call(a);var o=["riveter"];return function(e,n,t,s,a,r){function i(e){for(var n=i.options,t=n.parser[n.strictMode?"strict":"loose"].exec(e),s={},a=14;a--;)s[n.key[a]]=t[a]||"";return s[n.q.name]={},s[n.key[12]].replace(n.q.parser,function(e,t,a){t&&(s[n.q.name][t]=a)}),s}function o(e,n){return z(fn[e])?fn[e]=0:fn[e]++,e+(n===!0?fn[e]:"")}function l(e,n,t){var s={topic:e,data:n};return z(t)||(s.headers={preserve:!0},t instanceof Date&&(s.expires=t)),s}function c(e,n,t){return this.publish(l("event."+e,n,t)),this}function p(e,n,t){z(t)||(n=G(n,t));var s=this.subscribe("event."+e,n).enlistPreserved();return this.eventHandlers.push(s),s}function u(e){return e.unsubscribe(),this}function d(e,n,t){return this.publish(l("command."+e,n,t)),this}function h(e,n,t){z(t)||(n=G(n,t));var s=this.subscribe("command."+e,n).enlistPreserved();return this.commandHandlers.push(s),s}function f(e,n,t){var s,a=void 0;return s=this.subscribe("request."+e+".response",function(e){z(a)?a=t?[e]:e:t&&a.push(e)}),this.publish(l("request."+e,n)),s.unsubscribe(),a}function m(e,n,t){z(t)||(n=G(n,t));var s=G(function(t){var s=n(t);this.publish(l("request."+e+".response",s))},this),a=this.subscribe("request."+e,s);return this.requestHandlers.push(a),a}function v(){return Z(this.requestHandlers,"unsubscribe"),Z(this.commandHandlers,"unsubscribe"),Z(this.eventHandlers,"unsubscribe"),this}function g(){return this.channel}function b(e){return q(e)&&!!e.__isReceiver}function y(e){return q(e)&&!!e.__isBroadcaster}function w(e){return X({id:an("route")},On,e)}function j(e){return e=e.replace(_n,"\\$&").replace(Nn,"(?:$1)?").replace(Tn,function(e,n){return n?e:"([^/]+)"}).replace(Pn,"(.*?)"),new RegExp("^"+e+("/"!==e?"(\\/.*)*$":"$"),An?void 0:"i")}function k(){var e=tn(History,"Adapter");return e&&z(History.Adapter.unbind)&&(History.Adapter.unbind=function(e){J(History.Adapter.handlers,function(n){n.statechange=Y(n.statechange,function(n){return n!==e})})}),e}function x(e){return q(e)&&!!e.__isNullRouter}function M(e){return q(e)&&!!e.__isRouter}function C(e){return q(e)&&!!e.__isRoute}function S(e){var n=Hn;return q(e)&&(q(e.$data)&&M(e.$data.$router)?n=e.$data.$router:(q(e.$parentContext)||q(e.$data)&&q(e.$data.$parentContext))&&(n=S(e.$parentContext||e.$data.$parentContext))),n}function N(e){return I(e)&&!!e.__isViewModelCtor}function T(e){return q(e)&&!!e.__isViewModel}function P(e,n){if(T(e)){var t=e.__getConfigParams();n=n||document.body,e.$context=elementContext=A.contextFor(n),I(t.afterBinding)&&t.afterBinding.call(e,n),M(e.$router)&&e.$router.context(elementContext),z(n)||A.utils.domNodeDisposal.addDisposeCallback(n,function(){e.__shutdown()})}}function _(e,n,t){var s;s=I(t)?new t(pn.params):t,s.$parentContext=A.contextFor(e.parentElement),J(e.children,function(e){zn(s,e)}),P(s,e),M(s.$router)&&s.$router.context(A.contextFor(e))}function E(e){return-1!==cn(Gn,e)}function R(e,n){if(T(n)){var t=n.__getConfigParams();I(t.afterBinding)&&t.afterBinding.call(n,e)}}var A=s;A.footworkVersion="0.2.0",A.embed=e;var H=/\/$/i,L=/^\//i,D=function(){},O=A.isObservable,F=function(e){return H.test(e)},$=function(e){return L.test(e)},I=t.isFunction,q=t.isObject,B=t.isString,V=t.isBoolean,U=t.isNumber,z=t.isUndefined,W=t.isArray,K=t.isNull,Q=t.contains,X=t.extend,J=(t.pick,t.each),Y=t.filter,G=t.bind,Z=t.invoke,en=t.clone,nn=t.reduce,tn=t.has,sn=(t.where,t.result),an=t.uniqueId,rn=t.map,on=t.find,ln=t.omit,cn=t.indexOf,pn=t.values,un=t.reject,dn=t.findWhere,hn=(t.once,[]);i.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var fn={},mn=[],vn=A.namespace=function(e,n){z(n)||(B(n)?e=n+"."+e:z(n.channel)||(e=n.channel+"."+e));var t=a.channel(e);return t.__isNamespace=!0,t.shutdown=G(v,t),t.commandHandlers=[],t.command=G(d,t),t.command.handler=G(h,t),t.command.handler.unregister=G(u,t),t.requestHandlers=[],t.request=G(f,t),t.request.handler=G(m,t),t.request.handler.unregister=G(u,t),t.eventHandlers=[],t.event=t.trigger=G(c,t),t.event.handler=G(p,t),t.event.handler.unregister=G(u,t),t.getName=G(g,t),t.enter=function(){return jn(this)},t.exit=function(){return bn()===this.getName()?kn():void 0},t},gn=A.isNamespace=function(e){return!z(e)&&!!e.__isNamespace},bn=A.currentNamespaceName=function(){return mn[0]},yn=A.currentNamespace=function(){return vn(bn())},wn=A.enterNamespaceName=function(e){yn();return mn.unshift(e),vn(bn())},jn=A.enterNamespace=function(e){return mn.unshift(e.getName()),e},kn=A.exitNamespace=function(){return mn.shift(),yn()};hn.push({runBeforeInit:!0,_preInit:function(){var e=this.__getConfigParams();this.$namespace=wn(o(e.componentNamespace||e.namespace||e.name||t.uniqueId("namespace"),e.autoIncrement)),this.$globalNamespace=vn()},mixin:{getNamespaceName:function(){return this.$namespace.getName()}},_postInit:function(){kn()}});var xn=vn();A.subscribable.fn.receiveFrom=function(e,n){var t=this,s=this,a=[],r=!1;if(B(e)&&(e=vn(e),r=!0),!gn(e))throw"Invalid namespace provided for receiveFrom() observable.";s=A.computed({read:t,write:function(t){e.publish("__change."+n,t)}}),s.refresh=function(){return e.publish("__refresh."+n),this},a.push(e.subscribe(n,function(e){t(e)}));var i=s.dispose;return s.dispose=s.shutdown=function(){Z(a,"unsubscribe"),r&&e.shutdown(),i.call(s)},s.__isReceiver=!0,s.refresh()},A.subscribable.fn.broadcastAs=function(e,n){var t,s=this,a=[],r=[],i=!1;if(n=q(e)?e:V(n)?{name:e,writable:n}:q(n)?X({name:e},n):{name:e},t=n.namespace||yn(),B(t)&&(t=vn(t),i=!0),!gn(t))throw"Invalid namespace provided for broadcastAs() observable.";return n.writable&&r.push(t.subscribe("__change."+n.name,function(e){s(e)})),s.broadcast=function(){return t.publish(n.name,s()),this},r.push(t.subscribe("__refresh."+n.name,function(){t.publish(n.name,s())})),a.push(s.subscribe(function(e){t.publish(n.name,e)})),s.dispose=s.shutdown=function(){Z(r,"unsubscribe"),Z(a,"dispose"),i&&t.shutdown()},s.__isBroadcaster=!0,s.broadcast()};var Mn=function(){return!0},Cn=function(){return""},Sn={namespace:"$router",baseRoute:null,isRelative:!0,activate:!0,setHref:!0,routes:[]},Nn=/\((.*?)\)/g,Tn=/(\(\?)?:\w+/g,Pn=/\*\w*/g,_n=/[\-{}\[\]+?.,\\\^$|#\s]/g,En=/(^\/#)/,Rn=/(^[a-z]+:\/\/|^\/\/)/i,An=!0,Hn=X({},Ln,{childRouters:X(G(D),{push:D}),routePath:function(){return""},isRelative:function(){return!1},__isNullRouter:!0}),Ln={routePath:Cn,routeSegment:Cn,childRouters:A.observableArray(),context:D,__isRouter:!0},Dn={controller:D,indexedParams:[],namedParams:{},__isRoute:!0},On={filter:Mn,__isRouteDesc:!0},Fn="_noComponentSelected",$n=function(e,n,t){t=t||{},I(t)&&(t={onComplete:t});var s=t.params,a=t.onComplete,r=this.outlets;e=A.unwrap(e),O(r[e])||(r[e]=A.observable({name:Fn,params:{},__getOnCompleteCallback:function(){return D}}));var i=r[e],o=i(),l=!1,c=i().name===Fn;if(z(n)||(o.name=n,l=!0),z(s)||(o.params=s,l=!0),l){if(I(a)){var p=c?0:1;o.__getOnCompleteCallback=function(){var e=0===p;return p--,e?a:D}}else o.__getOnCompleteCallback=function(){return D};i.valueHasMutated()}return i},In=A.isFullURL=function(e){return B(e)&&Rn.test(e)};A.routers={baseRoute:A.observable(""),getNearestParent:function(e){var n=S(e);return x(n)?null:n},getAll:function(){return nn(xn.request("__router_reference",void 0,!0),function(e,n){var t=gn(n.$namespace)?n.$namespace.getName():null;return K(t)||(z(e[t])?e[t]=n:(W(e[t])||(e[t]=[e[t]]),e[t].push(n))),e},{})}},A.router=function(e,n,t){return new qn(e,n,t)},A.bindingHandlers.$route={init:function(e,n,t,s,a){function r(n){var t=p.url(),s=t||e.getAttribute("href")||"";return K(t)?null:(z(t)&&(t=s),In(s)||($(s)||(s="/"+s),n&&!x(o)&&(s=o.parentRouter().routePath()+s)),s)}function i(){c===!1&&(c=!0,A.utils.registerEventHandler(e,p.on,function(e){var n=h(),t=p.handler.call(s,e,n);t&&(B(t)&&(n=t),B(n)&&!In(n)&&o.setState(n))})),"a"===e.tagName.toLowerCase()&&(e.href=d())}var o=S(a),l=n(),c=!1,p={on:"click",url:function(){return null},handler:function(e,n){return In(n)?!1:(e.preventDefault(),!0)}};if(O(l)||I(l)||B(l))p.url=l;else if(q(l))X(p,l);else{if(l)throw"Unknown type of url value provided to $route ["+typeof l+"]";p.url=e.getAttribute("href")}var u=p.url;I(u)||(p.url=function(){return u});var d=G(r,null,!0),h=G(r,null,!1);O(p.url)&&p.url.subscribe(i),i()}};var qn=function(e,n,t){X(this,Ln);var s,a=this.subscriptions=[];T(n)&&(s=n.getNamespaceName()),this.id=an("router"),this.$globalNamespace=vn(),this.$namespace=vn(e.namespace||s+"Router"),this.$namespace.enter(),this.$namespace.command.handler("setState",this.setState,this),this.$namespace.request.handler("currentRoute",function(){return this.currentRoute()},this),this.$namespace.request.handler("urlParts",function(){return this.urlParts()},this),this.$viewModel=n,this.urlParts=A.observable(),this.childRouters=A.observableArray(),this.parentRouter=A.observable(Hn),this.context=A.observable(),this.historyIsEnabled=A.observable(!1).broadcastAs("historyIsEnabled"),this.currentState=A.observable("").broadcastAs("currentState"),this.config=e=X({},Sn,e),this.config.baseRoute=A.routers.baseRoute()+(sn(e,"baseRoute")||""),this.isRelative=A.computed(function(){return e.isRelative&&!x(this.parentRouter())},this),this.currentRoute=A.computed(function(){return this.getRouteForURL(this.currentState())},this),this.routePath=A.computed(function(){var e=this.currentRoute(),n=(this.parentRouter(),this.parentRouter().routePath());return C(e)&&(n+=e.routeSegment),n},this);var r=Hn;a.push(this.parentRouter.subscribe(function(e){x(r)||r===e||r.childRouters.remove(this),e.childRouters.push(this),r=e},this)),a.push(this.currentRoute.subscribe(function(e){this.getActionForRoute(e)()},this));var i=this;this.$globalNamespace.request.handler("__router_reference",function(){return i}),this.outlets={},this.$outlet=G($n,this),this.$outlet.reset=G(function(){J(this.outlets,function(e){e({name:Fn,params:{}})})},this),z(e.unknownRoute)||(I(e.unknownRoute)&&(e.unknownRoute={controller:e.unknownRoute}),e.routes.push(X(e.unknownRoute,{unknown:!0}))),this.setRoutes(e.routes),e.activate===!0&&a.push(this.context.subscribe(function(e){q(e)&&this.activate(e)},this)),this.context(n.$context||t),this.$namespace.exit()};qn.prototype.setRoutes=function(e){return this.routeDescriptions=[],this.addRoutes(e),this},qn.prototype.addRoutes=function(e){return this.routeDescriptions=this.routeDescriptions.concat(rn(W(e)?e:[e],w)),this},qn.prototype.activate=function(e,n){return this.startup(e,n),""===this.currentState()&&this.setState(),this},qn.prototype.setState=function(e,n){if(this.historyIsEnabled())if(!n&&B(e)){var t=!0;try{t=History.pushState(null,"",this.parentRouter().routePath()+e)}catch(s){t=!1}finally{if(t)return}}else e=History.getState().url;B(e)&&this.currentState(this.normalizeURL(e))},qn.prototype.startup=function(e,t){var s=this;return t=t||Hn,x(t)?q(e)&&(t=S(e),t.id!==this.id&&this.parentRouter(t)):this.parentRouter(t),this.historyIsEnabled()||(k()?(History.Adapter.bind(n,"statechange",this.stateChangeHandler=function(){s.setState(History.getState().url,!0)}),this.historyIsEnabled(!0)):this.historyIsEnabled(!1)),this},qn.prototype.shutdown=function(){var e=this.parentRouter();x(e)||e.childRouters.remove(this),this.historyIsEnabled()&&k()&&History.Adapter.unbind(this.stateChangeHandler),this.$namespace.shutdown(),this.$globalNamespace.shutdown(),Z(this.subscriptions,"dispose"),J(this,function(e){e&&I(e.dispose)&&e.dispose()})},qn.prototype.normalizeURL=function(e){var n=i(e);return this.urlParts(n),e=n.path,K(this.config.baseRoute)||0!==e.indexOf(this.config.baseRoute)||(e=e.substr(this.config.baseRoute.length),e.length>1&&(e=e.replace(En,"/"))),e},qn.prototype.getUnknownRoute=function(){var e=dn((this.getRouteDescriptions()||[]).reverse(),{unknown:!0})||null;return K(e)||(e=X({},Dn,{id:e.id,controller:e.controller,title:e.title,routeSegment:""})),e},qn.prototype.getRouteForURL=function(e){var n=null,t=this.parentRouter().routePath()||"",s=this.getUnknownRoute(),a=this;if(this.isRelative()){if(!(t.length>0))return s;if(0!==(routeIndex=e.indexOf(t)))return s;e=e.substr(t.length)}var r=[];if(on(this.getRouteDescriptions(),function(t){var s=t.route,i=[];return B(s)&&(i=e.match(j(s)),!K(i)&&t.filter.call(a,{params:i,urlParts:a.urlParts()})&&r.push({routeString:s,specificity:s.replace(Tn,"*").length,routeDescription:t,routeParams:i})),n}),r.length){var i=nn(r,function(e,n){return(K(e)||n.specificity>e.specificity)&&(e=n),e},null),o=i.routeDescription,l=i.routeString,c=en(i.routeParams),p=c.pop()||"",u=rn(l.match(Tn),function(e){return e.replace(":","")}),d=nn(u,function(e,n,t){return e[n]=c[t+1],e},{});n=X({},Dn,{id:o.id,controller:o.controller,title:o.title,url:e,routeSegment:e.substr(0,e.length-p.length),indexedParams:c,namedParams:d})}return n||s},qn.prototype.getActionForRoute=function(e){var n=G(function(){delete this.__currentRouteDescription,this.$outlet.reset()},this);return C(e)&&(n=G(function(){z(e.title)||(document.title=I(e.title)?e.title.call(this):e.title),(z(this.__currentRouteDescription)||this.__currentRouteDescription.id!==e.id)&&(e.controller.call(this,e.namedParams),this.__currentRouteDescription=e)},this)),n},qn.prototype.getRouteDescriptions=function(){return this.routeDescriptions};var Bn={includeOutlets:!1};A.viewModels={};var Vn=(A.viewModels.getAll=function(e){return nn(xn.request("__model_reference",X({},Bn,e),!0),function(e,n){if(!z(n)){var t=gn(n.$namespace)?n.$namespace.getName():null;K(t)||(z(e[t])?e[t]=n:(W(e[t])||(e[t]=[e[t]]),e[t].push(n)))}return e},{})},A.viewModels.refresh=function(){xn.trigger("__refreshViewModels")},{namespace:void 0,name:void 0,componentNamespace:void 0,autoIncrement:!1,mixins:void 0,params:void 0,initialize:D,afterInit:D,afterBinding:D,afterDispose:D}),Un=A.viewModel=function(e){e=e||{};var n=D,t=D,s=e.parent;z(e)||(n=e.viewModel||e.initialize||D,t=e.afterInit||D),t={_postInit:t},e=X({},Vn,e);var a={_preInit:function(){q(e.router)&&(this.$router=new qn(e.router,this))},mixin:{__isViewModel:!0,$params:sn(e,"params"),__getConfigParams:function(){return e},__shutdown:function(){I(e.afterDispose)&&e.afterDispose.call(this),J(this,function(e){(gn(e)||M(e)||y(e)||b(e))&&e.shutdown()})}},_postInit:function(){this.__assertPresence!==!1&&(this.$globalNamespace.request.handler("__model_reference",G(function(e){return!this.__isOutlet||q(e)&&e.includeOutlets?this:void 0},this)),this.$globalNamespace.event.handler("__refreshViewModels",G(function(){J(this,function(e){b(e)&&e.refresh()})},this)))}};if(N(n))c=n;else{var i=[n],o=un(hn,l),l=Y(hn,l);l.length&&(i=i.concat(l)),i=i.concat(a),o.length&&(i=i.concat(o)),i=i.concat(t),z(e.mixins)||(i=i.concat(e.mixins)),J(i,function(e){z(e.runBeforeInit)||delete e.runBeforeInit});var c=r.compose.apply(void 0,i);c.__isViewModelCtor=!0,c.__configParams=e}return z(s)||c.inherits(s),c},zn=A.applyBindings,Wn=(A.applyBindings=function(e,n){zn(e,n),P(e,n)},A.bindingHandlers.component.init);A.bindingHandlers.component.init=function(e,n,t,s,a){var r=n;if(B(e.tagName)){var i=e.tagName.toLowerCase();if("viewmodel"===i){var o=n(),l=(z(o.params)?void 0:A.unwrap(o.params.name))||e.getAttribute("module")||e.getAttribute("data-module"),c=G(_,null,e,o.params);if(!z(l)){var p=null;if(p=vt(l)?gt(l):I(require)&&I(require.defined)&&require.defined(l)?l:yt(l),B(p)){if(!I(require))throw"Uses require, but no AMD loader is present";F(p)&&(p+=ut(l)),require([p],c)}else I(p)?c(p):q(p)&&(q(p.instance)?c(p.instance):I(p.createViewModel)&&c(p.createViewModel(o.params,{element:e})))}return{controlsDescendantBindings:!0}}if("outlet"===i){var u=e.getAttribute("name")||e.getAttribute("data-name");u&&(r=function(){var e=n();return!z(e.params)&&z(e.params.name)&&(e.params.name=u),e})}}return Wn(e,r,t,s,a)};{var Kn=A.components.register;A.components.register=function(e,n){var t=n.initialize||n.viewModel;if(!B(e))throw"Components must be provided a componentName.";I(t)&&!N(t)&&(n.namespace=e,t=Un(n)),Kn(e,{viewModel:t||A.viewModel(),template:n.template})}}A.components.getNormalTagList=function(){return Jn.splice(0)},A.components.getComponentNameForNode=function(e){var n=B(e.tagName)&&e.tagName.toLowerCase();return A.components.isRegistered(n)||Yn(n)?n:null};var Qn=(A.component=function(e){var n=e.viewModel;return I(n)&&!N(n)&&(e.viewModel=Un(ln(e,"template"))),e},[]),Xn=A.components.isTemplateOnly=function(e,n){return n=z(n)?!0:n,W(e)&&J(e,function(e){Xn(e,n)}),Qn[e]=n,W(e)?void 0:Qn[e]||"normal"},Jn=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","footer","form","frameset","g","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","polygon","path","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","xmp","rect","image","lineargradient","stop","line"],Yn=A.components.tagIsComponent=function(e,n){return z(n)?-1===cn(Jn,e):(W(e)&&J(e,function(e){Yn(e,n)}),void(n!==!0?Q(Jn,e)===!1&&Jn.push(e):Jn=Y(Jn,function(n){return n!==e})))},Gn=["outlet"];A.virtualElements.allowedBindings.$life=!0,A.bindingHandlers.$life={init:function(e,n,t,s){A.utils.domNodeDisposal.addDisposeCallback(e,function(){T(s)&&s.__shutdown()})},update:function(e,n,t,s,a){var r=a.$parent;q(r)&&r.__isOutlet?r.$route().__getOnCompleteCallback()(e.parentElement):R(e.parentElement,a.$data)}};var Zn="<!-- ko $life -->COMPONENT_MARKUP<!-- /ko -->";A.components.loaders.unshift(A.components.componentWrapper={loadTemplate:function(e,n,t){if(E(e))t(null);else{if(!B(n))throw"Unhandled config type "+typeof n+".";n=Zn.replace(/COMPONENT_MARKUP/,n),A.components.defaultLoader.loadTemplate(e,n,t)}},loadViewModel:function(e,n,t){var s=n.viewModel||n;t(E(e)?null:function(e,n){var t=A.contextFor(n.element),a=s;return I(s)?(N(s)||(s=Un({initialize:s})),new(a=s.compose({_preInit:function(){this.$context=t}}))(e)):a})}}),A.components.loaders.push(A.components.requireLoader={getConfig:function(e,n){var t,s,a,r=st(e,"combined"),i=st(e,"viewModel"),o=st(e,"template"),l=lt(e),c=null;if(I(require))if(require.defined(e))c={require:e};else if(B(l.combined))a=l.combined,F(a)&&(a+=r),c={require:a};else{t=l.viewModels,s="text!"+l.templates,F(t)&&(t+=i),F(s)&&(s+=o);var p={require:t};Qn[e]&&(p={instance:{}}),c={viewModel:p,template:{require:s}}}n(c)}});var et={getNamespaceName:function(){return"NO-VIEWMODEL-IN-CONTEXT"}};A.virtualElements.allowedBindings.$bind=!0,A.bindingHandlers.$bind={init:function(e,n,t,s,a){var r=q(a)?a.$parent||et:et,i=S(a),o=s.outletName;if(!M(i))throw"Outlet ["+o+"] defined inside of viewModel ["+r.getNamespaceName()+"] but no router was defined.";s.$route=i.$outlet(o)}},A.components.register("outlet",{autoIncrement:!0,viewModel:function(e){this.outletName=A.unwrap(e.name),this.__isOutlet=!0},template:"<!-- ko $bind, component: $route --><!-- /ko -->"}),A.components.register("_noComponentSelected",{viewModel:function(){this.__assertPresence=!1},template:'<div class="no-component-selected"></div>'}),A.components.register("error",{viewModel:function(e){this.message=A.observable(e.message),this.errors=e.errors,this.__assertPresence=!1},template:'    <div class="component error" data-bind="foreach: errors">      <div class="error">        <span class="number" data-bind="text: $index() + 1"></span>        <span class="message" data-bind="text: $data"></span>      </div>    </div>'});var nt={combined:".js",viewModel:".js",template:".html"},tt=A.components.fileExtensions=A.observable(en(nt)),st=A.components.getFileName=function(e,n){var t=tt(),s=e;return I(t)?s+=t(e)[n]:q(t)&&(s+=I(t[n])?t[n](e):t[n]||""),s},at={combined:null,viewModels:"/viewModel/",templates:"/component/"},rt=A.components.resourceLocations={},it=A.components.defaultLocation=function(e,n){var t=z(n)||n===!0?at:en(at);return q(e)?X(t,nn(e,function(e,n,t){return"viewModel"===t?(e.viewModels=n,delete e.viewModel):"template"===t?(e.templates=n,delete e.template):e[t]=n,e},{})):B(e)&&(t={combined:rootURL,viewModels:null,templates:null}),t},ot=A.components.registerLocation=function(e,n){W(e)&&J(e,function(e){ot(e,n)}),rt[e]=it(n,!1)},lt=A.components.getResourceLocation=function(e){return z(e)?rt:rt[e]||at},ct=".js",pt=A.viewModels.fileExtensions=A.observable(ct),ut=A.viewModels.getFileName=function(e){var n=pt(),t=e;return I(n)?t+=n(e):B(n)&&(t+=n),t},dt="/viewModel/",ht=A.viewModels.resourceLocations={},ft=A.viewModels.defaultLocation=function(e,n){var t=dt;return B(e)&&(t=e),n&&(dt=t),t},mt={},vt=(A.viewModels.register=function(e,n){mt[e]=n},A.viewModels.isRegistered=function(e){return!z(mt[e])}),gt=A.viewModels.getRegistered=function(e){return mt[e]},bt=A.viewModels.registerLocation=function(e,n){W(e)&&J(e,function(e){bt(e,n)}),ht[e]=ft(n,!1)},yt=A.viewModels.getResourceLocation=function(e){return z(e)?ht:ht[e]||lt(e).viewModels||dt};return A.extenders.debounce=function(e,n){U(n)&&(n={timeout:n,when:function(){return!0}}),e.throttleEvaluation=n.timeout;var t=null,s=A.computed({read:e,write:function(s){n.when(s)?(clearTimeout(t),t=setTimeout(function(){e(s)},n.timeout)):(clearTimeout(t),e(s))}});return s.force=function(n){clearTimeout(t),e(n)},s},A.extenders.autoDisable=function(e,n){return e.extend({delayTrigger:{delay:n||0,trigger:function(e){e(!1)}}})},A.extenders.autoEnable=function(e,n){return e.extend({delayTrigger:{delay:n||0,trigger:function(e){e(!0)}}})},A.extenders.delayTrigger=function(e,n){var t,s=300,a=D;q(n)?(s=!isNaN(n.delay)&&parseInt(n.delay,10)||s,a=n.trigger||a):s=!isNaN(n)&&parseInt(n,10)||s;var r=function(){clearTimeout(t),t=void 0},i=A.computed({read:e,write:function(s){e(s),z(t)||r(),t=setTimeout(function(){a(e,n)}.bind(e),i.triggerDelay)}});return i.clearTrigger=r,i.triggerDelay=s,i},A.extenders.delayWrite=function(e,n){var t,s=300;return q(n)?(s=!isNaN(n.delay)&&parseInt(n.delay,10)||s,t=n.filter||function(){return!0}):s=!isNaN(n)&&parseInt(n,10)||s,A.computed({read:e,write:function(n){t(n)?(e._delayWriteTimer&&clearTimeout(this._delayWriteTimer),e._delayWriteTimer=setTimeout(function(){e(n)},s)):e(n)}})},s}(a._.pick(a,o),s,a._,a.ko,a.postal,a.riveter)}()}),function(){function e(e,n){return function(e,t){function s(e,t){return null===e?"null"===t:e===n?"undefined"===t:e.is&&e instanceof c?"element"===t:Object.prototype.toString.call(e).toLowerCase().indexOf(t)>7}function a(e){var n,t,r,i,o,l,c,p,h;if(e instanceof a)return e;for(s(e,"array")||(e=String(e).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g)),n=0,t=e.length;t>n;++n){for(s(e[n],"array")||(e[n]=String(e[n]).match(/(?:\+\/|[^\/])+/g)),l=[],r=e[n].length;r--;){for(c=e[n][r],o={jwertyCombo:String(c),shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1},s(c,"array")||(c=String(c).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g)),i=c.length;i--;)"++"===c[i]&&(c[i]="+"),c[i]in d.mods?o[u[d.mods[c[i]]]]=!0:c[i]in d.keys?o.keyCode=d.keys[c[i]]:p=c[i].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/);if(s(o.keyCode,"undefined"))if(p&&p[1]in d.keys&&p[2]in d.keys){for(p[2]=d.keys[p[2]],p[1]=d.keys[p[1]],h=p[1];h<p[2];++h)l.push({altKey:o.altKey,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,keyCode:h,jwertyCombo:String(c)});o.keyCode=h}else o.keyCode=0;l.push(o)}this[n]=l}return this.length=n,this}var r,i,o,l=e.document,c=e.jQuery||e.Zepto||e.ender||l,p="keydown";c===l?(r=function(e,n){return e?c.querySelector(e,n||c):c},i=function(e,n){e.addEventListener(p,n,!1)},o=function(e,n){var t,s=l.createEvent("Event");s.initEvent(p,!0,!0);for(t in n)s[t]=n[t];return(e||c).dispatchEvent(s)}):(r=function(e,n){return c(e||l,n)},i=function(e,n){c(e).bind(p+".jwerty",n)},o=function(e,n){c(e||l).trigger(c.Event(p,n))});for(var u={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},d={mods:{"⇧":16,shift:16,"⌃":17,ctrl:17,"⌥":18,alt:18,option:18,"⌘":91,meta:91,cmd:91,"super":91,win:91},keys:{"⌫":8,backspace:8,"⇥":9,"⇆":9,tab:9,"↩":13,"return":13,enter:13,"⌅":13,pause:19,"pause-break":19,"⇪":20,caps:20,"caps-lock":20,"⎋":27,escape:27,esc:27,space:32,"↖":33,pgup:33,"page-up":33,"↘":34,pgdown:34,"page-down":34,"⇟":35,end:35,"⇞":36,home:36,ins:45,insert:45,del:46,"delete":46,"←":37,left:37,"arrow-left":37,"↑":38,up:38,"arrow-up":38,"→":39,right:39,"arrow-right":39,"↓":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"num-.":110,"num-period":110,"num-dot":110,"num-full-stop":110,"num-delete":110,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostraphe:222}},h=47,f=0;++h<106;)d.keys[f]=h,d.keys["num-"+f]=h+48,++f;
for(h=111,f=1;++h<136;)d.keys["f"+f]=h,++f;for(h=64;++h<91;)d.keys[String.fromCharCode(h).toLowerCase()]=h;var m=t.jwerty={event:function(e,n,t){if(s(n,"boolean")){var r=n;n=function(){return r}}e=new a(e);var i,o,l=0,c=e.length-1;return function(s){return(o=m.is(e,s,l))?c>l?void++l:(i=n.call(t||this,s,o),i===!1&&s.preventDefault(),void(l=0)):void(l=m.is(e,s)?1:0)}},is:function(e,n,t){e=new a(e),t=t||0,e=e[t],n=n.originalEvent||n;for(var s=e.length,r=!1;s--;){r=e[s].jwertyCombo;for(var i in e[s])"jwertyCombo"!==i&&n[i]!=e[s][i]&&(r=!1);if(r!==!1)return r}return r},key:function(n,t,a,o,l){var c=s(a,"element")||s(a,"string")?a:o,p=c===a?e:a,u=c===a?o:l;i(s(c,"element")?c:r(c,u),m.event(n,t,p))},fire:function(e,n,t,i){e=new a(e);var l=s(t,"number")?t:i;o(s(n,"element")?n:r(n,t),e[l||0][0])},KEYS:d};return m}({jQuery:e,document:document},"undefined"!=typeof module&&module.exports?module.exports:this)}"function"==typeof define&&define.amd?define("jwerty",["jquery"],function(n){return e(n)}):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery||$)}.call(this),define("app/viewModel/Contributors",["footwork"],function(e){return e.viewModel({namespace:"Contributors",initialize:function(){this.contributors=footworkBuild.contributors}})}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!app/template/contributors.html",[],function(){return'<h2>Contributors</h2>\r\n<ul data-bind="foreach: contributors">\r\n  <li class="contributor">\r\n    <div class="name" data-bind="text: name"></div>\r\n    <div class="email"><a data-bind="attr: { href: \'mailto:\' + email }, text: email"></a></div>\r\n    <div class="urls" data-bind="foreach: urls">\r\n      <div class="url"><a data-bind="attr: { href: url }, text: url"></a></div>\r\n    </div>\r\n  </li>\r\n</ul>'}),define("text!app/template/showversion.html",[],function(){return'<span class="version" data-bind="text: version"></span>'}),define("app/viewModel/Releases",["jquery","lodash","footwork"],function(e,n,t){var s="http://",a="footworkjs.com",r="-docs."+a,i=RegExp("^[0-9]+"),o=!0;return t.observable(!1).receiveFrom("Configuration","initialized").subscribe(function(e){e&&(o=t.namespace().request("isRunningLocally"),o||(a=window.location.hostname.match("(.+)-docs.([0-9a-zA-Z-.]+)")[2],r="-docs."+a))}),t.viewModel({namespace:"Releases",initialize:function(){this.menuActive=t.observable(!1),this.thisRelease="v"+window.footworkBuild.version,this.headerContentHeight=t.observable().receiveFrom("Header","contentHeight"),this.releaseList=t.observableArray(["latest"]),this.myURL=t.observable(s+window.footworkBuild.version+r),this.releases=t.computed(function(){return n.reduce(this.releaseList(),function(e,n){return e.push({version:(i.test(n)?"v":"")+n,href:s+n+r,myRelease:n===window.footworkBuild.version}),e},[])},this),this.toggleMenu=function(n,t){this.menuActive(!this.menuActive()),t.stopPropagation();var s=e(t.currentTarget).parent();return s.hasClass("aside")||s.hasClass("drop-down")?void 0:!0},this.$globalNamespace.subscribe("clear",n.bind(function(){this.menuActive(!1)},this)),o||e.get((o?"http://latest-docs."+a:"")+"/release/listAll").done(function(e){this.releaseList(e)}.bind(this))}})}),define("text!app/template/releases.html",[],function(){return'<div class="releases">\r\n  <div class="aside menu-item" data-bind="css: { active: menuActive }">\r\n    <div class="title" data-bind="click: toggleMenu, style: { lineHeight: headerContentHeight }">\r\n      <a data-bind="attr: { href: myURL }"><span class="icon icon-chevron-down"></span> <span data-bind="text: thisRelease"></span></a>\r\n    </div>\r\n    <div class="drop-down">\r\n      <div class="title" data-bind="click: toggleMenu, style: { lineHeight: headerContentHeight }">\r\n        <a data-bind="attr: { href: myURL }"><span class="icon icon-chevron-up"></span> <span data-bind="text: thisRelease"></span></a>\r\n      </div>\r\n\r\n      <div class="content" data-bind="foreach: releases">\r\n        <div class="row" data-bind="css: { isMyRelease: myRelease }">\r\n          <a class="item" data-bind="text: version, attr: { href: href }"></a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),function(e){function n(){try{return o in e&&e[o]}catch(n){return!1}}function t(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(a),c.appendChild(a),a.addBehavior("#default#userData"),a.load(o);var t=e.apply(r,n);return c.removeChild(a),t}}function s(e){return e.replace(/^d/,"___$&").replace(d,"___")}var a,r={},i=e.document,o="localStorage",l="script";if(r.disabled=!1,r.set=function(){},r.get=function(){},r.remove=function(){},r.clear=function(){},r.transact=function(e,n,t){var s=r.get(e);null==t&&(t=n,n=null),"undefined"==typeof s&&(s=n||{}),t(s),r.set(e,s)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(n){return e||void 0}},n())a=e[o],r.set=function(e,n){return void 0===n?r.remove(e):(a.setItem(e,r.serialize(n)),n)},r.get=function(e){return r.deserialize(a.getItem(e))},r.remove=function(e){a.removeItem(e)},r.clear=function(){a.clear()},r.getAll=function(){var e={};return r.forEach(function(n,t){e[n]=t}),e},r.forEach=function(e){for(var n=0;n<a.length;n++){var t=a.key(n);e(t,r.get(t))}};else if(i.documentElement.addBehavior){var c,p;try{p=new ActiveXObject("htmlfile"),p.open(),p.write("<"+l+">document.w=window</"+l+'><iframe src="/favicon.ico"></iframe>'),p.close(),c=p.w.frames[0].document,a=c.createElement("div")}catch(u){a=i.createElement("div"),c=i.body}var d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");r.set=t(function(e,n,t){return n=s(n),void 0===t?r.remove(n):(e.setAttribute(n,r.serialize(t)),e.save(o),t)}),r.get=t(function(e,n){return n=s(n),r.deserialize(e.getAttribute(n))}),r.remove=t(function(e,n){n=s(n),e.removeAttribute(n),e.save(o)}),r.clear=t(function(e){var n=e.XMLDocument.documentElement.attributes;e.load(o);for(var t,s=0;t=n[s];s++)e.removeAttribute(t.name);e.save(o)}),r.getAll=function(){var e={};return r.forEach(function(n,t){e[n]=t}),e},r.forEach=t(function(e,n){for(var t,s=e.XMLDocument.documentElement.attributes,a=0;t=s[a];++a)n(t.name,r.deserialize(e.getAttribute(t.name)))})}try{var h="__storejs__";r.set(h,h),r.get(h)!=h&&(r.disabled=!0),r.remove(h)}catch(u){r.disabled=!0}r.enabled=!r.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=r:"function"==typeof define&&define.amd?define("storage",r):e.store=r}(Function("return this")()),define("app/viewModel/config/Configuration",["jquery","lodash","footwork","storage"],function(e,n,t,s){return t.viewModel({namespace:"Configuration",initialize:function(){var a,r,i,o,l=35,c=t.observable({revision:6,header:{min:{height:l},max:{height:60},contentMaxHeight:80,limit:{height:320},borderWidth:5,autoHide:!1},links:{min:{width:155},max:{width:195}},pane:{min:{width:161},max:{width:340},collapsed:"mobile"===t.namespace("ViewPort").request("layoutMode"),accentPadding:20},dialog:{help:!0,notice:!0},transitions:!0});return this.scrollPosition=t.observable(0).receiveFrom("ViewPort","scrollPosition"),this.headerFixed=t.observable(!1).receiveFrom("Header","fixed"),this.headerClosed=t.observable(!1).receiveFrom("Header","closed"),this.headerMoving=t.observable(!1).receiveFrom("Header","moving"),this.navReflowing=t.observable(!1).receiveFrom("Navigation","reflowing"),this.paneAbsoluteMaxWidth=t.observable().receiveFrom("Pane","maxWidth"),this.paneAnimate3d=t.observable().receiveFrom("Pane","animate3d"),this.paneMoving=t.observable().receiveFrom("Pane","moving"),this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortSmall=t.observable().receiveFrom("ViewPort","isSmall"),this.currentTheme=t.observable().receiveFrom("Themes","currentTheme"),this.saveSession=t.observable(s.get("saveSession")).broadcastAs("saveSession",!0),this.config=t.observable(this.saveSession()===!0&&s.get("configuration")||e.extend(!0,{},c())),this.savePulse=t.observable(!1).extend({autoDisable:1e3}).broadcastAs("savePulse"),this.throttledConfig=this.config.extend({throttle:300}),this.throttledConfig.extend({throttle:300}).subscribe(i=function(e){e=e||this.config(),this.saveSession()===!0&&(s.set("configuration",e),this.savePulse(!0))}.bind(this)),this.initialized=t.observable(!1).broadcastAs("initialized"),this.visible=t.observable(!1).broadcastAs("visible",!0),this.heightMutable=t.computed(function(){return this.visible()&&(!this.headerFixed()||0===this.scrollPosition())},this).broadcastAs("heightMutable"),this.isMobile=t.observable(s.get("viewPortIsMobile")||window.isMobile).broadcastAs("isMobile",!0),this.mobileWidthCutoff=t.observable(495).broadcastAs("mobileWidthCutoff"),this.defaultHeaderMaxHeight=t.computed(function(){return c().header.max.height},this).broadcastAs("defaultHeaderMaxHeight"),this.defaultPaneMaxWidth=t.computed(function(){return c().pane.max.width},this).broadcastAs("defaultPaneMaxWidth"),this.transitionsEnabled=t.computed({read:function(){return this.config().transitions},write:function(e){a({transitions:e})}},this).broadcastAs("transitionsEnabled",!0),this.headerMinHeight=t.computed({read:function(){return this.config().header.min.height},write:function(e){a({header:{min:{height:e}}})}},this).broadcastAs("headerMinHeight",!0),this.headerMaxHeight=t.computed({read:function(){return"desktop"===this.viewPortLayoutMode()||"tablet"===this.viewPortLayoutMode()?this.config().header.max.height:this.config().header.min.height},write:function(e){a({header:{max:{height:e}}})}},this).broadcastAs("headerMaxHeight",!0),this.headerContentMaxHeight=t.computed({read:function(){return this.config().header.contentMaxHeight},write:function(e){a({header:{contentMaxHeight:e}})}},this).broadcastAs("headerContentMaxHeight",!0),this.headerBorderWidth=t.computed({read:function(){return this.config().header.borderWidth},write:function(e){a({header:{borderWidth:e}})}},this).broadcastAs("headerBorderWidth",!0),this.headerLimitHeight=t.computed({read:function(){return this.config().header.limit.height},write:function(e){a({header:{limit:{height:e}}})}},this).broadcastAs("headerLimitHeight",!0),this.paneMinWidth=t.computed({read:function(){return this.config().pane.min.width},write:function(e){a({pane:{min:{width:e}}})}},this).broadcastAs("paneMinWidth",!0),this.paneMaxWidth=t.computed({read:function(){return this.config().pane.max.width},write:function(e){a({pane:{max:{width:e}}})}},this).broadcastAs("paneMaxWidth",!0),this.paneCollapsed=t.computed({read:function(){return this.config().pane.collapsed},write:function(e){((this.navReflowing()===!0||this.reflowing()===!0)&&this.paneAnimate3d()===!0)==!1?a({pane:{collapsed:e}}):this.$namespace.publish("paneCollapsed",!e)}},this).broadcastAs("paneCollapsed",!0),this.paneAccentPadding=t.computed({read:function(){return this.config().pane.accentPadding},write:function(e){a({pane:{accentPadding:e}})}},this).broadcastAs("paneAccentPadding",!0),this.linksMinWidth=t.computed({read:function(){return this.config().links.min.width},write:function(e){a({links:{min:{width:e}}})}},this).broadcastAs("linksMinWidth",!0),this.linksMaxWidth=t.computed({read:function(){return this.config().links.max.width},write:function(e){a({links:{min:{width:e}}})}},this).broadcastAs("linksMaxWidth",!0),this.helpDialog=t.computed({read:function(){return this.config().dialog.help},write:function(e){a({dialog:{help:e}})}},this).broadcastAs("helpDialog",!0),this.noticeDialog=t.computed({read:function(){return this.config().dialog.notice},write:function(e){a({dialog:{notice:e}})}},this).broadcastAs("noticeDialog",!0),this.autoHideHeader=t.computed({read:function(){return this.config().header.autoHide},write:function(e){a({header:{autoHide:e}})}},this).broadcastAs("autoHideHeader",!0),this.reflowing=t.observable(!1).broadcastAs("reflowing"),a=this.setConfig=function(n){this.config(e.extend(!0,{},this.config(),n))}.bind(this),this.updateSession=function(){clearTimeout(o),this.saveSession()===!0&&"object"==typeof this.currentTheme()&&(o=setTimeout(function(){var t={},s=this.currentTheme();"object"!=typeof s||n.isUndefined(s.params)||(t.theme=s.params()),n.size(t)>0&&e.post("/session/update",t)}.bind(this),3e3))}.bind(this),this.$namespace.subscribe("updateSession",this.updateSession).withContext(this),this.$namespace.subscribe("reset",r=function(n){if(this.navReflowing()===!0||this.paneMoving()===!0||this.headerMoving()===!0)return!1;this.headerClosed(!1);var t=this.defaultPaneMaxWidth(),s=this.paneAbsoluteMaxWidth(),r=this.paneCollapsed()===!1?this.paneMaxWidth():0,i={header:this.headerMaxHeight(),pane:r>s?s:r},o={header:this.defaultHeaderMaxHeight(),pane:t>s?s:t},l={header:{max:{height:i.header}},pane:{max:{width:i.pane}}},p=e.extend(!0,{},c());(this.viewPortSmall()||"desktop"!==this.viewPortLayoutMode())&&(o.pane=t,p.pane.collapsed=this.paneCollapsed()),a(e.extend(!0,{},p,l)),this.$globalNamespace.publish("configReset"),this.reflowing(!0),e(i).animate(o,{duration:n===!0?0:1e3,specialEasing:{header:"easeOutElastic",pane:"easeOutElastic"},step:function(e,n){"header"===n.prop?this.headerMaxHeight(parseInt(e,10)):this.paneMaxWidth(parseInt(e,10))}.bind(this),complete:function(){this.paneMaxWidth(t),this.reflowing(!1)}.bind(this)})}.bind(this)),this.configVersionCheck=t.computed(function(){(this.config().revision||0)!==c().revision&&r(!0)},this),this.isMobile.subscribe(function(e){s.set("viewPortIsMobile",e)},this),this.saveSession.subscribe(function(e){s.set("saveSession",e),e&&(i(),this.updateSession())},this),(this.isMobile()===!0||this.viewPortSmall()===!0)&&this.paneCollapsed(!0),this.initialized(!0),this}})}),define("text!app/template/config/configuration.html",[],function(){return'<div class="configuration" data-bind="css: { visible: visible }">\r\n  <layoutcontrol></layoutcontrol>\r\n  <configmanagement></configmanagement>\r\n</div>'}),define("app/viewModel/config/ConfigManagement",["footwork","lodash"],function(e){return e.viewModel({namespace:"ConfigManagement",initialize:function(){var n=e.namespace("Configuration");return this.transitionsEnabled=e.observable().receiveFrom("Configuration","transitionsEnabled"),this.helpDialog=e.observable({}).receiveFrom("Configuration","helpDialog"),this.noticeDialog=e.observable({}).receiveFrom("Configuration","noticeDialog"),this.autoHideHeader=e.observable(!1).receiveFrom("Configuration","autoHideHeader"),this.savePulse=e.observable().receiveFrom("Configuration","savePulse"),this.paneCollapsed=e.observable().receiveFrom("Configuration","paneCollapsed"),this.saveSession=e.observable().receiveFrom("Configuration","saveSession"),this.configVisible=e.observable().receiveFrom("Configuration","visible"),this.headerControlMutable=e.observable().receiveFrom("LayoutControl","headerMutable"),this.visibleHeaderHeight=e.observable(60).receiveFrom("Header","visibleHeight"),this.headerFixed=e.observable(60).receiveFrom("Header","fixed"),this.headerClosed=e.observable(60).receiveFrom("Header","closed"),this.pastHeaderClosePoint=e.observable(!1).receiveFrom("Header","pastClosePoint"),this.headerMoving=e.observable(!1).receiveFrom("Header","moving"),this.headerTopOffset=e.observable().receiveFrom("Header","topOffset"),this.headerClosedTransform=e.observable().receiveFrom("Header","closedTransform"),this.navReflowing=e.observable(!1).receiveFrom("Navigation","reflowing"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.viewScrolling=e.observable(!1).receiveFrom("ViewPort","scrolling"),this.pulse=this.savePulse,this.helpVisible=this.helpDialog,this.noTransition=e.computed(function(){return(this.viewScrolling()||this.navReflowing())&&this.headerMoving()===!1},this),this.containerTop=e.computed(function(){return parseInt(this.visibleHeaderHeight(),10)+parseInt(this.headerTopOffset(),10)+"px"},this),this.containerMarginLeft=e.computed(function(){return parseInt(this.columnWidth(),10)+5+"px"},this),this.autoHideHeaderState=e.computed(function(){return this.autoHideHeader()?"checked":"unchecked"},this),this.paneState=e.computed(function(){return this.paneCollapsed()?"checked":"unchecked"},this),this.transitionState=e.computed(function(){return this.transitionsEnabled()?"checked":"unchecked"},this),this.saveSessionState=e.computed(function(){return this.saveSession()===!0?"partial":"unchecked"},this),this.togglePane=function(){this.paneCollapsed(!this.paneCollapsed())},this.toggleTransitions=function(){this.transitionsEnabled(!this.transitionsEnabled())},this.toggleConfiguration=function(){this.configVisible(!this.configVisible())}.bind(this),this.toggleSaveSession=function(){this.saveSession(!this.saveSession())}.bind(this),this.toggleAutoHideHeader=function(){this.autoHideHeader()===!0?this.headerClosed(!1):this.pastHeaderClosePoint()&&this.headerClosed(!0),this.autoHideHeader(!this.autoHideHeader())},this.reset=function(){n.publish("reset")}.bind(this),this}})}),define("text!app/template/config/configmanagement.html",[],function(){return'<div class="management has-layout-trans" data-bind="css: { noTransition: noTransition }, style: { top: containerTop }, transform: headerClosedTransform">\r\n  <div class="content has-layout-trans" data-bind="style: { marginLeft: containerMarginLeft }, css: { headerControlVisible: headerControlMutable }">\r\n    <div class="manage dialog has-trans">\r\n      <div class="header">\r\n        <div class="title">Settings</div>\r\n        <a class="toggle-config control icon-close" data-bind="click: toggleConfiguration"></a>\r\n        <div class="save-notice has-trans" data-bind="css: { pulse: pulse }">\r\n          <span class="icon icon-download"></span> session saved ...\r\n        </div>\r\n      </div>\r\n\r\n      <div class="content">\r\n        <div class="row">\r\n          <label data-bind="click: togglePane">Collapse Panel</label>\r\n          <div class="checkbox" data-bind="class: paneState, click: togglePane">\r\n            <div class="checked icon-checkbox-checked icon"></div>\r\n            <div class="unchecked icon-checkbox-unchecked icon"></div>\r\n          </div>\r\n          <span class="shortcut" data-bind="click: togglePane">ctrl + z</span>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <label data-bind="click: toggleAutoHideHeader">Auto-hide header</label>\r\n          <div class="checkbox" data-bind="class: autoHideHeaderState, click: toggleAutoHideHeader">\r\n            <div class="checked icon-checkbox-checked icon"></div>\r\n            <div class="unchecked icon-checkbox-unchecked icon"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <label data-bind="click: toggleTransitions">Animations</label>\r\n          <div class="checkbox" data-bind="class: transitionState, click: toggleTransitions">\r\n            <div class="checked icon-checkbox-checked icon"></div>\r\n            <div class="unchecked icon-checkbox-unchecked icon"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="bottom row">\r\n          <button class="button" data-bind="click: toggleConfiguration"><span>Done</span></button>\r\n\r\n          <div class="utility-row">\r\n            <div class="auto-save">\r\n              <div class="checkbox" data-bind="class: saveSessionState, click: toggleSaveSession">\r\n                <div class="partial icon-checkbox-partial icon"></div>\r\n                <div class="unchecked icon-checkbox-unchecked icon"></div>\r\n              </div>\r\n              <label data-bind="click: toggleSaveSession">Preserve settings</label>\r\n            </div>\r\n            <a data-bind="click: reset"><span>Reset Interface</span><span class="shortcut">alt + r</span></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("app/viewModel/config/LayoutControl",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"LayoutControl",initialize:function(){return this.active={header:e.observable(),column:e.observable(),corner:e.observable()},this.defaultPaneMaxWidth=e.observable().receiveFrom("Configuration","defaultPaneMaxWidth"),this.transitionsEnabled=e.observable().receiveFrom("Configuration","transitionsEnabled"),this.headerMinHeight=e.observable().receiveFrom("Configuration","headerMinHeight"),this.headerMaxHeight=e.observable().receiveFrom("Configuration","headerMaxHeight"),this.configPaneMinWidth=e.observable().receiveFrom("Configuration","paneMinWidth"),this.configPaneMaxWidth=e.observable().receiveFrom("Configuration","paneMaxWidth"),this.headerLimitHeight=e.observable().receiveFrom("Configuration","headerLimitHeight"),this.heightMutable=e.observable().receiveFrom("Configuration","heightMutable"),this.reflowing=e.observable().receiveFrom("Configuration","reflowing"),this.visible=e.observable(!1).receiveFrom("Configuration","visible"),this.visibleHeaderHeight=e.observable(0).receiveFrom("Header","visibleHeight"),this.paneCollapsed=e.observable(0).receiveFrom("Configuration","paneCollapsed"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.paneMaxWidth=e.observable(0).receiveFrom("Pane","maxWidth"),this.scrollPosition=e.observable(!1).receiveFrom("ViewPort","scrollPosition"),this.viewPortHas3dTransforms=e.observable(!1).receiveFrom("ViewPort","has3dTransforms"),this.enabled=e.computed(function(){return this.active.header()||this.active.column()||this.active.corner()},this).broadcastAs("enabled"),this.currentControl=e.observable(!1).broadcastAs("currentControl"),this.headerMutable=this.heightMutable.broadcastAs("headerMutable"),this.containerTop=e.observable(),this.containerMarginLeft=e.observable(),this.columnMutable=e.computed(function(){return this.paneCollapsed()===!1&&this.visible()},this),this.cornerMutable=e.computed(function(){return this.headerMutable()&&this.columnMutable()},this),this.headerTopOffset=e.computed(function(){return this.headerMaxHeight()-this.scrollPosition()+"px"},this),this.headerTopPos=e.computed(function(){var e="0px";return this.viewPortHas3dTransforms()===!1&&(e=this.headerTopOffset()),e},this),this.headerTopTransform=e.computed(function(){var e="none";return this.viewPortHas3dTransforms()===!0&&(e="translateY("+this.headerTopOffset()+")"),e},this),this.columnLeftOffset=e.computed(function(){return parseInt(this.columnWidth(),10)-10+"px"},this),this.columnLeftPos=e.computed(function(){var e="0px";return this.viewPortHas3dTransforms()===!1&&(e=this.columnLeftOffset()),e},this),this.columnTransform=e.computed(function(){var e="none";return this.viewPortHas3dTransforms()===!0&&(e="translateX("+this.columnLeftOffset()+")"),e},this),this.cornerTopOffset=e.computed(function(){return this.headerMaxHeight()-this.scrollPosition()-5+"px"},this),this.cornerLeftOffset=e.computed(function(){return parseInt(this.columnWidth())-15+"px"},this),this.cornerTopPos=e.computed(function(){var e="0px";return this.viewPortHas3dTransforms()===!1&&(e=this.cornerTopOffset()),e},this),this.cornerLeftPos=e.computed(function(){var e="0px";return this.viewPortHas3dTransforms()===!1&&(e=this.cornerLeftOffset()),e},this),this.cornerTransform=e.computed(function(){var e="none";return this.viewPortHas3dTransforms()===!0&&(e="translate3d("+this.cornerLeftOffset()+","+this.cornerTopOffset()+",0px)"),e},this),this.mutate={column:function(e){var n=this.paneMaxWidth(),t=this.configPaneMinWidth();e.x+=this._mouseOffset&&this._mouseOffset.left||0,e.x>=n&&(e.x=this.defaultPaneMaxWidth()>n?this.defaultPaneMaxWidth():n),e.x<t&&(e.x=t),this.configPaneMaxWidth(e.x)}.bind(this),header:function(e){var n=this.headerMinHeight(),t=this.headerLimitHeight();e.y+=this._mouseOffset&&this._mouseOffset.top||0,e.y<n?e.y=n:e.y>t&&(e.y=t),this.headerMaxHeight(e.y)}.bind(this),corner:function(e){this.mutate.column(e),this.mutate.header(e)}.bind(this)},this.mutateControl=function(e){this.mutate[this.currentControl()]({x:e.pageX,y:e.pageY})}.bind(this),this.enable=function(e,t){if(this.reflowing()===!1){var s=t.target.getAttribute("data-control");this._mouseOffset={left:parseInt(this.columnWidth(),10)-t.pageX,top:this.headerMaxHeight()-t.pageY},n.each(this.active,function(e,n){e(n===s?!0:!1)}),this.currentControl(s),this.$globalNamespace.publish("enableControl",this.mutateControl)}}.bind(this),this.disable=function(){this._mouseOffset={left:0,top:0},n.each(this.active,function(e){e(!1)}),this.currentControl(!1),this.$globalNamespace.publish("disableControl",this.mutateControl)}.bind(this),this.$namespace.subscribe("disableControl",function(){this.disable()}).withContext(this),this}})}),define("text!app/template/config/layoutcontrol.html",[],function(){return'<div class="layout-controls">\r\n  <div class="header has-layout-trans" data-bind="css: { mutable: headerMutable, focused: active.header }, style: { top: headerTopPos }, transform: headerTopTransform">\r\n    <div class="panel gripper has-layout-trans" data-bind="event: { mousedown: enable }, style: { width: cornerLeftOffset }" data-control="header"></div>\r\n    <div class="nav gripper" data-bind="event: { mousedown: enable }, style: { paddingLeft: cornerLeftOffset }" data-control="header"></div>\r\n  </div>\r\n  <div class="corner has-layout-trans" data-bind="css: { mutable: cornerMutable, focused: active.corner }, transform: cornerTransform, style: { top: cornerTopPos, left: cornerLeftPos }">\r\n    <div class="gripper" data-bind="event: { mousedown: enable }" data-control="corner"></div>\r\n  </div>\r\n  <div class="column has-layout-trans" data-bind="css: { mutable: columnMutable, focused: active.column }, style: { left: columnLeftPos }, transform: columnTransform">\r\n    <div class="header gripper" data-bind="event: { mousedown: enable }, style: { height: visibleHeaderHeight }, css: { visible: headerMutable }" data-control="column"></div>\r\n    <div class="body gripper" data-bind="event: { mousedown: enable }, style: { paddingTop: visibleHeaderHeight }" data-control="column"></div>\r\n  </div>\r\n</div>\r\n'}),define("app/viewModel/Pane",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"Pane",afterBinding:function(){this.$namespace.trigger("initialized",!0,!1)},initialize:function(){this.paneMaxWidth=e.observable().receiveFrom("Configuration","paneMaxWidth"),this.paneCollapsed=e.observable().receiveFrom("Configuration","paneCollapsed"),this.paneAccentPadding=e.observable().receiveFrom("Configuration","paneAccentPadding"),this.linksMinWidth=e.observable().receiveFrom("Configuration","linksMinWidth"),this.configReflowing=e.observable().receiveFrom("Configuration","reflowing"),this.viewPortDim=e.observable({}).receiveFrom("ViewPort","dimensions"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortSmall=e.observable(!0).receiveFrom("ViewPort","isSmall"),this.logoWidth=e.observable(161).receiveFrom("ViewPort","logoWidth"),this.viewPortHas3dTransforms=e.observable(!0).receiveFrom("ViewPort","has3dTransforms"),this.headerVisibleHeight=e.observable().receiveFrom("Header","visibleHeight"),this.headerClosed=e.observable().receiveFrom("Header","closed"),this.headerTopOffset=e.observable().receiveFrom("Header","topOffset"),this.headerClosedTopOffset=e.observable().receiveFrom("Header","closedTopOffset"),this.overlapPane=e.observable().receiveFrom("Body","overlapPane"),this.movingTimer=e.observable(!1).extend({autoDisable:400}).broadcastAs("movingTimer",!0),this.maxWidth=e.computed(function(){var e=this.viewPortDim();if(n.isObject(e)&&!n.isUndefined(e.width)){var t=Math.floor(e.width/2.66),s=9e3;return this.viewPortSmall()&&(s=this.logoWidth()+10),s>t?t:s}return 0},this).broadcastAs("maxWidth"),this.columnWidth=e.computed(function(){var e=this.paneMaxWidth(),n=this.maxWidth();return"desktop"!==this.viewPortLayoutMode()&&"tablet"!==this.viewPortLayoutMode()||this.viewPortSmall()?n+"px":n?(e>=n&&this.configReflowing()===!1?n:e)+"px":9e3},this).broadcastAs("columnWidth"),this.shouldBeCollapsed=e.computed(function(){return this.viewPortSmall()},this).broadcastAs("shouldBeCollapsed"),this.narrow=e.computed(function(){return"desktop"===this.viewPortLayoutMode()||"tablet"===this.viewPortLayoutMode()?parseInt(this.columnWidth(),10)-this.logoWidth()-2*this.paneAccentPadding()<=this.linksMinWidth():!0},this).broadcastAs("narrow"),this.collapsed=this.paneCollapsed,this.dragging=e.observable(!1).broadcastAs("dragging",!0),this.dragOffset=e.observable(0).broadcastAs("dragOffset",!0),this.moving=e.computed(function(){return this.movingTimer()===!0&&n.isUndefined(this.transition())},this).broadcastAs("moving"),this.scrolling=e.observable(!1).extend({autoDisable:500}).broadcastAs("scrolling",!0),this.transition=e.observable(void 0).broadcastAs("transition",!0),this.width=e.computed(function(){return this.overlapPane()===!0?this.viewPortDim().width-this.paneAccentPadding()+"px":this.columnWidth()},this).broadcastAs("width"),this.contentMaxHeight=e.computed(function(){var e=this.viewPortDim(),t=parseInt(this.headerVisibleHeight(),10),s=50,a=s;return this.headerClosed()===!1&&(a+=t),("mobile"===this.viewPortLayoutMode()||this.narrow()===!0)&&(a+=30),n.isUndefined(e)?0:e.height-a},this).broadcastAs("contentMaxHeight"),this.animate3d=e.computed(function(){return this.viewPortHas3dTransforms()===!0&&this.overlapPane()===!0},this).broadcastAs("animate3d"),this.viewPortLayoutMode.subscribe(function(e){this.movingTimer.triggerDelay="mobile"===e?300:500},this),this.collapsed.subscribe(function(){this.dragging()===!1&&this.movingTimer(!0)},this),this.topOffset=e.computed(function(){return this.animate3d()===!0?"0px":this.headerClosed()===!1?parseInt(this.headerVisibleHeight(),10)+parseInt(this.headerTopOffset(),10)+"px":"0px"},this),this.trueLeftOffset=e.computed(function(){var e=0;return this.collapsed()===!0&&(e=parseInt(this.width(),10)-parseInt(this.paneAccentPadding(),10)),this.dragging()===!0&&(e+=this.dragOffset()),e+"px"},this).broadcastAs("trueLeftOffset"),this.leftOffset=e.computed(function(){return this.animate3d()===!0?"0px":"-"+this.trueLeftOffset()},this).broadcastAs("leftOffset"),this.transform=e.computed(function(){var e,n;return this.animate3d()===!0?(n=parseInt(this.headerVisibleHeight(),10),e=parseInt(this.trueLeftOffset(),10),this.headerClosed()===!0&&(n=0),"translate3d(-"+e+"px,"+n+"px,0px)"):"none"},this).broadcastAs("transform"),this.leftTransform=e.computed(function(){return this.animate3d()===!0?"translate3d(-"+this.trueLeftOffset()+",0px,0px)":"none"},this).broadcastAs("leftTransform")}})}),define("text!app/template/pane.html",[],function(){return'<div class="pane has-layout-trans" data-bind="style: { width: width, top: topOffset, left: leftOffset }, transition: transition, transform: transform">\r\n  <div class="mobile-only gripper"></div>\r\n\r\n  <div class="mobile-only page-logo js-only">\r\n    <a data-bind="$route: \'/\'">\r\n      <svg class="page-logo" width="161px" height="30px" viewBox="0 0 161 30">\r\n        <path fill="none" d="M158.2,27.9c-7,0-14,0-21.1,0c0-8.6,0-17.2,0-25.8c7,0,14,0,21.1,0C158.2,10.7,158.2,19.3,158.2,27.9z\r\n           M155.1,16.3c0-1-0.2-1.8-0.5-2.5c-0.5-1.3-1.3-2.4-2.2-3.4c-0.7-0.8-1.4-1.5-2.4-1.9c-0.7-0.3-1.4-0.3-2.2,0.1\r\n          c-0.6,0.3-1,0.8-1.3,1.4c-0.5,0.9-0.5,1.9-0.3,2.9c0.1,0.9,0.4,1.9,0.3,2.8c-0.1,1.4-0.8,2.5-1.9,3.3c-0.7,0.5-1.5,0.6-2.3,0.7\r\n          c-0.8,0.1-1.6,0.2-2.3,0.6c-1.3,0.6-2.1,1.6-2.5,2.9c-0.3,0.7-0.2,1.5,0.1,2.2c0.4,0.8,1,1.3,1.6,1.8c0.5,0.4,1,0.5,1.6,0.5\r\n          c1.3,0.1,2.4-0.5,3.2-1.4c1.1-1.3,2.3-2.3,3.8-3c0.8-0.4,1.6-0.7,2.4-1.1c1.5-0.7,2.8-1.7,3.8-3C154.6,18.4,155.1,17.4,155.1,16.3\r\n          z M149.6,5.4c0,1.3,0.8,1.9,1.9,1.5c1.3-0.5,2.4-2.3,2-3.7c-0.2-0.9-1-1.3-1.8-1C150.6,2.7,149.7,4,149.6,5.4z M155.8,7.1\r\n          c0.1-1.1-0.5-1.6-1.4-1.4c-0.8,0.2-1.6,1.4-1.5,2.3c0.1,0.9,0.8,1.3,1.6,0.9C155.3,8.5,155.7,7.8,155.8,7.1z M157.4,9.3\r\n          c0-0.6-0.4-0.9-1-0.8c-0.8,0.1-1.5,1-1.5,1.8c0,0.6,0.4,1,1,0.8C156.7,11,157.4,10.1,157.4,9.3z M156.7,13c0.6,0,1.2-0.5,1.4-1.1\r\n          c0.1-0.5-0.2-0.9-0.7-0.9c-0.6,0-1.3,0.5-1.4,1.1C155.9,12.6,156.1,13,156.7,13z M156.3,14.3c0,0.4,0.3,0.6,0.7,0.5\r\n          c0.5-0.1,0.9-0.6,0.9-1.1c0-0.4-0.3-0.7-0.7-0.6C156.8,13.3,156.3,13.8,156.3,14.3z"/>\r\n        <g class="foot">\r\n          <path d="M155.1,16.3c0,1-0.4,2.1-1.1,3c-1,1.3-2.3,2.3-3.8,3c-0.8,0.4-1.6,0.7-2.4,1.1c-1.5,0.7-2.7,1.8-3.8,3\r\n            c-0.8,0.9-1.9,1.4-3.2,1.4c-0.6,0-1.1-0.2-1.6-0.5c-0.7-0.5-1.3-1.1-1.6-1.8c-0.4-0.7-0.4-1.5-0.1-2.2c0.5-1.3,1.3-2.3,2.5-2.9\r\n            c0.7-0.4,1.5-0.4,2.3-0.6c0.8-0.1,1.6-0.3,2.3-0.7c1.1-0.8,1.8-1.9,1.9-3.3c0.1-1-0.2-1.9-0.3-2.8c-0.1-1-0.2-2,0.3-2.9\r\n            c0.3-0.6,0.7-1.1,1.3-1.4c0.7-0.4,1.4-0.4,2.2-0.1c1,0.4,1.7,1.1,2.4,1.9c0.9,1,1.7,2.1,2.2,3.4C154.9,14.6,155.1,15.4,155.1,16.3\r\n            z"/>\r\n          <path d="M149.6,5.4c0-1.3,0.9-2.7,2.1-3.1c0.8-0.3,1.6,0.1,1.8,1c0.3,1.3-0.7,3.2-2,3.7C150.4,7.3,149.6,6.6,149.6,5.4z"/>\r\n          <path d="M155.8,7.1c-0.1,0.7-0.5,1.4-1.4,1.8c-0.8,0.4-1.5,0-1.6-0.9c-0.1-0.9,0.7-2,1.5-2.3C155.3,5.5,155.9,6,155.8,7.1z"/>\r\n          <path d="M157.4,9.3c0,0.8-0.7,1.7-1.5,1.8c-0.6,0.1-1-0.2-1-0.8c0-0.8,0.7-1.6,1.5-1.8C157,8.4,157.4,8.7,157.4,9.3z"/>\r\n          <path d="M156.7,13c-0.5,0-0.8-0.4-0.7-0.8c0.1-0.6,0.8-1.1,1.4-1.1c0.5,0,0.8,0.4,0.7,0.9C157.9,12.4,157.3,13,156.7,13z"/>\r\n          <path d="M156.3,14.3c0-0.5,0.4-1.1,0.9-1.1c0.4-0.1,0.7,0.2,0.7,0.6c0,0.5-0.4,1-0.9,1.1C156.6,15,156.3,14.7,156.3,14.3z"/>\r\n          <path d="M111.7,22.1c0-1,0.7-1.8,1.7-1.8c1,0,1.7,0.7,1.7,1.8c0,1-0.6,1.8-1.7,1.8C112.4,23.9,111.7,23.1,111.7,22.1z"/>\r\n        </g>\r\n        <g class="footwork">\r\n          <path d="M6,23.6V11.9H4.1V10H6V9.4c0-1.9,0.4-3.6,1.6-4.7c0.9-0.9,2.2-1.3,3.3-1.3c0.9,0,1.6,0.2,2.1,0.4l-0.3,1.9\r\n            c-0.4-0.2-0.9-0.3-1.6-0.3c-2.1,0-2.6,1.8-2.6,3.9V10h3.3v1.9H8.4v11.7H6z"/>\r\n          <path d="M25.8,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C23.1,9.7,25.8,12.5,25.8,16.7z M15,16.8\r\n            c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2S15,14.3,15,16.8z"/>\r\n          <path d="M41.2,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C38.5,9.7,41.2,12.5,41.2,16.7z M30.4,16.8\r\n            c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2S30.4,14.3,30.4,16.8z"/>\r\n          <path d="M47.2,6.1V10h3.5v1.9h-3.5v7.3c0,1.7,0.5,2.6,1.8,2.6c0.6,0,1.1-0.1,1.4-0.2l0.1,1.8c-0.5,0.2-1.2,0.3-2.2,0.3\r\n            c-1.1,0-2.1-0.4-2.7-1c-0.7-0.7-1-1.9-1-3.5v-7.4h-2.1V10h2.1V6.8L47.2,6.1z"/>\r\n          <path d="M54.8,10l1.8,6.9c0.4,1.5,0.8,2.9,1,4.3h0.1c0.3-1.4,0.8-2.8,1.2-4.3l2.2-6.9h2.1l2.1,6.8c0.5,1.6,0.9,3.1,1.2,4.4h0.1\r\n            c0.2-1.4,0.6-2.8,1-4.4l1.9-6.8h2.4l-4.4,13.6h-2.2l-2.1-6.5c-0.5-1.5-0.9-2.9-1.2-4.5H62c-0.3,1.6-0.8,3-1.2,4.5l-2.2,6.4h-2.2\r\n            L52.2,10H54.8z"/>\r\n          <path d="M86.4,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C83.7,9.7,86.4,12.5,86.4,16.7z M75.6,16.8\r\n            c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2C76.9,11.6,75.6,14.3,75.6,16.8z"/>\r\n          <path d="M89.5,14.3c0-1.6,0-3-0.1-4.2h2.2l0.1,2.7h0.1c0.6-1.8,2.1-3,3.8-3c0.3,0,0.5,0,0.7,0.1v2.3c-0.3-0.1-0.5-0.1-0.8-0.1\r\n            c-1.7,0-3,1.3-3.3,3.2c-0.1,0.3-0.1,0.7-0.1,1.1v7.2h-2.4V14.3z"/>\r\n          <path d="M101.2,16.2L101.2,16.2c0.4-0.5,0.9-1.1,1.3-1.5l4-4.7h3l-5.2,5.6l6,8h-3l-4.7-6.5l-1.3,1.4v5.1h-2.4V3.7h2.4V16.2z"/>\r\n        </g>\r\n        <g class="js">\r\n          <path d="M114.8,27.5c1.1-0.1,2.1-0.4,2.7-1c0.7-0.8,0.9-1.8,0.9-5.1V10h2.5v12.3c0,2.6-0.4,4.3-1.6,5.6c-1.1,1.1-2.9,1.5-4.2,1.5\r\n            L114.8,27.5z M121.1,6.2c0,0.8-0.6,1.5-1.5,1.5c-0.9,0-1.5-0.7-1.5-1.5c0-0.9,0.6-1.5,1.6-1.5C120.5,4.7,121.1,5.3,121.1,6.2z"/>\r\n          <path d="M124.5,21.1c0.7,0.5,2,1,3.2,1c1.8,0,2.6-0.9,2.6-2c0-1.2-0.7-1.8-2.5-2.5c-2.4-0.9-3.6-2.2-3.6-3.8c0-2.2,1.8-4,4.7-4\r\n            c1.4,0,2.6,0.4,3.3,0.8l-0.6,1.8c-0.5-0.3-1.5-0.8-2.8-0.8c-1.5,0-2.3,0.8-2.3,1.8c0,1.1,0.8,1.6,2.6,2.3c2.4,0.9,3.6,2.1,3.6,4.1\r\n            c0,2.4-1.8,4.1-5.1,4.1c-1.5,0-2.9-0.4-3.8-0.9L124.5,21.1z"/>\r\n        </g>\r\n      </svg>\r\n    </a>\r\n  </div>\r\n\r\n  <panelinks></panelinks>\r\n\r\n  <div class="content">\r\n    <navmenu></navmenu>\r\n    <pagesections></pagesections>\r\n  </div>\r\n</div>'
}),define("app/viewModel/pane/PaneLinks",["footwork","lodash","jquery"],function(e,n,t){return e.viewModel({namespace:"PaneLinks",initialize:function(s){var a=e.namespace("PaneElements");this.linksMinWidth=e.observable().receiveFrom("Configuration","linksMinWidth"),this.linksMaxWidth=e.observable().receiveFrom("Configuration","linksMaxWidth"),this.paneAccentPadding=e.observable().receiveFrom("Configuration","paneAccentPadding"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.logoWidth=e.observable(161).receiveFrom("ViewPort","logoWidth"),this.pageHasSections=e.observable().receiveFrom("PageSections","hasSections"),this.headerContentHeight=e.observable().receiveFrom("Header","contentHeight"),this.narrowPane=e.observable().receiveFrom("Pane","narrow"),this.columnWidth=e.observable(null),this.inHeader=ko.observable(s.inHeader),s.inHeader===!0&&(this.columnWidth=e.observable().receiveFrom("Pane","columnWidth")),this.height=e.computed(function(){return s.inHeader===!0?this.headerContentHeight():null},this),this.defaultSelection=e.computed(function(){return"mobile"===this.viewPortLayoutMode()?"NavMenu":"PageSections"},this).broadcastAs("defaultSelection"),this.currentSelection=e.observable(this.defaultSelection()).broadcastAs("currentSelection",!0),this.$namespace.request.handler("currentSelection",function(){return this.currentSelection()}),this.width=e.computed(function(){var e=parseInt(this.columnWidth(),10)-this.paneAccentPadding(),n=this.linksMinWidth(),t=this.linksMaxWidth();return e=e>=n?e:n,e=t>=e?e:t,e+"px"},this),this.headerWidth=e.computed(function(){return s.inHeader===!0?parseInt(this.columnWidth(),10)-this.logoWidth()-2*this.paneAccentPadding()+"px":null},this),this.chooseSection=function(e,s){var r=s.target.getAttribute("data-section");n.isNull(r)&&(r=t(s.target).parents("[data-section]")[0].getAttribute("data-section")),this.currentSelection(r||this.defaultSelection()),a.publish("hideAll")}.bind(this)}})}),define("text!app/template/pane/panelinks.html",[],function(){return'<div class="pane-links" data-bind="style: { width: columnWidth }, css: { pageHasSections: pageHasSections }">\r\n  <div class="logo">\r\n    <a data-bind="$route: \'/\'">\r\n      <div class="img-logo no-svg-only"></div>\r\n      <div class="svg-only">\r\n        <svg class="page-logo" width="161px" height="30px" viewBox="0 0 161 30">\r\n          <path fill="none" d="M158.2,27.9c-7,0-14,0-21.1,0c0-8.6,0-17.2,0-25.8c7,0,14,0,21.1,0C158.2,10.7,158.2,19.3,158.2,27.9z\r\n             M155.1,16.3c0-1-0.2-1.8-0.5-2.5c-0.5-1.3-1.3-2.4-2.2-3.4c-0.7-0.8-1.4-1.5-2.4-1.9c-0.7-0.3-1.4-0.3-2.2,0.1\r\n            c-0.6,0.3-1,0.8-1.3,1.4c-0.5,0.9-0.5,1.9-0.3,2.9c0.1,0.9,0.4,1.9,0.3,2.8c-0.1,1.4-0.8,2.5-1.9,3.3c-0.7,0.5-1.5,0.6-2.3,0.7\r\n            c-0.8,0.1-1.6,0.2-2.3,0.6c-1.3,0.6-2.1,1.6-2.5,2.9c-0.3,0.7-0.2,1.5,0.1,2.2c0.4,0.8,1,1.3,1.6,1.8c0.5,0.4,1,0.5,1.6,0.5\r\n            c1.3,0.1,2.4-0.5,3.2-1.4c1.1-1.3,2.3-2.3,3.8-3c0.8-0.4,1.6-0.7,2.4-1.1c1.5-0.7,2.8-1.7,3.8-3C154.6,18.4,155.1,17.4,155.1,16.3\r\n            z M149.6,5.4c0,1.3,0.8,1.9,1.9,1.5c1.3-0.5,2.4-2.3,2-3.7c-0.2-0.9-1-1.3-1.8-1C150.6,2.7,149.7,4,149.6,5.4z M155.8,7.1\r\n            c0.1-1.1-0.5-1.6-1.4-1.4c-0.8,0.2-1.6,1.4-1.5,2.3c0.1,0.9,0.8,1.3,1.6,0.9C155.3,8.5,155.7,7.8,155.8,7.1z M157.4,9.3\r\n            c0-0.6-0.4-0.9-1-0.8c-0.8,0.1-1.5,1-1.5,1.8c0,0.6,0.4,1,1,0.8C156.7,11,157.4,10.1,157.4,9.3z M156.7,13c0.6,0,1.2-0.5,1.4-1.1\r\n            c0.1-0.5-0.2-0.9-0.7-0.9c-0.6,0-1.3,0.5-1.4,1.1C155.9,12.6,156.1,13,156.7,13z M156.3,14.3c0,0.4,0.3,0.6,0.7,0.5\r\n            c0.5-0.1,0.9-0.6,0.9-1.1c0-0.4-0.3-0.7-0.7-0.6C156.8,13.3,156.3,13.8,156.3,14.3z"/>\r\n          <g class="foot">\r\n            <path d="M155.1,16.3c0,1-0.4,2.1-1.1,3c-1,1.3-2.3,2.3-3.8,3c-0.8,0.4-1.6,0.7-2.4,1.1c-1.5,0.7-2.7,1.8-3.8,3\r\n              c-0.8,0.9-1.9,1.4-3.2,1.4c-0.6,0-1.1-0.2-1.6-0.5c-0.7-0.5-1.3-1.1-1.6-1.8c-0.4-0.7-0.4-1.5-0.1-2.2c0.5-1.3,1.3-2.3,2.5-2.9\r\n              c0.7-0.4,1.5-0.4,2.3-0.6c0.8-0.1,1.6-0.3,2.3-0.7c1.1-0.8,1.8-1.9,1.9-3.3c0.1-1-0.2-1.9-0.3-2.8c-0.1-1-0.2-2,0.3-2.9\r\n              c0.3-0.6,0.7-1.1,1.3-1.4c0.7-0.4,1.4-0.4,2.2-0.1c1,0.4,1.7,1.1,2.4,1.9c0.9,1,1.7,2.1,2.2,3.4C154.9,14.6,155.1,15.4,155.1,16.3\r\n              z"/>\r\n            <path d="M149.6,5.4c0-1.3,0.9-2.7,2.1-3.1c0.8-0.3,1.6,0.1,1.8,1c0.3,1.3-0.7,3.2-2,3.7C150.4,7.3,149.6,6.6,149.6,5.4z"/>\r\n            <path d="M155.8,7.1c-0.1,0.7-0.5,1.4-1.4,1.8c-0.8,0.4-1.5,0-1.6-0.9c-0.1-0.9,0.7-2,1.5-2.3C155.3,5.5,155.9,6,155.8,7.1z"/>\r\n            <path d="M157.4,9.3c0,0.8-0.7,1.7-1.5,1.8c-0.6,0.1-1-0.2-1-0.8c0-0.8,0.7-1.6,1.5-1.8C157,8.4,157.4,8.7,157.4,9.3z"/>\r\n            <path d="M156.7,13c-0.5,0-0.8-0.4-0.7-0.8c0.1-0.6,0.8-1.1,1.4-1.1c0.5,0,0.8,0.4,0.7,0.9C157.9,12.4,157.3,13,156.7,13z"/>\r\n            <path d="M156.3,14.3c0-0.5,0.4-1.1,0.9-1.1c0.4-0.1,0.7,0.2,0.7,0.6c0,0.5-0.4,1-0.9,1.1C156.6,15,156.3,14.7,156.3,14.3z"/>\r\n            <path d="M111.7,22.1c0-1,0.7-1.8,1.7-1.8c1,0,1.7,0.7,1.7,1.8c0,1-0.6,1.8-1.7,1.8C112.4,23.9,111.7,23.1,111.7,22.1z"/>\r\n          </g>\r\n          <g class="footwork">\r\n            <path d="M6,23.6V11.9H4.1V10H6V9.4c0-1.9,0.4-3.6,1.6-4.7c0.9-0.9,2.2-1.3,3.3-1.3c0.9,0,1.6,0.2,2.1,0.4l-0.3,1.9\r\n              c-0.4-0.2-0.9-0.3-1.6-0.3c-2.1,0-2.6,1.8-2.6,3.9V10h3.3v1.9H8.4v11.7H6z"/>\r\n            <path d="M25.8,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C23.1,9.7,25.8,12.5,25.8,16.7z M15,16.8\r\n              c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2S15,14.3,15,16.8z"/>\r\n            <path d="M41.2,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C38.5,9.7,41.2,12.5,41.2,16.7z M30.4,16.8\r\n              c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2S30.4,14.3,30.4,16.8z"/>\r\n            <path d="M47.2,6.1V10h3.5v1.9h-3.5v7.3c0,1.7,0.5,2.6,1.8,2.6c0.6,0,1.1-0.1,1.4-0.2l0.1,1.8c-0.5,0.2-1.2,0.3-2.2,0.3\r\n              c-1.1,0-2.1-0.4-2.7-1c-0.7-0.7-1-1.9-1-3.5v-7.4h-2.1V10h2.1V6.8L47.2,6.1z"/>\r\n            <path d="M54.8,10l1.8,6.9c0.4,1.5,0.8,2.9,1,4.3h0.1c0.3-1.4,0.8-2.8,1.2-4.3l2.2-6.9h2.1l2.1,6.8c0.5,1.6,0.9,3.1,1.2,4.4h0.1\r\n              c0.2-1.4,0.6-2.8,1-4.4l1.9-6.8h2.4l-4.4,13.6h-2.2l-2.1-6.5c-0.5-1.5-0.9-2.9-1.2-4.5H62c-0.3,1.6-0.8,3-1.2,4.5l-2.2,6.4h-2.2\r\n              L52.2,10H54.8z"/>\r\n            <path d="M86.4,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C83.7,9.7,86.4,12.5,86.4,16.7z M75.6,16.8\r\n              c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2C76.9,11.6,75.6,14.3,75.6,16.8z"/>\r\n            <path d="M89.5,14.3c0-1.6,0-3-0.1-4.2h2.2l0.1,2.7h0.1c0.6-1.8,2.1-3,3.8-3c0.3,0,0.5,0,0.7,0.1v2.3c-0.3-0.1-0.5-0.1-0.8-0.1\r\n              c-1.7,0-3,1.3-3.3,3.2c-0.1,0.3-0.1,0.7-0.1,1.1v7.2h-2.4V14.3z"/>\r\n            <path d="M101.2,16.2L101.2,16.2c0.4-0.5,0.9-1.1,1.3-1.5l4-4.7h3l-5.2,5.6l6,8h-3l-4.7-6.5l-1.3,1.4v5.1h-2.4V3.7h2.4V16.2z"/>\r\n          </g>\r\n          <g class="js">\r\n            <path d="M114.8,27.5c1.1-0.1,2.1-0.4,2.7-1c0.7-0.8,0.9-1.8,0.9-5.1V10h2.5v12.3c0,2.6-0.4,4.3-1.6,5.6c-1.1,1.1-2.9,1.5-4.2,1.5\r\n              L114.8,27.5z M121.1,6.2c0,0.8-0.6,1.5-1.5,1.5c-0.9,0-1.5-0.7-1.5-1.5c0-0.9,0.6-1.5,1.6-1.5C120.5,4.7,121.1,5.3,121.1,6.2z"/>\r\n            <path d="M124.5,21.1c0.7,0.5,2,1,3.2,1c1.8,0,2.6-0.9,2.6-2c0-1.2-0.7-1.8-2.5-2.5c-2.4-0.9-3.6-2.2-3.6-3.8c0-2.2,1.8-4,4.7-4\r\n              c1.4,0,2.6,0.4,3.3,0.8l-0.6,1.8c-0.5-0.3-1.5-0.8-2.8-0.8c-1.5,0-2.3,0.8-2.3,1.8c0,1.1,0.8,1.6,2.6,2.3c2.4,0.9,3.6,2.1,3.6,4.1\r\n              c0,2.4-1.8,4.1-5.1,4.1c-1.5,0-2.9-0.4-3.8-0.9L124.5,21.1z"/>\r\n          </g>\r\n        </svg>\r\n      </div>\r\n    </a>\r\n  </div>\r\n  <div class="areas" data-bind="style: { width: headerWidth }, class: currentSelection">\r\n    <!-- ko if: inHeader -->\r\n      <div class="message">\r\n        <p>A solid footing for web applications.</p>\r\n      </div>\r\n    <!-- /ko -->\r\n    <!-- ko ifnot: inHeader -->\r\n      <div class="alternate">\r\n        <div class="PageSections link" title="Page Sections" data-bind="click: chooseSection, style: { lineHeight: height }" data-section="PageSections">\r\n          <div class="content">\r\n            <div class="icon icon-page-sections"></div>\r\n            <div class="label">Page Sections</div>\r\n          </div>\r\n        </div>\r\n        <div class="NavMenu link" title="Main Menu" data-bind="click: chooseSection, style: { lineHeight: height }" data-section="NavMenu">\r\n          <div class="content">\r\n            <div class="icon icon-main-menu"></div>\r\n            <div class="label">Navigation</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    <!-- /ko -->\r\n  </div>\r\n</div>'}),define("app/viewModel/NavMenu",["jquery","lodash","footwork"],function(e,n,t){var s=t.observable().receiveFrom("ViewPort","isMobile"),a=t.viewModel({namespace:"PaneElements",initialize:function(e){this.headerContentHeight=t.observable().receiveFrom("Header","contentHeight"),this.visible=t.observable(null).extend({autoEnable:n.random(200,600)}),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed").extend({debounce:{timeout:200,when:function(e){return e===!1}}}),this.labelText=t.observable(e.label),this.url=t.observable(e.url),this.options=e||{},this.subMenuItems=e.subMenu,this.hasSubMenu=n.isArray(e.subMenu)&&!!e.subMenu.length,this.target=e.target,this.clickHandler=function(e,n){var a=!1;return s()&&this.paneCollapsed()||(a=!0),t.isFullURL(n)||e.preventDefault(),a},this.$namespace.subscribe("hideAll",function(){this.visible(!1)}).withContext(this),this.visible(!1)}});return t.viewModel({namespace:"NavMenu",initialize:function(){this.visible=t.observable(!1),this.paneWidth=t.observable().receiveFrom("Pane","width"),this.currentSelection=t.observable().receiveFrom("PaneLinks","currentSelection"),this.paneContentMaxHeight=t.observable().receiveFrom("Pane","contentMaxHeight").extend({units:"px"}),this.headerContentHeight=t.observable().receiveFrom("Header","contentHeight"),this.configVisible=t.observable().receiveFrom("Configuration","visible"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed"),this.toggleConfigView=function(){this.configVisible(!this.configVisible()),this.configVisible()&&this.paneCollapsed()&&this.paneCollapsed(!1)}.bind(this),this.mobileWidth=t.computed(function(){return parseInt(this.paneWidth(),10)-20+"px"},this),this.visible=t.observable(!1),this.entries=t.observableArray([new a({label:"API Docs",url:"/api",subMenu:[new a({label:"viewModel",url:"/api/viewModel"}),new a({label:"Namespace",url:"/api/namespace"}),new a({label:"Components",url:"/api/component"}),new a({label:"Broadcastable / Receivable",url:"/api/broadcast-receive"}),new a({label:"Routing",url:"/api/routing"})]}),new a({label:"Tutorial",url:"/tutorial"}),new a({label:"Annotated Source",url:"/annotated"})]),this.checkSelection=function(e){e=e||this.currentSelection(),this.visible(e===this.getNamespaceName())},this.currentSelection.subscribe(this.checkSelection,this),this.checkSelection()}})}),define("text!app/template/navmenu.html",[],function(){return'<div class="pane-component NavMenu initialized" data-bind="css: { visible: visible }">\r\n  <div class="content" data-bind="style: { height: paneContentMaxHeight }">\r\n    <nav data-bind="style: { width: mobileWidth }, foreach: entries">\r\n      <a data-bind="css: { visible: visible }, attr: { title: labelText, target: target }, $route: { url: url, handler: clickHandler }, text: labelText"></a>\r\n    </nav>\r\n  </div>\r\n</div>\r\n\r\n<div class="header-component">\r\n  <div class="menu-item first js-only initialized-only">\r\n    <div class="icon icon-cog title desktop-only" title="Click to adjust layout" id="settings"\r\n      data-bind="css: { active: configVisible }, style: { lineHeight: headerContentHeight }, click: toggleConfigView"></div>\r\n  </div>\r\n\r\n  <!-- ko foreach: entries -->\r\n    <div class="menu-item" data-bind="css: { visible: visible, aside: options.aside }, style: { height: headerContentHeight }">\r\n      <div class="title" data-bind="style: { lineHeight: $parent.headerContentHeight }">\r\n        <a data-bind="$route: { url: url, handler: clickHandler }, attr: { target: target }, text: labelText"></a>\r\n      </div>\r\n      <!-- ko if: hasSubMenu -->\r\n        <div class="drop-down">\r\n          <div class="title" data-bind="style: { lineHeight: headerContentHeight }">\r\n            <a data-bind="$route: { url: url, handler: clickHandler }, attr: { target: target }">\r\n              <span data-bind="text: labelText"></span>\r\n            </a>\r\n          </div>\r\n          <div class="content" data-bind="foreach: subMenuItems">\r\n            <div class="row">\r\n              <a class="item" data-bind="attr: { target: target }, text: labelText, $route: { url: url, handler: clickHandler }"></a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      <!-- /ko -->\r\n    </div>\r\n  <!-- /ko -->\r\n  \r\n  <releases></releases>\r\n</div>'}),function(){function e(e,n){e.fn.pulse=function(t){"number"==typeof t&&(t={duration:t}),t=e.extend({duration:1e3,className:"pulse"},t||{});var s="_pulseNS_"+t.className;return this.each(function(){var a,r=e(this);(a=r.data(s))!==n&&clearTimeout(a),r.data(s,a=r.addClass(t.className)),window.setTimeout(function(){r.removeClass(t.className),clearTimeout(a)},t.duration)}),this}}"function"==typeof define&&define.amd?define("jquery.pulse",["jquery"],function(n){e(n)}):e("function"==typeof require&&"object"==typeof exports&&"object"==typeof module?require("jquery"):jQuery||$)}.call(this),define("app/viewModel/pane/PageSections",["jquery","lodash","footwork","jquery.pulse"],function(e,n,t){var s,a=t.viewModel({namespace:"PageSection",initialize:function(a){var r,i=t.namespace("PaneElements"),o=100;a=a||{};var l="";this.$globalNamespace.request("isRunningLocally")||(l=t.namespace("BodyRouter").request("currentRoute").url),this.currentSection=t.observable().receiveFrom("PageSections","currentSection"),this.chosenSection=t.observable().receiveFrom("PageSections","chosenSection"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed").extend({debounce:200}),this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.visible=t.observable(null).extend({autoEnable:n.random(200,600)}),this.title=t.observable(a.title),this.description=t.observable(a.description),this.anchor=t.observable(a.anchor),this.active=t.computed(function(){return this.currentSection()===this.anchor()},this),this.anchorAddress=t.computed(function(){return l+"#"+this.anchor()},this),this.anchorPosition=t.observable(),r=function(){this.anchorPosition(e("#"+this.anchor()).offset())}.bind(this),r(),t.observable().extend({throttle:o}).receiveFrom("ViewPort","layoutMode").subscribe(r),t.observable().extend({throttle:o}).receiveFrom("ViewPort","dimensions").subscribe(r),t.observable().extend({throttle:o}).receiveFrom("Header","height").subscribe(r),t.observable().extend({throttle:o}).receiveFrom("Pane","width").subscribe(r),t.observable().extend({throttle:o+1e3}).receiveFrom("Configuration","paneCollapsed").subscribe(r),this.$namespace.subscribe("chooseSection",function(e){e===this.anchor()&&this.chooseSection()}).withContext(this),this.$namespace.subscribe("scrollToSection",function(n){var t;n===this.anchor()&&(this.chooseSection(),t=e("#"+this.anchor()),t.length&&window.scrollTo(0,t.offset().top-s))}).withContext(this),i.subscribe("hideAll",function(){this.visible(!1)}).withContext(this),this.goToSection=function(n){this.chosenSection(""),this.chosenSection(n),e("[name="+n+"]").pulse({className:"active",duration:1e3})},this.chooseSection=function(){return"mobile"===this.viewPortLayoutMode()?this.paneCollapsed()||(this.goToSection(this.anchor()),this.paneCollapsed(!0)):this.goToSection(this.anchor()),!0}.bind(this),this.visible(!1)}});return t.viewModel({namespace:"PageSections",afterBinding:function(){this.checkSelection()},initialize:function(){var e=!0;this.visible=t.observable(!1),this.description=t.observable(),this.hasDescription=t.computed(function(){var e=this.description();return n.isString(e)&&e.length},this),this.initialized=t.observable(!0),this.currentSelection=t.observable().receiveFrom("PaneLinks","currentSelection"),this.paneContentMaxHeight=t.observable().receiveFrom("Pane","contentMaxHeight").extend({units:"px"}),this.defaultPaneSelection=t.observable().receiveFrom("PaneLinks","defaultSelection"),this.title=t.observable(),this.viewPortScrollPos=t.observable().receiveFrom("ViewPort","scrollPosition"),this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.headerVisibleHeight=t.observable().receiveFrom("Header","visibleHeight"),this.sections=t.observable().broadcastAs("sections"),this.highlightSection=t.observable().broadcastAs("highlightSection").extend({autoDisable:300}),this.chosenSection=t.observable(null).extend({write:function(e,n){e(n),this.highlightSection(n),this._chosenRead=!1}.bind(this)}).broadcastAs("chosenSection",!0),this.hasSections=t.computed(function(){var e=this.description()||"",n=this.sections()||[];return n.length||e.length},this).broadcastAs("hasSections"),this.sectionCount=t.computed(function(){var e=this.sections()||[];return e.length},this).broadcastAs("sectionCount"),this.currentSection=t.computed(function(){var e=this.sections(),t=this.viewPortScrollPos(),a=this.chosenSection(),r=this._chosenRead;return this._chosenRead=!0,r!==!0&&a||n.reduce(e,function(e,a){return n.isObject(a.anchorPosition())&&t>=a.anchorPosition().top-s?a.anchor():e}.bind(this),!1)},this).broadcastAs("currentSection"),this.loadSections=function(e){e=e||[],this.sections(n.reduce(e,function(e,n){return e.push(new a(n)),e},[])),this.currentSelection(this.hasSections()&&"mobile"!==this.viewPortLayoutMode()?this.getNamespaceName():this.defaultPaneSelection())}.bind(this),this.$namespace.subscribe("clear",function(){this.sections([])}).withContext(this);var r=function(n){n&&(s=n.anchorOffset||0,n.title&&this.title(n.title),n.description&&this.description(n.description),this.loadSections(n.sections),e&&(e=!1,t.namespace("PageSection").publish("scrollToSection",t.namespace("BodyRouter").request("urlParts").anchor)))}.bind(this);r(t.namespace("Page").request("metaData")),this.$namespace.subscribe("pageMetaData",r).withContext(this),this.checkSelection=function(e){e=e||this.currentSelection(),this.visible(e===this.getNamespaceName())},this.currentSelection.subscribe(this.checkSelection,this)}})}),define("text!app/template/pane/pagesections.html",[],function(){return'<div class="pageSections pane-component" data-bind="css: { visible: visible, initialized: initialized }">\r\n  <div class="title no-mobile">\r\n    <span class="label">\r\n      <span class="text" data-bind="text: title"></span>\r\n    </span>\r\n  </div>\r\n  <div class="content" data-bind="css: { hasContent: sectionCount }, style: { height: paneContentMaxHeight }">\r\n    <div class="title mobile-only">\r\n      <span class="label">\r\n        <span class="text" data-bind="text: title"></span>\r\n      </span>\r\n    </div>\r\n    <div class="description" data-bind="text: description, css: { visible: hasDescription }"></div>\r\n    <div data-bind="foreach: sections">\r\n      <a class="section-label entry-row" data-bind="click: chooseSection, css: { active: active, visible: visible }, attr: { href: anchorAddress }">\r\n        <div class="title" data-bind="text: title"></div>\r\n        <span class="description" data-bind="text: description"></span>\r\n        <div class="arrow"></div>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</div>'}),define("app/viewModel/pane/PaneBackground",["footwork"],function(e){return e.viewModel({namespace:"PaneBackground",initialize:function(){this.leftOffset=e.observable().receiveFrom("Pane","leftOffset"),this.leftTransform=e.observable().receiveFrom("Pane","leftTransform"),this.transition=e.observable().receiveFrom("Pane","transition"),this.width=e.observable().receiveFrom("Pane","width")}})}),define("text!app/template/pane/panebackground.html",[],function(){return'<div class="js-paneBackground pane-bg has-layout-trans"\r\n     data-bind="transition: transition,\r\n                 transform: leftTransform,\r\n                     style: {\r\n                       width: width,\r\n                       left: leftOffset\r\n                     }"></div>'}),define("app/viewModel/Header",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"Header",initialize:function(){var t=!0,s=!1,a=1,r=-1,i=0,o=160;this.headerMinHeight=e.observable().receiveFrom("Configuration","headerMinHeight"),this.headerMaxHeight=e.observable().receiveFrom("Configuration","headerMaxHeight"),this.headerBorderWidth=e.observable().receiveFrom("Configuration","headerBorderWidth"),this.headerContentMaxHeight=e.observable().receiveFrom("Configuration","headerContentMaxHeight"),this.autoHideHeader=e.observable().receiveFrom("Configuration","autoHideHeader"),this.defaultHeaderMaxHeight=e.observable().receiveFrom("Configuration","defaultHeaderMaxHeight"),this.viewPortScrollPosition=e.observable(0).receiveFrom("ViewPort","scrollPosition"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortIsMobile=e.observable().receiveFrom("ViewPort","isMobile"),this.viewPortHas3dTransforms=e.observable(!0).receiveFrom("ViewPort","has3dTransforms"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.paneCollapsed=e.observable().receiveFrom("Configuration","paneCollapsed"),this.paneMoving=e.observable().receiveFrom("Pane","moving"),this.navReflowing=e.observable().receiveFrom("Navigation","reflowing"),this.overlapPane=e.observable().receiveFrom("Body","overlapPane"),this.closable=e.computed(function(){return this.viewPortIsMobile()===!0||this.autoHideHeader()===!0},this),this.animate3d=e.computed(function(){return this.viewPortHas3dTransforms()===!0&&this.overlapPane()===!0},this),this.height=e.computed(function(){return Math.floor(this.headerMaxHeight()+this.headerBorderWidth())+"px"},this).broadcastAs("height"),this.closed=e.observable(!1).broadcastAs("closed",!0),this.closedTransform=e.computed(function(){return this.animate3d()===!0?this.closable()&&this.closed()?"translate3d(0px,-"+this.visibleHeight()+",0px)":"translate3d(0px,0px,0px)":"none"},this).broadcastAs("closedTransform"),this.visibleHeight=e.computed(function(){var e=this.headerMinHeight(),n=this.headerMaxHeight(),t=n-this.viewPortScrollPosition();return t=t>=e?t:e,t=n>=t?t:n,Math.floor(t+this.headerBorderWidth())+"px"},this).broadcastAs("visibleHeight"),this.sourceLinkVisibleMinHeight=e.observable(155).broadcastAs("sourceLinkVisibleMinHeight"),this.closePoint=e.computed(function(){return parseInt(this.height(),10)},this).broadcastAs("closePoint");var l=e.observable(!1).extend({debounce:{timeout:300,when:function(e){return e===!1}}});this.contentHeight=e.computed(function(){var e=this.headerContentMaxHeight(),n=parseInt(this.visibleHeight(),10);return n=n>=e?e:n,n-this.headerBorderWidth()+"px"},this).broadcastAs("contentHeight"),this.minHeight=e.computed(function(){return this.headerMinHeight()+this.headerBorderWidth()},this).broadcastAs("minHeight"),this.outerHeight=e.computed(function(){return this.headerBorderWidth()+parseInt(this.height(),10)+"px"},this).broadcastAs("outerHeight"),this.fixed=e.computed(function(){return this.headerMaxHeight()-this.viewPortScrollPosition()<this.headerMinHeight()},this).broadcastAs("fixed"),this.sourceLinkVisible=e.computed(function(){return parseInt(this.visibleHeight(),10)>=this.sourceLinkVisibleMinHeight()},this).broadcastAs("sourceLinkVisible"),this.pastClosePoint=e.computed(function(){return this.viewPortScrollPosition()>this.closePoint()},this).broadcastAs("pastClosePoint"),this.moving=l.extend({autoDisable:300}).broadcastAs("moving"),this.topOffset=e.computed(function(){return this.animate3d()===!1&&this.closed()===!0?"-"+this.visibleHeight():"0px"},this).broadcastAs("topOffset"),this.closed.subscribe(function(){this.moving(!0)},this),this.viewPortScrollPosition.subscribe(function(e){var l,c,p,u=this.closed(),d={direction:i,position:e,delta:0};if(this.viewPortIsMobile()===!0||this.overlapPane()&&this.paneCollapsed()===!1||this.paneMoving()===!0)return!1;if(this.closable()){if(this.pastClosePoint()===!1)return this.closed(s),!1;c=this._lastVector||n.extend({},d),p=this._lastVectorFlip||n.extend({},d),l={position:e,direction:e-c.position>=0?a:r,delta:Math.abs(p.position-e)},c.direction!==l.direction&&(this._lastVectorFlip=l,l.delta=0),l.delta>=o&&(l.direction===r?u=s:l.direction===a&&(u=t)),this.closed(u),this._lastVector=l}},this),this.fixed.subscribe(function(e){e===!1&&l.force(!1)},this),this.borderWidth=e.computed(function(){return this.headerBorderWidth()+"px"},this),this.sourceLinkHidden=e.computed(function(){return parseInt(this.visibleHeight(),10)<=this.headerContentMaxHeight()},this),this.headerStateCheck=e.computed(function(){var e=this.viewPortLayoutMode();"mobile"!==e?(!this.closable()||this.pastClosePoint()===!1&&this.paneMoving()===!1&&this.paneCollapsed()===!0)&&this.closed(!1):"mobile"===e&&this.closed(!0)},this)}})}),define("LoadProfile",["lodash","jquery","footwork"],function(e,n){return function(t){var s,a,r,i,o,l,c=[[[120,{point:25,duration:120}],[120,{point:35,duration:50}],[200,{point:55,duration:50}],[400,{point:80,duration:50}]],[[120,{point:25,duration:50}],[100,{point:35,duration:50}],[200,{point:65,duration:50}],[400,{point:80,duration:50}]],[[100,{point:30,duration:50}],[200,{point:35,duration:50}],[300,{point:50,duration:50}],[400,{point:80,duration:50}]]];t=e.extend({alwaysNewProfile:!0,adjustment:1,onStep:[],onStart:[],onEnd:[]},t);var p=function(e){var n=2;return"on"!==e.slice(0,n)&&(n=0),e=e.slice(n),"on"+e.charAt(0).toUpperCase()+e.slice(1)},u=function(n,s){e.each(t[p(n)],function(e){"function"==typeof e&&e(s)})},d=function(){var n;if(e.isUndefined(i)&&(i=0),(e.isUndefined(o)||e.isUndefined(o[i]))&&(o=a.shift(),i=0),e.isUndefined(o))u("end");else if(i<o.length){if(n=o[i],"number"==typeof n)n={duration:n};else if(e.isObject(n)===!1)throw"Invalid step definition ["+typeof n+"], can only accept number or object";l=setTimeout(d,Math.floor(n.duration*t.adjustment)),u("step",n),i++}};this.bind=function(e,n){var s=p(e);return t[s]instanceof Array&&t[s].push(n),this},this.unbind=function(n,s){var a=p(n);return e.isUndefined(t[a])||(t[a]=e.reject(t[a],function(e){return e===s})),this};var h=function(){o=void 0,i=void 0,r=0};this.start=function(){return h(),t.alwaysNewProfile&&this.chooseProfile(),a=this.getProfile(),clearTimeout(l),u("start"),d(),this},this.end=function(){clearTimeout(l),u("end",!0)},this.getProfile=function(){return n.extend(!0,[],s)},(this.chooseProfile=function(){return s=c[Math.floor(Math.random()*c.length)],h(),this})()}}),define("LoadState",["jquery","lodash","footwork","LoadProfile"],function(e,n,t,s){var a=!0,r=!1;return function(i){this.watchState=t.observable(),this.loading=t.observable(),this.message=t.observable("[*]"),this.oldState=t.observable(),this.failReason=t.observable(""),this.percentComplete=t.observable(0).extend({read:function(e){return e()+"%"}}),this.stepTransitionDuration=t.observable(0).extend({read:function(e){return e()+"ms"}}),this.stepTransition=t.computed(function(){var e=this.loading();return e===a?"opacity 0ms 20ms linear, width "+this.stepTransitionDuration()+" 0ms linear":"opacity 350ms 500ms linear, width "+this.stepTransitionDuration()+" 0ms linear"},this),n.isUndefined(i)||n.isUndefined(i.ignoreStatus)||i.ignoreStatus instanceof Array!=!1||(i.ignoreStatus=[i.ignoreStatus]),this.options=e.extend(!0,{speed:"normal-load",watchState:this.watchState,exportState:!1,ignoreStatus:[],showFailMessage:!0,messageStates:{ready:"[ready]",busy:"Loading...",success:"Done.",fail:"Error."}},i||{}),this.watchState=this.options.watchState;var o=100,l=(new s).bind("start",function(){this.stepTransitionDuration(0),setTimeout(function(){this.percentComplete(0)}.bind(this),0)}.bind(this)).bind("step",function(e){e.point&&(this.stepTransitionDuration(e.duration>o?e.duration:o),this.percentComplete(e.point))}.bind(this)).bind("end",function(e){e&&this.percentComplete(100)}.bind(this));this.loading.subscribe(function(e){"function"==typeof this.options.exportState&&this.options.exportState(e),e===a?l.start():l.end()},this),this.loading.toggle=function(){this.loading(!this.loading())}.bind(this),this.loading(this.options.isLoading),this.state=t.computed(function(){var e=[];return"fail"===this.oldState()&&e.push("fail"),e.push(this.loading()?"loading":"loaded"),e.join(" ")},this);var c=function(e){var t=e;"object"==typeof e&&e.join&&(t=e.join(", "));var s="["+t+" - unknown state]";return n.each(this.options.messageStates,function(t,a){("string"==typeof e&&e===a||"object"==typeof e&&-1!==n.indexOf(e,a))&&(s="function"==typeof t?t(this.failReason()):this.options.showFailMessage===!0&&this.failReason().length?this.failReason():t)}.bind(this)),s}.bind(this),p=n.invert({busy:!0,success:!1});return this.setState=function(e){var t=e;switch(n.isUndefined(e)&&(e=this.oldState()),this.oldState(e),"boolean"==typeof e&&(e=p[e]),e){case"busy":case"then":this.loading(a);break;case"ready":case"success":case"done":this.loading(r);break;case"fail":break;default:throw"Unknown load bar state ["+t+"]."}this.message(c(e))},this.options.watchState.subscribe(this.setState,this),this.watch=function(e,n,t){var s=this,a=(new Date).getTime();this.loadTimer&&clearTimeout(this.loadTimer),t=t||function(){},n=n||0,"pending"===e.state()&&(this.loading(!1),this.setState("busy"));var r=function(e){var r=(new Date).getTime()-a;n>r?this.loadTimer=setTimeout(function(){s.setState(e),t()}.bind(this),n-r):s.setState(e)}.bind(this);return e.done(function(){this.failReason(""),r("success")}.bind(this)).fail(function(e){this.failReason("error"===e.statusText?"Unknown error":e.status),r(-1!==this.options.ignoreStatus.indexOf(e.status)?"success":"fail")}.bind(this))},this.setState("ready"),this}}),define("app/viewModel/Navigation",["jquery","lodash","footwork","LoadState"],function(e,n,t,s){return t.viewModel({namespace:"Navigation",initialize:function(){this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.configVisible=t.observable().receiveFrom("Configuration","visible"),this.headerMaxHeight=t.observable().receiveFrom("Configuration","headerMaxHeight"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed"),this.transitionsEnabled=t.observable().receiveFrom("Configuration","transitionsEnabled"),this.defaultHeaderMaxHeight=t.observable().receiveFrom("Configuration","defaultHeaderMaxHeight"),this.configReflowing=t.observable().receiveFrom("Configuration","reflowing"),this.headerFixed=t.observable().receiveFrom("Header","fixed"),this.headerContentHeight=t.computed(function(){return parseInt(this.headerContentHeight(),10)-1+"px"},{headerContentHeight:t.observable().receiveFrom("Header","contentHeight")}),this.toggleButtonMinHeight=t.observable().receiveFrom("Header","sourceLinkVisibleMinHeight"),this.sourceLinkVisible=t.observable().receiveFrom("Header","sourceLinkVisible"),this.loadBarTopPos=t.observable(0).receiveFrom("Header","visibleHeight"),this.headerMoving=t.observable(!1).receiveFrom("Header","moving"),this.offsetMargin=t.observable().receiveFrom("Pane","columnWidth"),this.paneAnimate3d=t.observable().receiveFrom("Pane","animate3d"),this.paneMoving=t.observable().receiveFrom("Pane","moving"),this.overlapPane=t.observable().receiveFrom("Body","overlapPane"),this.pageLoading=t.observable().receiveFrom("mainRouter","pageLoading"),this.reflowing=t.observable(!1).broadcastAs("reflowing"),this.headerOpen=t.observable(!1),this.loader=new s({ignoreStatus:404}),this.$globalNamespace.subscribe("configReset",function(){this.headerOpen(!1)
}).withContext(this);var n=t.namespace("Page");n.subscribe("loadingPage",function(e){this.loader.watch(e,"mobile"===this.viewPortLayoutMode()?400:300,function(){this.$globalNamespace.publish("refreshDocSize")}.bind(this)).fail(function(e){404===e.status&&this.loader.setState("ready")}.bind(this))}).withContext(this),this.toggleHeader=function(){(this.paneAnimate3d()===!0&&this.paneMoving()===!0||this.configReflowing()===!0||this.headerMoving()===!0)==!1&&this.headerOpen(!this.headerOpen())}.bind(this),this.$namespace.subscribe("toggleHeader",function(){this.toggleHeader()}.bind(this)),this.dropHidden=t.computed(function(){return this.overlapPane()&&this.paneCollapsed()===!1},this),this.headerDropVisible=t.computed(function(){return this.headerFixed()===!0&&this.reflowing()===!1||this.overlapPane()&&this.paneCollapsed()===!1?!1:this.sourceLinkVisible()===!1||this.headerOpen()},this),this.headerOpen.subscribe(function(n){var t,s,a=this.toggleButtonMinHeight(),r=this.transitionsEnabled()?1e3:0;this._headerAnimation&&(this._oldHeaderHeight=this.defaultHeaderMaxHeight(),this._headerAnimation.stop()),this.reflowing(!0),n?(this._oldHeaderHeight=this.headerMaxHeight(),t=this._oldHeaderHeight,s=a):(t=this.headerMaxHeight(),s=this._oldHeaderHeight),this._headerAnimation=e({height:t}).animate({height:s},{duration:r,specialEasing:{height:"easeOutElastic"},step:function(e){this.headerMaxHeight(e)}.bind(this),complete:function(){this.reflowing(!1)}.bind(this)})}.bind(this)),this.arrowIcon=t.computed(function(){return this.headerOpen()&&"icon-arrow-up"||"icon-arrow-down"},this),this.dropInfoText=t.computed(function(){return this.headerOpen()?'Click to <strong>collapse</strong> the header. <span class="shortcut">ctrl + x</span>':'Click to <strong>expand</strong> the header. <span class="shortcut">ctrl + x</span>'},this)}})}),define("app/viewModel/Footer",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"Footer",initialize:function(){this.viewPortDim=e.observable().receiveFrom("ViewPort","dimensions"),this.bottomScrollPosition=e.observable().receiveFrom("ViewPort","bottomScrollPosition"),this.headerClosed=e.observable().receiveFrom("Header","closed"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.bodyHeight=e.observable(0).receiveFrom("Body","height"),this.viewPortIsMobile=e.observable().receiveFrom("Configuration","isMobile"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortNoTransitions=e.observable().receiveFrom("ViewPort","noTransitions"),this.paneCollapsed=e.observable().receiveFrom("Configuration","paneCollapsed"),this.paneShouldBeCollapsed=e.observable(!1).receiveFrom("Pane","shouldBeCollapsed"),this.paneDefaultSelection=e.observable().receiveFrom("PaneLinks","defaultSelection"),this.paneCurrentSelection=e.observable().receiveFrom("PaneLinks","currentSelection"),this.forceMobileLayout=e.observable(0).receiveFrom("ViewPort","forceMobileLayout"),this.height=e.observable(70).broadcastAs("height"),this.visibleHeight=e.computed(function(){var e=this.viewPortDim(),t=this.bodyHeight(),s=this.bottomScrollPosition();return!n.isUndefined(e)&&!n.isUndefined(s)&&s>=t-this.height()?s-(t-this.height()):0},this).broadcastAs("visibleHeight"),this.setMode=function(e,t){if(!this.forceMobileLayout()){this.viewPortNoTransitions(!0);var s="mobile"===t.target.getAttribute("data-mode");this.viewPortIsMobile(s),s?(this.paneCurrentSelection("NavMenu"),this.paneCollapsed(!0)):("mobile"!==this.viewPortLayoutMode()||"NavMenu"!==this.paneCurrentSelection()&&!n.isUndefined(this.paneCurrentSelection())||this.paneCurrentSelection("PageSections"),this.paneCollapsed(this.paneShouldBeCollapsed()),this.headerClosed(!1)),this._modeChanging&&clearTimeout(this._modeChanging),this._modeChanging=setTimeout(function(){this.viewPortNoTransitions(!1)}.bind(this),50)}}}})}),define("app/viewModel/BuildInfo",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"BuildInfo",initialize:function(){n.extend(this,window.footworkBuild)}})}),define("text!../../pages/index-page.html",[],function(){return'<article id="js-page" class="page-code">\r\n  <a id="post1" class="section-anchor"></a>\r\n  <section name="post1">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <span class="sub title">footworkjs Documentation</span>\r\n    </header>\r\n    <div class="content block-font">\r\n      <p>Welcome to the footworkjs (<showversion></showversion>) documentation.</p>\r\n    </div>\r\n  </section>\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "Documentation Index",\r\n  "description": "The source for documentation, tutorials, and more for footwork.js"\r\n}\r\n</div>'}),define("text!../../pages/not-found-page.html",[],function(){return'<article id="js-page" class="page-404">\r\n  <div class="error404">\r\n    <div class="title">404 - <span>Not Found</span>.</div>\r\n    <div class="message">I am sorry about this, but I can\'t seem to find what you are looking for.</div>\r\n  </div>\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "404",\r\n  "description": "Resource not found."\r\n}\r\n</div>'}),define("text!../../pages/build-page.html",[],function(){return'<article id="js-page" class="page-build-info">\r\n  <a id="buildInfo" class="section-anchor"></a>\r\n  <section name="buildInfo">\r\n    <div class="highlight"></div>\r\n    <viewModel module="BuildInfo">\r\n      <header>\r\n        <span class="sub title">Build Info - footwork v<span data-bind="text: version"></span></span>\r\n      </header>\r\n\r\n      <div data-bind="text: statement"></div>\r\n\r\n      <div class="content">\r\n        <div class="row">\r\n          <label>Version:</label>\r\n          <div class="content" data-bind="text: version"></div>\r\n        </div>\r\n        <div class="row">\r\n          <label>Build Timestamp:</label>\r\n          <div class="content" data-bind="text: timestamp"></div>\r\n        </div>\r\n\r\n        <contributors></contributors>\r\n      </div>\r\n    </viewModel>\r\n  </section>\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": \'Build Info\'\r\n}\r\n</div>'}),define("text!../../pages/annotated-page.html",[],function(){return'<ul class="sections">\r\n    \r\n    \r\n    <li id="section-1" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-1">&#182;</a>\r\n          </div>\r\n          <h2 id="footwork-js">footwork.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-2" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-2">&#182;</a>\r\n          </div>\r\n          <p>v0.2.0</p>\n<p>Copyright (c)2014 Jonathan Newman (<a href="http://staticty.pe">http://staticty.pe</a>).\nDistributed under MIT license</p>\n<p><a href="http://footworkjs.com">http://footworkjs.com</a></p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>\n<span class="hljs-comment">/**\n * footwork.js - A solid footing for web applications.\n * Author: Jonathan Newman (http://staticty.pe)\n * Version: v0.2.0\n * Url: http://footworkjs.com\n * License(s): MIT\n */</span></pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-3" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-3">&#182;</a>\r\n          </div>\r\n          <h2 id="main-js">main.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-4" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-4">&#182;</a>\r\n          </div>\r\n          <p>Map ko to the variable ‘fw’ internally to make it clear this is the ‘footwork’ flavored version of knockout we are dealing with.\nFootwork will also map itself to ‘fw’ on the global object when no script loader is used.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> fw = ko;</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-5" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-5">&#182;</a>\r\n          </div>\r\n          <p>Record the footwork version as of this build.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>fw.footworkVersion = <span class="hljs-string">\'0.2.0\'</span>;</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-6" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-6">&#182;</a>\r\n          </div>\r\n          <p>Expose any embedded dependencies</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>fw.embed = embedded;</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-7" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-7">&#182;</a>\r\n          </div>\r\n          <p>misc regex patterns</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> hasTrailingSlash = <span class="hljs-regexp">/\\/$/i</span>;\r\n<span class="hljs-keyword">var</span> hasStartingSlash = <span class="hljs-regexp">/^\\//i</span>;</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-8" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-8">&#182;</a>\r\n          </div>\r\n          <p>misc utility functions</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> noop = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ };\r\n\r\n<span class="hljs-keyword">var</span> isObservable = fw.isObservable;\r\n\r\n<span class="hljs-keyword">var</span> isPath = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(pathOrFile)</span> </span>{\r\n  <span class="hljs-keyword">return</span> hasTrailingSlash.test(pathOrFile);\r\n};\r\n\r\n<span class="hljs-keyword">var</span> hasPathStart = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(path)</span> </span>{\r\n  <span class="hljs-keyword">return</span> hasStartingSlash.test(path);\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-9" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-9">&#182;</a>\r\n          </div>\r\n          <p>Pull out lodash utility function references for better minification and easier implementation swap</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> isFunction = _.isFunction;\r\n<span class="hljs-keyword">var</span> isObject = _.isObject;\r\n<span class="hljs-keyword">var</span> isString = _.isString;\r\n<span class="hljs-keyword">var</span> isBoolean = _.isBoolean;\r\n<span class="hljs-keyword">var</span> isNumber = _.isNumber;\r\n<span class="hljs-keyword">var</span> isUndefined = _.isUndefined;\r\n<span class="hljs-keyword">var</span> isArray = _.isArray;\r\n<span class="hljs-keyword">var</span> isNull = _.isNull;\r\n<span class="hljs-keyword">var</span> contains = _.contains;\r\n<span class="hljs-keyword">var</span> extend = _.extend;\r\n<span class="hljs-keyword">var</span> pick = _.pick;\r\n<span class="hljs-keyword">var</span> each = _.each;\r\n<span class="hljs-keyword">var</span> filter = _.filter;\r\n<span class="hljs-keyword">var</span> bind = _.bind;\r\n<span class="hljs-keyword">var</span> invoke = _.invoke;\r\n<span class="hljs-keyword">var</span> clone = _.clone;\r\n<span class="hljs-keyword">var</span> reduce = _.reduce;\r\n<span class="hljs-keyword">var</span> has = _.has;\r\n<span class="hljs-keyword">var</span> where = _.where;\r\n<span class="hljs-keyword">var</span> result = _.result;\r\n<span class="hljs-keyword">var</span> uniqueId = _.uniqueId;\r\n<span class="hljs-keyword">var</span> map = _.map;\r\n<span class="hljs-keyword">var</span> find = _.find;\r\n<span class="hljs-keyword">var</span> omit = _.omit;\r\n<span class="hljs-keyword">var</span> indexOf = _.indexOf;\r\n<span class="hljs-keyword">var</span> values = _.values;\r\n<span class="hljs-keyword">var</span> reject = _.reject;\r\n<span class="hljs-keyword">var</span> findWhere = _.findWhere;\r\n<span class="hljs-keyword">var</span> once = _.once;</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-10" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-10">&#182;</a>\r\n          </div>\r\n          <p>Internal registry which stores the mixins that are automatically added to each viewModel</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> viewModelMixins = [];</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-11" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-11">&#182;</a>\r\n          </div>\r\n          <p>parseUri() originally sourced from: <a href="http://blog.stevenlevithan.com/archives/parseuri">http://blog.stevenlevithan.com/archives/parseuri</a></p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseUri</span><span class="hljs-params">(str)</span> </span>{\r\n  <span class="hljs-keyword">var</span> options = parseUri.options;\r\n  <span class="hljs-keyword">var</span> matchParts = options.parser[ options.strictMode ? <span class="hljs-string">"strict"</span> : <span class="hljs-string">"loose"</span> ].exec(str);\r\n  <span class="hljs-keyword">var</span> uri = {};\r\n  <span class="hljs-keyword">var</span> i = <span class="hljs-number">14</span>;\r\n\r\n  <span class="hljs-keyword">while</span> (i--) {\r\n    uri[ options.key[i] ] = matchParts[i] || <span class="hljs-string">""</span>;\r\n  }\r\n\r\n  uri[ options.q.name ] = {};\r\n  uri[ options.key[<span class="hljs-number">12</span>] ].replace(options.q.parser, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($0, $1, $2)</span> </span>{\r\n    <span class="hljs-keyword">if</span>($<span class="hljs-number">1</span>) {\r\n      uri[options.q.name][$<span class="hljs-number">1</span>] = $<span class="hljs-number">2</span>;\r\n    }\r\n  });\r\n\r\n  <span class="hljs-keyword">return</span> uri;\r\n};\r\n\r\nparseUri.options = {\r\n  strictMode: <span class="hljs-literal">false</span>,\r\n  key: [<span class="hljs-string">"source"</span>,<span class="hljs-string">"protocol"</span>,<span class="hljs-string">"authority"</span>,<span class="hljs-string">"userInfo"</span>,<span class="hljs-string">"user"</span>,<span class="hljs-string">"password"</span>,<span class="hljs-string">"host"</span>,<span class="hljs-string">"port"</span>,<span class="hljs-string">"relative"</span>,<span class="hljs-string">"path"</span>,<span class="hljs-string">"directory"</span>,<span class="hljs-string">"file"</span>,<span class="hljs-string">"query"</span>,<span class="hljs-string">"anchor"</span>],\r\n  q: {\r\n    name:   <span class="hljs-string">"queryKey"</span>,\r\n    parser: <span class="hljs-regexp">/(?:^|&amp;)([^&amp;=]*)=?([^&amp;]*)/g</span>\r\n  },\r\n  parser: {\r\n    strict: <span class="hljs-regexp">/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/</span>,\r\n    loose:  <span class="hljs-regexp">/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/</span>\r\n  }\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-12" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-12">&#182;</a>\r\n          </div>\r\n          <h2 id="namespace-js">namespace.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-13" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-13">&#182;</a>\r\n          </div>\r\n          \r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-14" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-14">&#182;</a>\r\n          </div>\r\n          <p>This counter is used when model options { autoIncrement: true } and more than one model\nhaving the same namespace is instantiated. This is used in the event you do not want\nmultiple copies of the same model to share the same namespace (if they do share a\nnamespace, they receive all of the same events/messages/commands/etc).</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> namespaceNameCounter = {};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-15" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-15">&#182;</a>\r\n          </div>\r\n          <p>Prepare an empty namespace stack.\nThis is where footwork registers its current working namespace name. Each new namespace is\n‘unshifted’ and ‘shifted’ as they are entered and exited, keeping the most current at\nindex 0.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> namespaceStack = [];</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-16" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-16">&#182;</a>\r\n          </div>\r\n          <p>Returns a normalized namespace name based off of ‘name’. It will register the name counter\nif not present and increment it if it is, then return the name (with the counter appended\nif autoIncrement === true and the counter is &gt; 0).</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">indexedNamespaceName</span><span class="hljs-params">(name, autoIncrement)</span> </span>{\n  <span class="hljs-keyword">if</span>( isUndefined(namespaceNameCounter[name]) ) {\n    namespaceNameCounter[name] = <span class="hljs-number">0</span>;\n  } <span class="hljs-keyword">else</span> {\n    namespaceNameCounter[name]++;\n  }\n  <span class="hljs-keyword">return</span> name + (autoIncrement === <span class="hljs-literal">true</span> ? namespaceNameCounter[name] : <span class="hljs-string">\'\'</span>);\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createEnvelope</span><span class="hljs-params">(topic, data, expires)</span> </span>{\n  <span class="hljs-keyword">var</span> envelope = {\n    topic: topic,\n    data: data\n  };\n\n  <span class="hljs-keyword">if</span>( !isUndefined(expires) ) {\n    envelope.headers = { preserve: <span class="hljs-literal">true</span> };\n    <span class="hljs-keyword">if</span>(expires <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Date</span>) {\n      envelope.expires = expires;\n    }\n  }\n  \n  <span class="hljs-keyword">return</span> envelope;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-17" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-17">&#182;</a>\r\n          </div>\r\n          <p>Method used to trigger an event on a namespace</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">triggerEventOnNamespace</span><span class="hljs-params">(eventKey, params, expires)</span> </span>{\n  <span class="hljs-keyword">this</span>.publish( createEnvelope(<span class="hljs-string">\'event.\'</span> + eventKey, params, expires) );\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-18" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-18">&#182;</a>\r\n          </div>\r\n          <p>Method used to register an event handler on a namespace</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerNamespaceEventHandler</span><span class="hljs-params">(eventKey, callback, context)</span> </span>{\n  <span class="hljs-keyword">if</span>( !isUndefined(context) ) {\n    callback = bind(callback, context);\n  }\n\n  <span class="hljs-keyword">var</span> handlerSubscription = <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">\'event.\'</span> + eventKey, callback).enlistPreserved();\n  <span class="hljs-keyword">this</span>.eventHandlers.push(handlerSubscription);\n\n  <span class="hljs-keyword">return</span> handlerSubscription;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-19" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-19">&#182;</a>\r\n          </div>\r\n          <p>Method used to unregister an event handler on a namespace</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unregisterNamespaceHandler</span><span class="hljs-params">(handlerSubscription)</span> </span>{\n  handlerSubscription.unsubscribe();\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-20" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-20">&#182;</a>\r\n          </div>\r\n          <p>Method used to send a command to a namespace</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendCommandToNamespace</span><span class="hljs-params">(commandKey, params, expires)</span> </span>{\n  <span class="hljs-keyword">this</span>.publish( createEnvelope(<span class="hljs-string">\'command.\'</span> + commandKey, params, expires) );\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-21" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-21">&#182;</a>\r\n          </div>\r\n          <p>Method used to register a command handler on a namespace</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerNamespaceCommandHandler</span><span class="hljs-params">(commandKey, callback, context)</span> </span>{\n  <span class="hljs-keyword">if</span>( !isUndefined(context) ) {\n    callback = bind(callback, context);\n  }\n\n  <span class="hljs-keyword">var</span> handlerSubscription = <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">\'command.\'</span> + commandKey, callback).enlistPreserved();\n  <span class="hljs-keyword">this</span>.commandHandlers.push(handlerSubscription);\n\n  <span class="hljs-keyword">return</span> handlerSubscription;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-22" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-22">&#182;</a>\r\n          </div>\r\n          <p>Method used to issue a request for data from a namespace, returning the response (or undefined if no response)\nThis method will return an array of responses if more than one is received.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">requestResponseFromNamespace</span><span class="hljs-params">(requestKey, params, allowMultipleResponses)</span> </span>{\n  <span class="hljs-keyword">var</span> response = <span class="hljs-literal">undefined</span>;\n  <span class="hljs-keyword">var</span> responseSubscription;\n\n  responseSubscription = <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">\'request.\'</span> + requestKey + <span class="hljs-string">\'.response\'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(reqResponse)</span> </span>{\n    <span class="hljs-keyword">if</span>( isUndefined(response) ) {\n      response = allowMultipleResponses ? [reqResponse] : reqResponse;\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(allowMultipleResponses) {\n      response.push(reqResponse);\n    }\n  });\n\n  <span class="hljs-keyword">this</span>.publish( createEnvelope(<span class="hljs-string">\'request.\'</span> + requestKey, params) );\n  responseSubscription.unsubscribe();\n\n  <span class="hljs-keyword">return</span> response;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-23" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-23">&#182;</a>\r\n          </div>\r\n          <p>Method used to register a request handler on a namespace.\nRequests sent using the specified requestKey will be called and passed in any params specified, the return value is passed back to the issuer</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerNamespaceRequestHandler</span><span class="hljs-params">(requestKey, callback, context)</span> </span>{\n  <span class="hljs-keyword">if</span>( !isUndefined(context) ) {\n    callback = bind(callback, context);\n  }\n\n  <span class="hljs-keyword">var</span> requestHandler = bind(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(params)</span> </span>{\n    <span class="hljs-keyword">var</span> callbackResponse = callback(params);\n    <span class="hljs-keyword">this</span>.publish( createEnvelope(<span class="hljs-string">\'request.\'</span> + requestKey + <span class="hljs-string">\'.response\'</span>, callbackResponse) );\n  }, <span class="hljs-keyword">this</span>);\n\n  <span class="hljs-keyword">var</span> handlerSubscription = <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">\'request.\'</span> + requestKey, requestHandler);\n  <span class="hljs-keyword">this</span>.requestHandlers.push(handlerSubscription);\n\n  <span class="hljs-keyword">return</span> handlerSubscription;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-24" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-24">&#182;</a>\r\n          </div>\r\n          <p>This effectively shuts down all requests, commands, and events by unsubscribing all handlers on a discreet namespace object</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">disconnectNamespaceHandlers</span><span class="hljs-params">()</span> </span>{\n  invoke(<span class="hljs-keyword">this</span>.requestHandlers, <span class="hljs-string">\'unsubscribe\'</span>);\n  invoke(<span class="hljs-keyword">this</span>.commandHandlers, <span class="hljs-string">\'unsubscribe\'</span>);\n  invoke(<span class="hljs-keyword">this</span>.eventHandlers, <span class="hljs-string">\'unsubscribe\'</span>);\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNamespaceName</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.channel;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-25" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-25">&#182;</a>\r\n          </div>\r\n          <p>Creates and returns a new namespace instance</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> makeNamespace = fw.namespace = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespaceName, $parentNamespace)</span> </span>{\n  <span class="hljs-keyword">if</span>( !isUndefined($parentNamespace) ) {\n    <span class="hljs-keyword">if</span>( isString($parentNamespace) ) {\n      namespaceName = $parentNamespace + <span class="hljs-string">\'.\'</span> + namespaceName;\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( !isUndefined($parentNamespace.channel) ) {\n      namespaceName = $parentNamespace.channel + <span class="hljs-string">\'.\'</span> + namespaceName;\n    }\n  }\n  <span class="hljs-keyword">var</span> namespace = postal.channel(namespaceName);\n\n  namespace.__isNamespace = <span class="hljs-literal">true</span>;\n  namespace.shutdown = bind( disconnectNamespaceHandlers, namespace );\n\n  namespace.commandHandlers = [];\n  namespace.command = bind( sendCommandToNamespace, namespace );\n  namespace.command.handler = bind( registerNamespaceCommandHandler, namespace );\n  namespace.command.handler.unregister = bind( unregisterNamespaceHandler, namespace );\n\n  namespace.requestHandlers = [];\n  namespace.request = bind( requestResponseFromNamespace, namespace );\n  namespace.request.handler = bind( registerNamespaceRequestHandler, namespace );\n  namespace.request.handler.unregister = bind( unregisterNamespaceHandler, namespace );\n\n  namespace.eventHandlers = [];\n  namespace.event = namespace.trigger = bind( triggerEventOnNamespace, namespace );\n  namespace.event.handler = bind( registerNamespaceEventHandler, namespace );\n  namespace.event.handler.unregister = bind( unregisterNamespaceHandler, namespace );\n\n  namespace.getName = bind( getNamespaceName, namespace );\n  namespace.enter = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">return</span> enterNamespace( <span class="hljs-keyword">this</span> );\n  };\n  namespace.exit = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">if</span>( currentNamespaceName() === <span class="hljs-keyword">this</span>.getName() ) {\n      <span class="hljs-keyword">return</span> exitNamespace();\n    }\n  };\n\n  <span class="hljs-keyword">return</span> namespace;\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-26" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-26">&#182;</a>\r\n          </div>\r\n          <p>Duck type check for a namespace object</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> isNamespace = fw.isNamespace = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(thing)</span> </span>{\n  <span class="hljs-keyword">return</span> !isUndefined(thing) &amp;&amp; !!thing.__isNamespace;\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-27" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-27">&#182;</a>\r\n          </div>\r\n          <p>Return the current namespace name.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> currentNamespaceName = fw.currentNamespaceName = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> namespaceStack[<span class="hljs-number">0</span>];\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-28" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-28">&#182;</a>\r\n          </div>\r\n          <p>Return the current namespace channel.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> currentNamespace = fw.currentNamespace = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> makeNamespace( currentNamespaceName() );\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-29" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-29">&#182;</a>\r\n          </div>\r\n          <p>enterNamespaceName() adds a namespaceName onto the namespace stack at the current index, \n‘entering’ into that namespace (it is now the currentNamespace).\nThe namespace object returned from this method also has a pointer to its parent</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> enterNamespaceName = fw.enterNamespaceName = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespaceName)</span> </span>{\n  <span class="hljs-keyword">var</span> $parentNamespace = currentNamespace();\n  namespaceStack.unshift( namespaceName );\n  <span class="hljs-keyword">return</span> makeNamespace( currentNamespaceName() );\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-30" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-30">&#182;</a>\r\n          </div>\r\n          <p>enterNamespace() uses a current namespace definition as the one to enter into.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> enterNamespace = fw.enterNamespace = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span> </span>{\n  namespaceStack.unshift( namespace.getName() );\n  <span class="hljs-keyword">return</span> namespace;\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-31" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-31">&#182;</a>\r\n          </div>\r\n          <p>Called at the after a model constructor function is run. exitNamespace()\nwill shift the current namespace off of the stack, ‘exiting’ to the\nnext namespace in the stack</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> exitNamespace = fw.exitNamespace = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  namespaceStack.shift();\n  <span class="hljs-keyword">return</span> currentNamespace();\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-32" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-32">&#182;</a>\r\n          </div>\r\n          <p>mixin provided to viewModels which enables namespace capabilities including pub/sub, cqrs, etc</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>viewModelMixins.push({\n  runBeforeInit: <span class="hljs-literal">true</span>,\n  _preInit: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( options )</span> </span>{\n    <span class="hljs-keyword">var</span> $configParams = <span class="hljs-keyword">this</span>.__getConfigParams();\n    <span class="hljs-keyword">this</span>.$namespace = enterNamespaceName( indexedNamespaceName($configParams.componentNamespace || $configParams.namespace || $configParams.name || _.uniqueId(<span class="hljs-string">\'namespace\'</span>), $configParams.autoIncrement) );\n    <span class="hljs-keyword">this</span>.$globalNamespace = makeNamespace();\n  },\n  mixin: {\n    getNamespaceName: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$namespace.getName();\n    }\n  },\n  _postInit: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( options )</span> </span>{\n    exitNamespace();\n  }\n});\r\n<span class="hljs-keyword">var</span> $globalNamespace = makeNamespace();</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-33" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-33">&#182;</a>\r\n          </div>\r\n          <h2 id="broadcast-receive-js">broadcast-receive.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>\r\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isReceiver</span><span class="hljs-params">(thing)</span> </span>{\r\n  <span class="hljs-keyword">return</span> isObject(thing) &amp;&amp; !!thing.__isReceiver;\r\n}\r\n\r\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isBroadcaster</span><span class="hljs-params">(thing)</span> </span>{\r\n  <span class="hljs-keyword">return</span> isObject(thing) &amp;&amp; !!thing.__isBroadcaster;\r\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-34" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-34">&#182;</a>\r\n          </div>\r\n          <pre><code><span class="hljs-keyword">this</span>.myValue = fw.observable().receiveFrom(<span class="hljs-string">\'NamespaceName\'</span> / Namespace, <span class="hljs-string">\'varName\'</span>);\n</code></pre>\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>fw.subscribable.fn.receiveFrom = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace, variable)</span> </span>{\r\n  <span class="hljs-keyword">var</span> target = <span class="hljs-keyword">this</span>;\r\n  <span class="hljs-keyword">var</span> observable = <span class="hljs-keyword">this</span>;\r\n  <span class="hljs-keyword">var</span> namespaceSubscriptions = [];\r\n  <span class="hljs-keyword">var</span> isLocalNamespace = <span class="hljs-literal">false</span>;\r\n\r\n  <span class="hljs-keyword">if</span>( isString(namespace) ) {\r\n    namespace = makeNamespace( namespace );\r\n    isLocalNamespace = <span class="hljs-literal">true</span>;\r\n  }\r\n\r\n  <span class="hljs-keyword">if</span>( !isNamespace(namespace) ) {\r\n    <span class="hljs-keyword">throw</span> <span class="hljs-string">\'Invalid namespace provided for receiveFrom() observable.\'</span>;\r\n  }\r\n\r\n  observable = fw.computed({\r\n    read: target,\r\n    write: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( value )</span> </span>{\r\n      namespace.publish( <span class="hljs-string">\'__change.\'</span> + variable, value );\r\n    }\r\n  });\r\n\r\n  observable.refresh = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n    namespace.publish( <span class="hljs-string">\'__refresh.\'</span> + variable );\r\n    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\r\n  };\r\n\r\n  namespaceSubscriptions.push( namespace.subscribe( variable, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( newValue )</span> </span>{\r\n    target( newValue );\r\n  }) );\r\n\r\n  <span class="hljs-keyword">var</span> observableDispose = observable.dispose;\r\n  observable.dispose = observable.shutdown = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n    invoke(namespaceSubscriptions, <span class="hljs-string">\'unsubscribe\'</span>);\r\n    <span class="hljs-keyword">if</span>( isLocalNamespace ) {\r\n      namespace.shutdown();\r\n    }\r\n    observableDispose.call(observable);\r\n  };\r\n\r\n  observable.__isReceiver = <span class="hljs-literal">true</span>;\r\n  <span class="hljs-keyword">return</span> observable.refresh();\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-35" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-35">&#182;</a>\r\n          </div>\r\n          <pre><code><span class="hljs-keyword">this</span>.myValue = fw.observable().broadcastAs(<span class="hljs-string">\'NameOfVar\'</span>);\n<span class="hljs-keyword">this</span>.myValue = fw.observable().broadcastAs(<span class="hljs-string">\'NameOfVar\'</span>, isWritable);\n<span class="hljs-keyword">this</span>.myValue = fw.observable().broadcastAs({ name: <span class="hljs-string">\'NameOfVar\'</span>, writable: <span class="hljs-literal">true</span> });\n<span class="hljs-keyword">this</span>.myValue = fw.observable().broadcastAs({ name: <span class="hljs-string">\'NameOfVar\'</span>, namespace: Namespace });\n<span class="hljs-keyword">this</span>.myValue = fw.observable().broadcastAs({ name: <span class="hljs-string">\'NameOfVar\'</span>, namespace: <span class="hljs-string">\'NamespaceName\'</span> });\n</code></pre>\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>fw.subscribable.fn.broadcastAs = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(varName, option)</span> </span>{\r\n  <span class="hljs-keyword">var</span> observable = <span class="hljs-keyword">this</span>;\r\n  <span class="hljs-keyword">var</span> namespace;\r\n  <span class="hljs-keyword">var</span> subscriptions = [];\r\n  <span class="hljs-keyword">var</span> namespaceSubscriptions = [];\r\n  <span class="hljs-keyword">var</span> isLocalNamespace = <span class="hljs-literal">false</span>;\r\n\r\n  <span class="hljs-keyword">if</span>( isObject(varName) ) {\r\n    option = varName;\r\n  } <span class="hljs-keyword">else</span> {\r\n    <span class="hljs-keyword">if</span>( isBoolean(option) ) {\r\n      option = {\r\n        name: varName,\r\n        writable: option\r\n      };\r\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isObject(option) ) {\r\n      option = extend({\r\n        name: varName\r\n      }, option);\r\n    } <span class="hljs-keyword">else</span> {\r\n      option = {\r\n        name: varName\r\n      };\r\n    }\r\n  }\r\n\r\n  namespace = option.namespace || currentNamespace();\r\n  <span class="hljs-keyword">if</span>( isString(namespace) ) {\r\n    namespace = makeNamespace(namespace);\r\n    isLocalNamespace = <span class="hljs-literal">true</span>;\r\n  }\r\n\r\n  <span class="hljs-keyword">if</span>( !isNamespace(namespace) ) {\r\n    <span class="hljs-keyword">throw</span> <span class="hljs-string">\'Invalid namespace provided for broadcastAs() observable.\'</span>;\r\n  }\r\n\r\n  <span class="hljs-keyword">if</span>( option.writable ) {\r\n    namespaceSubscriptions.push( namespace.subscribe( <span class="hljs-string">\'__change.\'</span> + option.name, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( newValue )</span> </span>{\r\n      observable( newValue );\r\n    }) );\r\n  }\r\n\r\n  observable.broadcast = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n    namespace.publish( option.name, observable() );\r\n    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\r\n  };\r\n\r\n  namespaceSubscriptions.push( namespace.subscribe( <span class="hljs-string">\'__refresh.\'</span> + option.name, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n    namespace.publish( option.name, observable() );\r\n  }) );\r\n  subscriptions.push( observable.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( newValue )</span> </span>{\r\n    namespace.publish( option.name, newValue );\r\n  }) );\r\n\r\n  observable.dispose = observable.shutdown = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n    invoke(namespaceSubscriptions, <span class="hljs-string">\'unsubscribe\'</span>);\r\n    invoke(subscriptions, <span class="hljs-string">\'dispose\'</span>);\r\n    <span class="hljs-keyword">if</span>( isLocalNamespace ) {\r\n      namespace.shutdown();\r\n    }\r\n  };\r\n\r\n  observable.__isBroadcaster = <span class="hljs-literal">true</span>;\r\n  <span class="hljs-keyword">return</span> observable.broadcast();\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-36" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-36">&#182;</a>\r\n          </div>\r\n          <h2 id="router-js">router.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-37" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-37">&#182;</a>\r\n          </div>\r\n          \r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-38" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-38">&#182;</a>\r\n          </div>\r\n          <p>Predicate function that always returns true / ‘pass’</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> alwaysPassPredicate = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; };\n\n<span class="hljs-keyword">var</span> emptyStringResult = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">\'\'</span>; };\n\n<span class="hljs-keyword">var</span> routerDefaultConfig = {\n  namespace: <span class="hljs-string">\'$router\'</span>,\n  baseRoute: <span class="hljs-literal">null</span>,\n  isRelative: <span class="hljs-literal">true</span>,\n  activate: <span class="hljs-literal">true</span>,\n  setHref: <span class="hljs-literal">true</span>,\n  routes: []\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-39" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-39">&#182;</a>\r\n          </div>\r\n          <p>Regular expressions used to parse a uri</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> optionalParamRegex = <span class="hljs-regexp">/\\((.*?)\\)/g</span>;\n<span class="hljs-keyword">var</span> namedParamRegex = <span class="hljs-regexp">/(\\(\\?)?:\\w+/g</span>;\n<span class="hljs-keyword">var</span> splatParamRegex = <span class="hljs-regexp">/\\*\\w*/g</span>;\n<span class="hljs-keyword">var</span> escapeRegex = <span class="hljs-regexp">/[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g</span>;\n<span class="hljs-keyword">var</span> hashMatchRegex = <span class="hljs-regexp">/(^\\/#)/</span>;\n<span class="hljs-keyword">var</span> isFullURLRegex = <span class="hljs-regexp">/(^[a-z]+:\\/\\/|^\\/\\/)/i</span>;\n<span class="hljs-keyword">var</span> routesAreCaseSensitive = <span class="hljs-literal">true</span>;\n\n<span class="hljs-keyword">var</span> invalidRoutePathIdentifier = <span class="hljs-string">\'___invalid-route\'</span>;\n\n<span class="hljs-keyword">var</span> $nullRouter = extend({}, $baseRouter, {\n  childRouters: extend( bind(noop), { push: noop } ),\n  routePath: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">\'\'</span>; },\n  isRelative: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; },\n  __isNullRouter: <span class="hljs-literal">true</span>\n});\n\n<span class="hljs-keyword">var</span> $baseRouter = {\n  routePath: emptyStringResult,\n  routeSegment: emptyStringResult,\n  childRouters: fw.observableArray(),\n  context: noop,\n  __isRouter: <span class="hljs-literal">true</span>\n};\n\n<span class="hljs-keyword">var</span> baseRoute = {\n  controller: noop,\n  indexedParams: [],\n  namedParams: {},\n  __isRoute: <span class="hljs-literal">true</span>\n};\n\n<span class="hljs-keyword">var</span> baseRouteDescription = {\n  filter: alwaysPassPredicate,\n  __isRouteDesc: <span class="hljs-literal">true</span>\n};\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transformRouteConfigToDesc</span><span class="hljs-params">(routeDesc)</span> </span>{\n  <span class="hljs-keyword">return</span> extend({ id: uniqueId(<span class="hljs-string">\'route\'</span>) }, baseRouteDescription, routeDesc );\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-40" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-40">&#182;</a>\r\n          </div>\r\n          <p>Convert a route string to a regular expression which is then used to match a uri against it and determine whether that uri matches the described route as well as parse and retrieve its tokens</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">routeStringToRegExp</span><span class="hljs-params">(routeString)</span> </span>{\n  routeString = routeString\n    .replace(escapeRegex, <span class="hljs-string">"\\\\$&amp;"</span>)\n    .replace(optionalParamRegex, <span class="hljs-string">"(?:$1)?"</span>)\n    .replace(namedParamRegex, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(match, optional)</span> </span>{\n      <span class="hljs-keyword">return</span> optional ? match : <span class="hljs-string">"([^\\/]+)"</span>;\n    })\n    .replace(splatParamRegex, <span class="hljs-string">"(.*?)"</span>);\n\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">\'^\'</span> + routeString + (routeString !== <span class="hljs-string">\'/\'</span> ? <span class="hljs-string">\'(\\\\/.*)*$\'</span> : <span class="hljs-string">\'$\'</span>), routesAreCaseSensitive ? <span class="hljs-literal">undefined</span> : <span class="hljs-string">\'i\'</span>);\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">historyIsReady</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">var</span> isReady = has(History, <span class="hljs-string">\'Adapter\'</span>);\n  <span class="hljs-keyword">if</span>(isReady &amp;&amp; isUndefined(History.Adapter.unbind)) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-41" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-41">&#182;</a>\r\n          </div>\r\n          <p>why .unbind() is not already present in History.js is beyond me</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>    History.Adapter.unbind = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(callback)</span> </span>{\n      each(History.Adapter.handlers, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(handler)</span> </span>{\n        handler.statechange = filter(handler.statechange, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(stateChangeHandler)</span> </span>{\n          <span class="hljs-keyword">return</span> stateChangeHandler !== callback;\n        });\n      });\n    };\n  }\n  <span class="hljs-keyword">return</span> isReady;\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isNullRouter</span><span class="hljs-params">(thing)</span> </span>{\n  <span class="hljs-keyword">return</span> isObject(thing) &amp;&amp; !!thing.__isNullRouter;\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isRouter</span><span class="hljs-params">(thing)</span> </span>{\n  <span class="hljs-keyword">return</span> isObject(thing) &amp;&amp; !!thing.__isRouter;\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isRoute</span><span class="hljs-params">(thing)</span> </span>{\n  <span class="hljs-keyword">return</span> isObject(thing) &amp;&amp; !!thing.__isRoute;\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-42" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-42">&#182;</a>\r\n          </div>\r\n          <p>Recursive function which will locate the nearest $router from a given ko $context\n(travels up through $parentContext chain to find the router if not found on the\nimmediate $context). Returns $nullRouter if none is found.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nearestParentRouter</span><span class="hljs-params">($context)</span> </span>{\n  <span class="hljs-keyword">var</span> $parentRouter = $nullRouter;\n  <span class="hljs-keyword">if</span>( isObject($context) ) {\n    <span class="hljs-keyword">if</span>( isObject($context.$data) &amp;&amp; isRouter($context.$data.$router) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-43" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-43">&#182;</a>\r\n          </div>\r\n          <p>found router in this context</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>      $parentRouter = $context.$data.$router;\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isObject($context.$parentContext) || (isObject($context.$data) &amp;&amp; isObject($context.$data.$parentContext)) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-44" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-44">&#182;</a>\r\n          </div>\r\n          <p>search through next parent up the chain</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>      $parentRouter = nearestParentRouter( $context.$parentContext || $context.$data.$parentContext );\n    }\n  }\n  <span class="hljs-keyword">return</span> $parentRouter;\n}\n\n<span class="hljs-keyword">var</span> noComponentSelected = <span class="hljs-string">\'_noComponentSelected\'</span>;\n<span class="hljs-keyword">var</span> $routerOutlet = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(outletName, componentToDisplay, options )</span> </span>{\n  options = options || {};\n  <span class="hljs-keyword">if</span>( isFunction(options) ) {\n    options = { onComplete: options };\n  }\n  \n  <span class="hljs-keyword">var</span> viewModelParameters = options.params;\n  <span class="hljs-keyword">var</span> onComplete = options.onComplete;\n  <span class="hljs-keyword">var</span> outlets = <span class="hljs-keyword">this</span>.outlets;\n\n  outletName = fw.unwrap( outletName );\n  <span class="hljs-keyword">if</span>( !isObservable(outlets[outletName]) ) {\n    outlets[outletName] = fw.observable({\n      name: noComponentSelected,\n      params: {},\n      __getOnCompleteCallback: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> noop; }\n    });\n  }\n\n  <span class="hljs-keyword">var</span> outlet = outlets[outletName];\n  <span class="hljs-keyword">var</span> currentOutletDef = outlet();\n  <span class="hljs-keyword">var</span> valueHasMutated = <span class="hljs-literal">false</span>;\n  <span class="hljs-keyword">var</span> isInitialLoad = outlet().name === noComponentSelected;\n\n  <span class="hljs-keyword">if</span>( !isUndefined(componentToDisplay) ) {\n    currentOutletDef.name = componentToDisplay;\n    valueHasMutated = <span class="hljs-literal">true</span>;\n  }\n\n  <span class="hljs-keyword">if</span>( !isUndefined(viewModelParameters) ) {\n    currentOutletDef.params = viewModelParameters;\n    valueHasMutated = <span class="hljs-literal">true</span>;\n  }\n\n  <span class="hljs-keyword">if</span>( valueHasMutated ) {\n    <span class="hljs-keyword">if</span>( isFunction(onComplete) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-45" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-45">&#182;</a>\r\n          </div>\r\n          <p>Return the onComplete callback once the DOM is injected in the page.\nFor some reason, on initial outlet binding only calls update once. Subsequent\nchanges get called twice (correct per docs, once upon initial binding, and once\nupon injection into the DOM). Perhaps due to usage of virtual DOM for the component?</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>      <span class="hljs-keyword">var</span> callCounter = (isInitialLoad ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>);\n\n      currentOutletDef.__getOnCompleteCallback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n        <span class="hljs-keyword">var</span> isComplete = callCounter === <span class="hljs-number">0</span>;\n        callCounter--;\n        <span class="hljs-keyword">if</span>( isComplete ) {\n          <span class="hljs-keyword">return</span> onComplete;\n        }\n        <span class="hljs-keyword">return</span> noop;\n      };\n    } <span class="hljs-keyword">else</span> {\n      currentOutletDef.__getOnCompleteCallback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n        <span class="hljs-keyword">return</span> noop;\n      };\n    }\n\n    outlet.valueHasMutated();\n  }\n\n  <span class="hljs-keyword">return</span> outlet;\n};\n\n<span class="hljs-keyword">var</span> isFullURL = fw.isFullURL = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(thing)</span> </span>{\n  <span class="hljs-keyword">return</span> isString(thing) &amp;&amp; isFullURLRegex.test(thing);\n};\n\nfw.routers = {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-46" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-46">&#182;</a>\r\n          </div>\r\n          <p>Configuration point for a baseRoute / path which will always be stripped from the URL prior to processing the route</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>  baseRoute: fw.observable(<span class="hljs-string">\'\'</span>),\n  getNearestParent: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($context)</span> </span>{\n    <span class="hljs-keyword">var</span> $parentRouter = nearestParentRouter($context);\n    <span class="hljs-keyword">return</span> (!isNullRouter($parentRouter) ? $parentRouter : <span class="hljs-literal">null</span>);\n  },</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-47" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-47">&#182;</a>\r\n          </div>\r\n          <p>Return array of all currently instantiated $router’s</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>  getAll: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">return</span> reduce( $globalNamespace.request(<span class="hljs-string">\'__router_reference\'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">true</span>), <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(routers, router)</span> </span>{\n      <span class="hljs-keyword">var</span> namespaceName = isNamespace(router.$namespace) ? router.$namespace.getName() : <span class="hljs-literal">null</span>;\n\n      <span class="hljs-keyword">if</span>( !isNull(namespaceName) ) {\n        <span class="hljs-keyword">if</span>( isUndefined(routers[namespaceName]) ) {\n          routers[namespaceName] = router;\n        } <span class="hljs-keyword">else</span> {\n          <span class="hljs-keyword">if</span>( !isArray(routers[namespaceName]) ) {\n            routers[namespaceName] = [ routers[namespaceName] ];\n          }\n          routers[namespaceName].push(router);\n        }\n      }\n      <span class="hljs-keyword">return</span> routers;\n    }, {});\n  }\n};\n\nfw.router = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( routerConfig, $viewModel, $context )</span> </span>{\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Router( routerConfig, $viewModel, $context );\n};\n\nfw.bindingHandlers.$route = {\n  init: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, valueAccessor, allBindings, viewModel, bindingContext)</span> </span>{\n    <span class="hljs-keyword">var</span> $myRouter = nearestParentRouter(bindingContext);\n    <span class="hljs-keyword">var</span> urlValue = valueAccessor();\n    <span class="hljs-keyword">var</span> eventHandlerIsBound = <span class="hljs-literal">false</span>;\n\n    <span class="hljs-keyword">var</span> routeHandlerDescription = {\n      on: <span class="hljs-string">\'click\'</span>,\n      url: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaultURLForRoute</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; },\n      handler: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaultHandlerForRoute</span><span class="hljs-params">(event, url)</span> </span>{\n        <span class="hljs-keyword">if</span>( !isFullURL(url) ) {\n          event.preventDefault();\n          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;\n        }\n        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;\n      }\n    };\n\n    <span class="hljs-keyword">if</span>( isObservable(urlValue) || isFunction(urlValue) || isString(urlValue) ) {\n      routeHandlerDescription.url = urlValue;\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isObject(urlValue) ) {\n      extend(routeHandlerDescription, urlValue);\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( !urlValue ) {\n      routeHandlerDescription.url = element.getAttribute(<span class="hljs-string">\'href\'</span>);\n    } <span class="hljs-keyword">else</span> {\n      <span class="hljs-keyword">throw</span> <span class="hljs-string">\'Unknown type of url value provided to $route [\'</span> + <span class="hljs-keyword">typeof</span> urlValue + <span class="hljs-string">\']\'</span>;\n    }\n\n    <span class="hljs-keyword">var</span> routeHandlerDescriptionURL = routeHandlerDescription.url;\n    <span class="hljs-keyword">if</span>( !isFunction(routeHandlerDescriptionURL) ) {\n      routeHandlerDescription.url = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> routeHandlerDescriptionURL; };\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRouteURL</span><span class="hljs-params">(includeParentPath)</span> </span>{\n      <span class="hljs-keyword">var</span> parentRoutePath = <span class="hljs-string">\'\'</span>;\n      <span class="hljs-keyword">var</span> routeURL = routeHandlerDescription.url();\n      <span class="hljs-keyword">var</span> myLinkPath = routeURL || element.getAttribute(<span class="hljs-string">\'href\'</span>) || <span class="hljs-string">\'\'</span>;\n\n      <span class="hljs-keyword">if</span>(!isNull(routeURL)) {\n        <span class="hljs-keyword">if</span>( isUndefined(routeURL) ) {\n          routeURL = myLinkPath;\n        }\n\n        <span class="hljs-keyword">if</span>( !isFullURL(myLinkPath) ) {\n          <span class="hljs-keyword">if</span>( !hasPathStart(myLinkPath) ) {\n            myLinkPath = <span class="hljs-string">\'/\'</span> + myLinkPath;\n          }\n\n          <span class="hljs-keyword">if</span>( includeParentPath &amp;&amp; !isNullRouter($myRouter) ) {\n            myLinkPath = $myRouter.parentRouter().routePath() + myLinkPath;\n          }\n        }\n\n        <span class="hljs-keyword">return</span> myLinkPath;\n      }\n\n      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;\n    };\n    <span class="hljs-keyword">var</span> routeURLWithParentPath = bind(getRouteURL, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>);\n    <span class="hljs-keyword">var</span> routeURLWithoutParentPath = bind(getRouteURL, <span class="hljs-literal">null</span>, <span class="hljs-literal">false</span>);\n\n    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setUpElement</span><span class="hljs-params">()</span> </span>{\n      <span class="hljs-keyword">if</span>(eventHandlerIsBound === <span class="hljs-literal">false</span>) {\n        eventHandlerIsBound = <span class="hljs-literal">true</span>;\n        fw.utils.registerEventHandler(element, routeHandlerDescription.on, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span> </span>{\n          <span class="hljs-keyword">var</span> currentRouteURL = routeURLWithoutParentPath();\n          <span class="hljs-keyword">var</span> handlerResult = routeHandlerDescription.handler.call(viewModel, event, currentRouteURL);\n          <span class="hljs-keyword">if</span>( handlerResult ) {\n            <span class="hljs-keyword">if</span>( isString(handlerResult) ) {\n              currentRouteURL = handlerResult;\n            }\n            <span class="hljs-keyword">if</span>( isString(currentRouteURL) &amp;&amp; !isFullURL( currentRouteURL ) ) {\n              $myRouter.setState(currentRouteURL);\n            }\n          }\n        });\n      }\n\n      <span class="hljs-keyword">if</span>( element.tagName.toLowerCase() === <span class="hljs-string">\'a\'</span> ) {\n        element.href = routeURLWithParentPath();\n      }\n    }\n\n    <span class="hljs-keyword">if</span>( isObservable(routeHandlerDescription.url) ) {\n      routeHandlerDescription.url.subscribe(setUpElement);\n    }\n    setUpElement();\n  }\n};\n\n<span class="hljs-keyword">var</span> Router = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( routerConfig, $viewModel, $context )</span> </span>{\n  extend(<span class="hljs-keyword">this</span>, $baseRouter);\n  <span class="hljs-keyword">var</span> subscriptions = <span class="hljs-keyword">this</span>.subscriptions = [];\n  <span class="hljs-keyword">var</span> viewModelNamespaceName;\n\n  <span class="hljs-keyword">if</span>( isViewModel($viewModel) ) {\n    viewModelNamespaceName = $viewModel.getNamespaceName();\n  }\n\n  <span class="hljs-keyword">this</span>.id = uniqueId(<span class="hljs-string">\'router\'</span>);\n  <span class="hljs-keyword">this</span>.$globalNamespace = makeNamespace();\n  <span class="hljs-keyword">this</span>.$namespace = makeNamespace( routerConfig.namespace || (viewModelNamespaceName + <span class="hljs-string">\'Router\'</span>) );\n  <span class="hljs-keyword">this</span>.$namespace.enter();\n  <span class="hljs-keyword">this</span>.$namespace.command.handler(<span class="hljs-string">\'setState\'</span>, <span class="hljs-keyword">this</span>.setState, <span class="hljs-keyword">this</span>);\n  <span class="hljs-keyword">this</span>.$namespace.request.handler(<span class="hljs-string">\'currentRoute\'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.currentRoute(); }, <span class="hljs-keyword">this</span>);\n  <span class="hljs-keyword">this</span>.$namespace.request.handler(<span class="hljs-string">\'urlParts\'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.urlParts(); }, <span class="hljs-keyword">this</span>);\n\n  <span class="hljs-keyword">this</span>.$viewModel = $viewModel;\n  <span class="hljs-keyword">this</span>.urlParts = fw.observable();\n  <span class="hljs-keyword">this</span>.childRouters = fw.observableArray();\n  <span class="hljs-keyword">this</span>.parentRouter = fw.observable($nullRouter);\n  <span class="hljs-keyword">this</span>.context = fw.observable();\n  <span class="hljs-keyword">this</span>.historyIsEnabled = fw.observable(<span class="hljs-literal">false</span>).broadcastAs(<span class="hljs-string">\'historyIsEnabled\'</span>);\n  <span class="hljs-keyword">this</span>.currentState = fw.observable(<span class="hljs-string">\'\'</span>).broadcastAs(<span class="hljs-string">\'currentState\'</span>);\n  <span class="hljs-keyword">this</span>.config = routerConfig = extend({}, routerDefaultConfig, routerConfig);\n  <span class="hljs-keyword">this</span>.config.baseRoute = fw.routers.baseRoute() + (result(routerConfig, <span class="hljs-string">\'baseRoute\'</span>) || <span class="hljs-string">\'\'</span>);\n\n  <span class="hljs-keyword">this</span>.isRelative = fw.computed(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">return</span> routerConfig.isRelative &amp;&amp; !isNullRouter( <span class="hljs-keyword">this</span>.parentRouter() );\n  }, <span class="hljs-keyword">this</span>);\n  \n  <span class="hljs-keyword">this</span>.currentRoute = fw.computed(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getRouteForURL( <span class="hljs-keyword">this</span>.currentState() );\n  }, <span class="hljs-keyword">this</span>);\n  \n  <span class="hljs-keyword">this</span>.routePath = fw.computed(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">var</span> currentRoute = <span class="hljs-keyword">this</span>.currentRoute();\n    <span class="hljs-keyword">var</span> parentRouter = <span class="hljs-keyword">this</span>.parentRouter();\n    <span class="hljs-keyword">var</span> routePath = <span class="hljs-keyword">this</span>.parentRouter().routePath();\n\n    <span class="hljs-keyword">if</span>( isRoute(currentRoute) ) {\n      routePath = routePath + currentRoute.routeSegment;\n    }\n    <span class="hljs-keyword">return</span> routePath;\n  }, <span class="hljs-keyword">this</span>);\n\n  <span class="hljs-keyword">var</span> $previousParent = $nullRouter;\n  subscriptions.push(<span class="hljs-keyword">this</span>.parentRouter.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( $parentRouter )</span> </span>{\n    <span class="hljs-keyword">if</span>( !isNullRouter($previousParent) &amp;&amp; $previousParent !== $parentRouter ) {\n      $previousParent.childRouters.remove(<span class="hljs-keyword">this</span>);\n    }\n    $parentRouter.childRouters.push(<span class="hljs-keyword">this</span>);\n    $previousParent = $parentRouter;\n  }, <span class="hljs-keyword">this</span>));</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-48" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-48">&#182;</a>\r\n          </div>\r\n          <p>Automatically trigger the new Action() whenever the currentRoute() updates</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>  subscriptions.push( <span class="hljs-keyword">this</span>.currentRoute.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getActionForRouteAndTrigger</span><span class="hljs-params">( newRoute )</span> </span>{\n    <span class="hljs-keyword">this</span>.getActionForRoute( newRoute )( <span class="hljs-comment">/* get and call the action for the newRoute */</span> );\n  }, <span class="hljs-keyword">this</span>) );\n\n  <span class="hljs-keyword">var</span> $router = <span class="hljs-keyword">this</span>;\n  <span class="hljs-keyword">this</span>.$globalNamespace.request.handler(<span class="hljs-string">\'__router_reference\'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">return</span> $router;\n  });\n\n  <span class="hljs-keyword">this</span>.outlets = {};\n  <span class="hljs-keyword">this</span>.$outlet = bind( $routerOutlet, <span class="hljs-keyword">this</span> );\n  <span class="hljs-keyword">this</span>.$outlet.reset = bind( <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    each( <span class="hljs-keyword">this</span>.outlets, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(outlet)</span> </span>{\n      outlet({ name: noComponentSelected, params: {} });\n    });\n  }, <span class="hljs-keyword">this</span>);\n\n  <span class="hljs-keyword">if</span>( !isUndefined(routerConfig.unknownRoute) ) {\n    <span class="hljs-keyword">if</span>( isFunction(routerConfig.unknownRoute) ) {\n      routerConfig.unknownRoute = { controller: routerConfig.unknownRoute };\n    }\n    routerConfig.routes.push( extend( routerConfig.unknownRoute, { unknown: <span class="hljs-literal">true</span> } ) );\n  }\n  <span class="hljs-keyword">this</span>.setRoutes( routerConfig.routes );\n\n  <span class="hljs-keyword">if</span>( routerConfig.activate === <span class="hljs-literal">true</span> ) {\n    subscriptions.push(<span class="hljs-keyword">this</span>.context.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">activateRouterAfterNewContext</span><span class="hljs-params">( $context )</span> </span>{\n      <span class="hljs-keyword">if</span>( isObject($context) ) {\n        <span class="hljs-keyword">this</span>.activate( $context );\n      }\n    }, <span class="hljs-keyword">this</span>));\n  }\n  <span class="hljs-keyword">this</span>.context( $viewModel.$context || $context );\n\n  <span class="hljs-keyword">this</span>.$namespace.exit();\n};\n\nRouter.prototype.setRoutes = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(routeDesc)</span> </span>{\n  <span class="hljs-keyword">this</span>.routeDescriptions = [];\n  <span class="hljs-keyword">this</span>.addRoutes(routeDesc);\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\n};\n\nRouter.prototype.addRoutes = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(routeConfig)</span> </span>{\n  <span class="hljs-keyword">this</span>.routeDescriptions = <span class="hljs-keyword">this</span>.routeDescriptions.concat( map(isArray(routeConfig) ? routeConfig : [routeConfig], transformRouteConfigToDesc) );\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\n};\n\nRouter.prototype.activate = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($context, $parentRouter)</span> </span>{\n  <span class="hljs-keyword">this</span>.startup( $context, $parentRouter );\n  <span class="hljs-keyword">if</span>( <span class="hljs-keyword">this</span>.currentState() === <span class="hljs-string">\'\'</span> ) {\n    <span class="hljs-keyword">this</span>.setState();\n  }\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\n};\n\nRouter.prototype.setState = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(url, noHistoryInjection)</span> </span>{\n  <span class="hljs-keyword">if</span>( <span class="hljs-keyword">this</span>.historyIsEnabled() ) {\n    <span class="hljs-keyword">if</span>(!noHistoryInjection &amp;&amp; isString(url)) {\n      <span class="hljs-keyword">var</span> historyAPIWorked = <span class="hljs-literal">true</span>;\n      <span class="hljs-keyword">try</span> {\n        historyAPIWorked = History.pushState(<span class="hljs-literal">null</span>, <span class="hljs-string">\'\'</span>, <span class="hljs-keyword">this</span>.parentRouter().routePath() + url);\n      } <span class="hljs-keyword">catch</span>(error) {\n        historyAPIWorked = <span class="hljs-literal">false</span>;\n      } <span class="hljs-keyword">finally</span> {\n        <span class="hljs-keyword">if</span>(historyAPIWorked) {\n          <span class="hljs-keyword">return</span>;\n        }\n      }\n    } <span class="hljs-keyword">else</span> {\n      url = History.getState().url;\n    }\n  }\n\n  <span class="hljs-keyword">if</span>( isString(url) ) {\n    <span class="hljs-keyword">this</span>.currentState( <span class="hljs-keyword">this</span>.normalizeURL(url) );\n  }\n};\n\nRouter.prototype.startup = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( $context, $parentRouter )</span> </span>{\n  <span class="hljs-keyword">var</span> $myRouter = <span class="hljs-keyword">this</span>;\n  $parentRouter = $parentRouter || $nullRouter;\n\n  <span class="hljs-keyword">if</span>( !isNullRouter($parentRouter) ) {\n    <span class="hljs-keyword">this</span>.parentRouter( $parentRouter );\n  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isObject($context) ) {\n    $parentRouter = nearestParentRouter($context);\n    <span class="hljs-keyword">if</span>( $parentRouter.id !== <span class="hljs-keyword">this</span>.id ) {\n      <span class="hljs-keyword">this</span>.parentRouter( $parentRouter );\n    }\n  }\n\n  <span class="hljs-keyword">if</span>( !<span class="hljs-keyword">this</span>.historyIsEnabled() ) {\n    <span class="hljs-keyword">if</span>( historyIsReady() ) {\n      History.Adapter.bind( windowObject, <span class="hljs-string">\'statechange\'</span>, <span class="hljs-keyword">this</span>.stateChangeHandler = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n        $myRouter.setState( History.getState().url, <span class="hljs-literal">true</span> );\n      } );\n      <span class="hljs-keyword">this</span>.historyIsEnabled(<span class="hljs-literal">true</span>);\n    } <span class="hljs-keyword">else</span> {\n      <span class="hljs-keyword">this</span>.historyIsEnabled(<span class="hljs-literal">false</span>);\n    }\n  }\n\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\n};\n\nRouter.prototype.shutdown = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">var</span> $parentRouter = <span class="hljs-keyword">this</span>.parentRouter();\n  <span class="hljs-keyword">if</span>( !isNullRouter($parentRouter) ) {\n    $parentRouter.childRouters.remove(<span class="hljs-keyword">this</span>);\n  }\n\n  <span class="hljs-keyword">if</span>( <span class="hljs-keyword">this</span>.historyIsEnabled() &amp;&amp; historyIsReady() ) {\n    History.Adapter.unbind( <span class="hljs-keyword">this</span>.stateChangeHandler );\n  }\n\n  <span class="hljs-keyword">this</span>.$namespace.shutdown();\n  <span class="hljs-keyword">this</span>.$globalNamespace.shutdown();\n\n  invoke(<span class="hljs-keyword">this</span>.subscriptions, <span class="hljs-string">\'dispose\'</span>);\n  each(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(property)</span> </span>{\n    <span class="hljs-keyword">if</span>( property &amp;&amp; isFunction(property.dispose) ) {\n      property.dispose();\n    }\n  });\n};\n\nRouter.prototype.normalizeURL = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(url)</span> </span>{\n  <span class="hljs-keyword">var</span> urlParts = parseUri(url);\n  <span class="hljs-keyword">this</span>.urlParts(urlParts);\n  url = urlParts.path;\n\n  <span class="hljs-keyword">if</span>( !isNull(<span class="hljs-keyword">this</span>.config.baseRoute) &amp;&amp; url.indexOf(<span class="hljs-keyword">this</span>.config.baseRoute) === <span class="hljs-number">0</span> ) {\n    url = url.substr(<span class="hljs-keyword">this</span>.config.baseRoute.length);\n    <span class="hljs-keyword">if</span>(url.length &gt; <span class="hljs-number">1</span>) {\n      url = url.replace(hashMatchRegex, <span class="hljs-string">\'/\'</span>);\n    }\n  }\n  <span class="hljs-keyword">return</span> url;\n};\n\nRouter.prototype.getUnknownRoute = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">var</span> unknownRoute = findWhere((<span class="hljs-keyword">this</span>.getRouteDescriptions() || []).reverse(), { unknown: <span class="hljs-literal">true</span> }) || <span class="hljs-literal">null</span>;\n\n  <span class="hljs-keyword">if</span>( !isNull(unknownRoute) ) {\n    unknownRoute = extend({}, baseRoute, {\n      id: unknownRoute.id,\n      controller: unknownRoute.controller,\n      title: unknownRoute.title,\n      routeSegment: <span class="hljs-string">\'\'</span>\n    });\n  }\n\n  <span class="hljs-keyword">return</span> unknownRoute;\n};\n\nRouter.prototype.getRouteForURL = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(url)</span> </span>{\n  <span class="hljs-keyword">var</span> route = <span class="hljs-literal">null</span>;\n  <span class="hljs-keyword">var</span> parentRoutePath = <span class="hljs-keyword">this</span>.parentRouter().routePath() || <span class="hljs-string">\'\'</span>;\n  <span class="hljs-keyword">var</span> unknownRoute = <span class="hljs-keyword">this</span>.getUnknownRoute();\n  <span class="hljs-keyword">var</span> $myRouter = <span class="hljs-keyword">this</span>;</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-49" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-49">&#182;</a>\r\n          </div>\r\n          <p>If this is a relative router we need to remove the leading parentRoutePath section of the URL</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>  <span class="hljs-keyword">if</span>( <span class="hljs-keyword">this</span>.isRelative() ) {\n    <span class="hljs-keyword">if</span>( parentRoutePath.length &gt; <span class="hljs-number">0</span> ) {\n      <span class="hljs-keyword">if</span>( ( routeIndex = url.indexOf(parentRoutePath) ) === <span class="hljs-number">0</span> ) {\n        url = url.substr( parentRoutePath.length );\n      } <span class="hljs-keyword">else</span> {\n        <span class="hljs-keyword">return</span> unknownRoute;\n      }\n    } <span class="hljs-keyword">else</span> {\n      <span class="hljs-keyword">return</span> unknownRoute;\n    }\n  }</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-50" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-50">&#182;</a>\r\n          </div>\r\n          <p>find all routes with a matching routeString</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>  <span class="hljs-keyword">var</span> matchedRoutes = [];\n  find(<span class="hljs-keyword">this</span>.getRouteDescriptions(), <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(routeDescription)</span> </span>{\n    <span class="hljs-keyword">var</span> routeString = routeDescription.route;\n    <span class="hljs-keyword">var</span> routeParams = [];\n\n    <span class="hljs-keyword">if</span>( isString(routeString) ) {\n      routeParams = url.match(routeStringToRegExp(routeString));\n      <span class="hljs-keyword">if</span>( !isNull(routeParams) &amp;&amp; routeDescription.filter.call($myRouter, { params: routeParams, urlParts: $myRouter.urlParts() }) ) {\n        matchedRoutes.push({\n          routeString: routeString,\n          specificity: routeString.replace(namedParamRegex, <span class="hljs-string">"*"</span>).length,\n          routeDescription: routeDescription,\n          routeParams: routeParams\n        });\n      }\n    }\n    <span class="hljs-keyword">return</span> route;\n  });</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-51" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-51">&#182;</a>\r\n          </div>\r\n          <p>If there are matchedRoutes, find the one with the highest ‘specificity’ (longest normalized matching routeString)\nand convert it into the actual route</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>  <span class="hljs-keyword">if</span>(matchedRoutes.length) {\n    <span class="hljs-keyword">var</span> matchedRoute = reduce(matchedRoutes, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(matchedRoute, foundRoute)</span> </span>{\n      <span class="hljs-keyword">if</span>( isNull(matchedRoute) || foundRoute.specificity &gt; matchedRoute.specificity ) {\n        matchedRoute = foundRoute;\n      }\n      <span class="hljs-keyword">return</span> matchedRoute;\n    }, <span class="hljs-literal">null</span>);\n    <span class="hljs-keyword">var</span> routeDescription = matchedRoute.routeDescription;\n    <span class="hljs-keyword">var</span> routeString = matchedRoute.routeString;\n    <span class="hljs-keyword">var</span> routeParams = clone(matchedRoute.routeParams);\n    <span class="hljs-keyword">var</span> splatSegment = routeParams.pop() || <span class="hljs-string">\'\'</span>;\n    <span class="hljs-keyword">var</span> routeParamNames = map(routeString.match(namedParamRegex), <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(param)</span> </span>{\n      <span class="hljs-keyword">return</span> param.replace(<span class="hljs-string">\':\'</span>, <span class="hljs-string">\'\'</span>);\n    });\n    <span class="hljs-keyword">var</span> namedParams = reduce(routeParamNames, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(parameterNames, parameterName, index)</span> </span>{\n      parameterNames[parameterName] = routeParams[index + <span class="hljs-number">1</span>];\n      <span class="hljs-keyword">return</span> parameterNames;\n    }, {});\n\n    route = extend({}, baseRoute, {\n      id: routeDescription.id,\n      controller: routeDescription.controller,\n      title: routeDescription.title,\n      url: url,\n      routeSegment: url.substr(<span class="hljs-number">0</span>, url.length - splatSegment.length),\n      indexedParams: routeParams,\n      namedParams: namedParams\n    });\n  }\n\n  <span class="hljs-keyword">return</span> route || unknownRoute;\n};\n\nRouter.prototype.getActionForRoute = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(routeDescription)</span> </span>{\n  <span class="hljs-keyword">var</span> Action = bind( <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n    <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.__currentRouteDescription;\n    <span class="hljs-keyword">this</span>.$outlet.reset();\n  }, <span class="hljs-keyword">this</span> );\n\n  <span class="hljs-keyword">if</span>( isRoute(routeDescription) ) {\n    Action = bind(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n      <span class="hljs-keyword">if</span>( !isUndefined(routeDescription.title) ) {\n        <span class="hljs-built_in">document</span>.title = isFunction(routeDescription.title) ? routeDescription.title.call(<span class="hljs-keyword">this</span>) : routeDescription.title;\n      }\n\n      <span class="hljs-keyword">if</span>( isUndefined(<span class="hljs-keyword">this</span>.__currentRouteDescription) || <span class="hljs-keyword">this</span>.__currentRouteDescription.id !== routeDescription.id ) {\n        routeDescription.controller.call( <span class="hljs-keyword">this</span>, routeDescription.namedParams );\n        <span class="hljs-keyword">this</span>.__currentRouteDescription = routeDescription;\n      }\n    }, <span class="hljs-keyword">this</span>);\n  }\n\n  <span class="hljs-keyword">return</span> Action;\n};\n\nRouter.prototype.getRouteDescriptions = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.routeDescriptions;\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-52" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-52">&#182;</a>\r\n          </div>\r\n          <h2 id="viewmodel-js">viewModel.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-53" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-53">&#182;</a>\r\n          </div>\r\n          <p>Duck type function for determining whether or not something is a footwork viewModel constructor function</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isViewModelCtor</span><span class="hljs-params">(thing)</span> </span>{\r\n  <span class="hljs-keyword">return</span> isFunction(thing) &amp;&amp; !!thing.__isViewModelCtor;\r\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-54" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-54">&#182;</a>\r\n          </div>\r\n          <p>Duck type function for determining whether or not something is a footwork viewModel</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isViewModel</span><span class="hljs-params">(thing)</span> </span>{\r\n  <span class="hljs-keyword">return</span> isObject(thing) &amp;&amp; !!thing.__isViewModel;\r\n}\r\n\r\n<span class="hljs-keyword">var</span> defaultGetViewModelOptions = {\r\n  includeOutlets: <span class="hljs-literal">false</span>\r\n};\r\n\r\nfw.viewModels = {};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-55" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-55">&#182;</a>\r\n          </div>\r\n          <p>Returns a reference to the specified viewModels.\nIf no name is supplied, a reference to an array containing all model references is returned.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> getViewModels = fw.viewModels.getAll = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span> </span>{\r\n  <span class="hljs-keyword">return</span> reduce( $globalNamespace.request(<span class="hljs-string">\'__model_reference\'</span>, extend({}, defaultGetViewModelOptions, options), <span class="hljs-literal">true</span>), <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(viewModels, viewModel)</span> </span>{\r\n    <span class="hljs-keyword">if</span>( !isUndefined(viewModel) ) {\r\n      <span class="hljs-keyword">var</span> namespaceName = isNamespace(viewModel.$namespace) ? viewModel.$namespace.getName() : <span class="hljs-literal">null</span>;\r\n      <span class="hljs-keyword">if</span>( !isNull(namespaceName) ) {\r\n        <span class="hljs-keyword">if</span>( isUndefined(viewModels[namespaceName]) ) {\r\n          viewModels[namespaceName] = viewModel;\r\n        } <span class="hljs-keyword">else</span> {\r\n          <span class="hljs-keyword">if</span>( !isArray(viewModels[namespaceName]) ) {\r\n            viewModels[namespaceName] = [ viewModels[namespaceName] ];\r\n          }\r\n          viewModels[namespaceName].push(viewModel);\r\n        }\r\n      }\r\n    }\r\n    <span class="hljs-keyword">return</span> viewModels;\r\n  }, {});\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-56" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-56">&#182;</a>\r\n          </div>\r\n          <p>Tell all viewModels to request the values which it listens for</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> refreshViewModels = fw.viewModels.refresh = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n  $globalNamespace.trigger(<span class="hljs-string">\'__refreshViewModels\'</span>);\r\n};\r\n\r\n<span class="hljs-keyword">var</span> defaultViewModelConfigParams = {\r\n  namespace: <span class="hljs-literal">undefined</span>,\r\n  name: <span class="hljs-literal">undefined</span>,\r\n  componentNamespace: <span class="hljs-literal">undefined</span>,\r\n  autoIncrement: <span class="hljs-literal">false</span>,\r\n  mixins: <span class="hljs-literal">undefined</span>,\r\n  params: <span class="hljs-literal">undefined</span>,\r\n  initialize: noop,\r\n  afterInit: noop,\r\n  afterBinding: noop,\r\n  afterDispose: noop\r\n};\r\n\r\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">beforeInitMixins</span><span class="hljs-params">(mixin)</span> </span>{\r\n  <span class="hljs-keyword">return</span> !!mixin.runBeforeInit;\r\n}\r\n\r\n<span class="hljs-keyword">var</span> makeViewModel = fw.viewModel = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(configParams)</span> </span>{\r\n  configParams = configParams || {};\r\n\r\n  <span class="hljs-keyword">var</span> ctor = noop;\r\n  <span class="hljs-keyword">var</span> afterInit = noop;\r\n  <span class="hljs-keyword">var</span> parentViewModel = configParams.parent;\r\n\r\n  <span class="hljs-keyword">if</span>( !isUndefined(configParams) ) {\r\n    ctor = configParams.viewModel || configParams.initialize || noop;\r\n    afterInit = configParams.afterInit || noop;\r\n  }\r\n  afterInit = { _postInit: afterInit };\r\n  configParams = extend({}, defaultViewModelConfigParams, configParams);\r\n\r\n  <span class="hljs-keyword">var</span> initViewModelMixin = {\r\n    _preInit: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( params )</span> </span>{\r\n      <span class="hljs-keyword">if</span>( isObject(configParams.router) ) {\r\n        <span class="hljs-keyword">this</span>.$router = <span class="hljs-keyword">new</span> Router( configParams.router, <span class="hljs-keyword">this</span> );\r\n      }\r\n    },\r\n    mixin: {\r\n      __isViewModel: <span class="hljs-literal">true</span>,\r\n      $params: result(configParams, <span class="hljs-string">\'params\'</span>),\r\n      __getConfigParams: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n        <span class="hljs-keyword">return</span> configParams;\r\n      },\r\n      __shutdown: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n        <span class="hljs-keyword">if</span>( isFunction(configParams.afterDispose) ) {\r\n          configParams.afterDispose.call(<span class="hljs-keyword">this</span>);\r\n        }\r\n\r\n        each(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( property, name )</span> </span>{\r\n          <span class="hljs-keyword">if</span>( isNamespace(property) || isRouter(property) || isBroadcaster(property) || isReceiver(property) ) {\r\n            property.shutdown();\r\n          }\r\n        });\r\n      }\r\n    },\r\n    _postInit: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n      <span class="hljs-keyword">if</span>( <span class="hljs-keyword">this</span>.__assertPresence !== <span class="hljs-literal">false</span> ) {\r\n        <span class="hljs-keyword">this</span>.$globalNamespace.request.handler(<span class="hljs-string">\'__model_reference\'</span>, bind(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span> </span>{\r\n          <span class="hljs-keyword">if</span>( !<span class="hljs-keyword">this</span>.__isOutlet || (isObject(options) &amp;&amp; options.includeOutlets) ) {\r\n            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;\r\n          }\r\n        }, <span class="hljs-keyword">this</span>));\r\n        <span class="hljs-keyword">this</span>.$globalNamespace.event.handler(<span class="hljs-string">\'__refreshViewModels\'</span>, bind(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n          each(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(property)</span> </span>{\r\n            <span class="hljs-keyword">if</span>( isReceiver(property) ) {\r\n              property.refresh();\r\n            }\r\n          });\r\n        }, <span class="hljs-keyword">this</span>));\r\n      }\r\n    }\r\n  };\r\n\r\n  <span class="hljs-keyword">if</span>( !isViewModelCtor(ctor) ) {\r\n    <span class="hljs-keyword">var</span> composure = [ ctor ];\r\n    <span class="hljs-keyword">var</span> afterInitMixins = reject(viewModelMixins, beforeInitMixins);\r\n    <span class="hljs-keyword">var</span> beforeInitMixins = filter(viewModelMixins, beforeInitMixins);\r\n\r\n    <span class="hljs-keyword">if</span>( beforeInitMixins.length ) {\r\n      composure = composure.concat(beforeInitMixins);\r\n    }\r\n    composure = composure.concat(initViewModelMixin);\r\n    <span class="hljs-keyword">if</span>( afterInitMixins.length ) {\r\n      composure = composure.concat(afterInitMixins);\r\n    }\r\n    \r\n    composure = composure.concat(afterInit);\r\n    <span class="hljs-keyword">if</span>( !isUndefined(configParams.mixins) ) {\r\n      composure = composure.concat(configParams.mixins);\r\n    }\r\n\r\n    each(composure, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element)</span> </span>{\r\n      <span class="hljs-keyword">if</span>( !isUndefined(element[<span class="hljs-string">\'runBeforeInit\'</span>]) ) {\r\n        <span class="hljs-keyword">delete</span> element.runBeforeInit;\r\n      }\r\n    });\r\n\r\n    <span class="hljs-keyword">var</span> model = riveter.compose.apply( <span class="hljs-literal">undefined</span>, composure );\r\n    model.__isViewModelCtor = <span class="hljs-literal">true</span>;\r\n    model.__configParams = configParams;\r\n  } <span class="hljs-keyword">else</span> {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-57" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-57">&#182;</a>\r\n          </div>\r\n          <p>user has specified another viewModel constructor as the ‘initialize’ function, we extend it with the current constructor to create an inheritance chain</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>    model = ctor;\r\n  }\r\n\r\n  <span class="hljs-keyword">if</span>( !isUndefined(parentViewModel) ) {\r\n    model.inherits(parentViewModel);\r\n  }\r\n\r\n  <span class="hljs-keyword">return</span> model;\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-58" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-58">&#182;</a>\r\n          </div>\r\n          <p>Provides lifecycle functionality and $context for a given viewModel and element</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyContextAndLifeCycle</span><span class="hljs-params">(viewModel, element)</span> </span>{\r\n  <span class="hljs-keyword">if</span>( isViewModel(viewModel) ) {\r\n    <span class="hljs-keyword">var</span> $configParams = viewModel.__getConfigParams();\r\n    <span class="hljs-keyword">var</span> context;\r\n    element = element || <span class="hljs-built_in">document</span>.body;\r\n    viewModel.$context = elementContext = fw.contextFor(element);\r\n    \r\n    <span class="hljs-keyword">if</span>( isFunction($configParams.afterBinding) ) {\r\n      $configParams.afterBinding.call(viewModel, element);\r\n    }\r\n\r\n    <span class="hljs-keyword">if</span>( isRouter(viewModel.$router) ) {\r\n      viewModel.$router.context( elementContext );\r\n    }\r\n    \r\n    <span class="hljs-keyword">if</span>( !isUndefined(element) ) {\r\n      fw.utils.domNodeDisposal.addDisposeCallback(element, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n        viewModel.__shutdown();\r\n      });\r\n    }\r\n  }\r\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-59" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-59">&#182;</a>\r\n          </div>\r\n          <p>Override the original applyBindings method to provide ‘viewModel’ life-cycle hooks/events and to provide the $context to the $router if present.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> originalApplyBindings = fw.applyBindings;\r\n<span class="hljs-keyword">var</span> applyBindings = fw.applyBindings = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(viewModel, element)</span> </span>{\r\n  originalApplyBindings(viewModel, element);\r\n  applyContextAndLifeCycle(viewModel, element);\r\n};\r\n\r\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bindComponentViewModel</span><span class="hljs-params">(element, params, ViewModel)</span> </span>{\r\n  <span class="hljs-keyword">var</span> viewModelObj;\r\n  <span class="hljs-keyword">if</span>( isFunction(ViewModel) ) {\r\n    viewModelObj = <span class="hljs-keyword">new</span> ViewModel(values.params);\r\n  } <span class="hljs-keyword">else</span> {\r\n    viewModelObj = ViewModel;\r\n  }\r\n  viewModelObj.$parentContext = fw.contextFor(element.parentElement);</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-60" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-60">&#182;</a>\r\n          </div>\r\n          <p>binding the viewModelObj onto each child element is not ideal, need to do this differently\ncannot get component.preprocess() method to work/be called for some reason</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>  each(element.children, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(child)</span> </span>{\r\n    originalApplyBindings(viewModelObj, child);\r\n  });\r\n  applyContextAndLifeCycle(viewModelObj, element);</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-61" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-61">&#182;</a>\r\n          </div>\r\n          <p>we told applyBindings not to specify a context on the viewModel.$router after binding because we are binding to each\nsub-element and must specify the context as being the container element only once</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>  <span class="hljs-keyword">if</span>( isRouter(viewModelObj.$router) ) {\r\n    viewModelObj.$router.context( fw.contextFor(element) );\r\n  }\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-62" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-62">&#182;</a>\r\n          </div>\r\n          <p>Monkey patch enables the viewModel component to initialize a model and bind to the html as intended (with lifecycle events)\nTODO: Do this differently once this is resolved: <a href="https://github.com/knockout/knockout/issues/1463">https://github.com/knockout/knockout/issues/1463</a></p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> originalComponentInit = fw.bindingHandlers.component.init;\r\nfw.bindingHandlers.component.init = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, valueAccessor, allBindings, viewModel, bindingContext)</span> </span>{\r\n  <span class="hljs-keyword">var</span> theValueAccessor = valueAccessor;\r\n  <span class="hljs-keyword">if</span>( isString(element.tagName) ) {\r\n    <span class="hljs-keyword">var</span> tagName = element.tagName.toLowerCase();\r\n    <span class="hljs-keyword">if</span>( tagName === <span class="hljs-string">\'viewmodel\'</span> ) {\r\n      <span class="hljs-keyword">var</span> values = valueAccessor();\r\n      <span class="hljs-keyword">var</span> viewModelName = ( !isUndefined(values.params) ? fw.unwrap(values.params.name) : <span class="hljs-literal">undefined</span> ) || element.getAttribute(<span class="hljs-string">\'module\'</span>) || element.getAttribute(<span class="hljs-string">\'data-module\'</span>);\r\n      <span class="hljs-keyword">var</span> bindViewModel = bind(bindComponentViewModel, <span class="hljs-literal">null</span>, element, values.params);\r\n\r\n      <span class="hljs-keyword">if</span>( !isUndefined(viewModelName) ) {\r\n        <span class="hljs-keyword">var</span> resourceLocation = <span class="hljs-literal">null</span>;\r\n\r\n        <span class="hljs-keyword">if</span>( isRegisteredViewModel(viewModelName) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-63" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-63">&#182;</a>\r\n          </div>\r\n          <p>viewModel was manually registered, we preferentially use it</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>          resourceLocation = getRegisteredViewModel(viewModelName);\r\n        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isFunction(<span class="hljs-built_in">require</span>) &amp;&amp; isFunction(<span class="hljs-built_in">require</span>.defined) &amp;&amp; <span class="hljs-built_in">require</span>.defined(viewModelName) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-64" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-64">&#182;</a>\r\n          </div>\r\n          <p>we have found a matching resource that is already cached by require, lets use it</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>          resourceLocation = viewModelName;\r\n        } <span class="hljs-keyword">else</span> {\r\n          resourceLocation = getViewModelResourceLocation( viewModelName );\r\n        }\r\n\r\n        <span class="hljs-keyword">if</span>( isString(resourceLocation) ) {\r\n          <span class="hljs-keyword">if</span>( isFunction(<span class="hljs-built_in">require</span>) ) {\r\n            <span class="hljs-keyword">if</span>( isPath(resourceLocation) ) {\r\n              resourceLocation = resourceLocation + getViewModelFileName(viewModelName);\r\n            }\r\n\r\n            <span class="hljs-built_in">require</span>([ resourceLocation ], bindViewModel);\r\n          } <span class="hljs-keyword">else</span> {\r\n            <span class="hljs-keyword">throw</span> <span class="hljs-string">\'Uses require, but no AMD loader is present\'</span>;\r\n          }\r\n        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isFunction(resourceLocation) ) {\r\n          bindViewModel( resourceLocation );\r\n        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isObject(resourceLocation) ) {\r\n          <span class="hljs-keyword">if</span>( isObject(resourceLocation.instance) ) {\r\n            bindViewModel( resourceLocation.instance );\r\n          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isFunction(resourceLocation.createViewModel) ) {\r\n            bindViewModel( resourceLocation.createViewModel( values.params, { element: element } ) );\r\n          }\r\n        }\r\n      }\r\n\r\n      <span class="hljs-keyword">return</span> { <span class="hljs-string">\'controlsDescendantBindings\'</span>: <span class="hljs-literal">true</span> };\r\n    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( tagName === <span class="hljs-string">\'outlet\'</span> ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-65" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-65">&#182;</a>\r\n          </div>\r\n          <p>we patch in the ‘name’ of the outlet into the params valueAccessor on the component definition (if necessary and available)</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>      <span class="hljs-keyword">var</span> outletName = element.getAttribute(<span class="hljs-string">\'name\'</span>) || element.getAttribute(<span class="hljs-string">\'data-name\'</span>);\r\n      <span class="hljs-keyword">if</span>( outletName ) {\r\n        theValueAccessor = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n          <span class="hljs-keyword">var</span> valueAccessorResult = valueAccessor();\r\n          <span class="hljs-keyword">if</span>( !isUndefined(valueAccessorResult.params) &amp;&amp; isUndefined(valueAccessorResult.params.name) ) {\r\n            valueAccessorResult.params.name = outletName;\r\n          }\r\n          <span class="hljs-keyword">return</span> valueAccessorResult;\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  <span class="hljs-keyword">return</span> originalComponentInit(element, theValueAccessor, allBindings, viewModel, bindingContext);\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-66" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-66">&#182;</a>\r\n          </div>\r\n          <h2 id="component-js">component.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-67" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-67">&#182;</a>\r\n          </div>\r\n          \r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>\n<span class="hljs-keyword">var</span> originalComponentRegisterFunc = fw.components.register;\n<span class="hljs-keyword">var</span> registerComponent = fw.components.register = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentName, options)</span> </span>{\n  <span class="hljs-keyword">var</span> viewModel = options.initialize || options.viewModel;\n  \n  <span class="hljs-keyword">if</span>( !isString(componentName) ) {\n    <span class="hljs-keyword">throw</span> <span class="hljs-string">\'Components must be provided a componentName.\'</span>;\n  }\n\n  <span class="hljs-keyword">if</span>( isFunction(viewModel) &amp;&amp; !isViewModelCtor(viewModel) ) {\n    options.namespace = componentName;\n    viewModel = makeViewModel(options);\n  }\n\n  originalComponentRegisterFunc(componentName, {\n    viewModel: viewModel || fw.viewModel(),\n    template: options.template\n  });\n};\n\nfw.components.getNormalTagList = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> nonComponentTags.splice(<span class="hljs-number">0</span>);\n};\n\nfw.components.getComponentNameForNode = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(node)</span> </span>{\n  <span class="hljs-keyword">var</span> tagName = isString(node.tagName) &amp;&amp; node.tagName.toLowerCase();\n\n  <span class="hljs-keyword">if</span>( fw.components.isRegistered(tagName) || tagIsComponent(tagName) ) {\n    <span class="hljs-keyword">return</span> tagName;\n  }\n  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;\n};\n\n<span class="hljs-keyword">var</span> makeComponent = fw.component = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentDefinition)</span> </span>{\n  <span class="hljs-keyword">var</span> viewModel = componentDefinition.viewModel;\n\n  <span class="hljs-keyword">if</span>( isFunction(viewModel) &amp;&amp; !isViewModelCtor(viewModel) ) {\n    componentDefinition.viewModel = makeViewModel( omit(componentDefinition, <span class="hljs-string">\'template\'</span>) );\n  }\n\n  <span class="hljs-keyword">return</span> componentDefinition;\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-68" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-68">&#182;</a>\r\n          </div>\r\n          <p>Register a component as consisting of a template only.\nThis will cause footwork to load only the template when this component is used.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> componentTemplateOnlyRegister = [];\n<span class="hljs-keyword">var</span> registerComponentAsTemplateOnly = fw.components.isTemplateOnly = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentName, isTemplateOnly)</span> </span>{\n  isTemplateOnly = (isUndefined(isTemplateOnly) ? <span class="hljs-literal">true</span> : isTemplateOnly);\n  <span class="hljs-keyword">if</span>( isArray(componentName) ) {\n    each(componentName, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(compName)</span> </span>{\n      registerComponentAsTemplateOnly(compName, isTemplateOnly);\n    });\n  }\n\n  componentTemplateOnlyRegister[componentName] = isTemplateOnly;\n  <span class="hljs-keyword">if</span>( !isArray(componentName) ) {\n    <span class="hljs-keyword">return</span> componentTemplateOnlyRegister[componentName] || <span class="hljs-string">\'normal\'</span>;\n  }\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-69" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-69">&#182;</a>\r\n          </div>\r\n          <p>These are tags which are ignored by the custom component loader\nSourced from: <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element">https://developer.mozilla.org/en-US/docs/Web/HTML/Element</a></p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> nonComponentTags = [\n  <span class="hljs-string">\'a\'</span>, <span class="hljs-string">\'abbr\'</span>, <span class="hljs-string">\'acronym\'</span>, <span class="hljs-string">\'address\'</span>, <span class="hljs-string">\'applet\'</span>, <span class="hljs-string">\'area\'</span>, <span class="hljs-string">\'article\'</span>, <span class="hljs-string">\'aside\'</span>, <span class="hljs-string">\'audio\'</span>, <span class="hljs-string">\'b\'</span>, <span class="hljs-string">\'base\'</span>, <span class="hljs-string">\'basefont\'</span>, <span class="hljs-string">\'bdi\'</span>, <span class="hljs-string">\'bgsound\'</span>,\n  <span class="hljs-string">\'big\'</span>, <span class="hljs-string">\'blink\'</span>, <span class="hljs-string">\'blockquote\'</span>, <span class="hljs-string">\'body\'</span>, <span class="hljs-string">\'br\'</span>, <span class="hljs-string">\'button\'</span>, <span class="hljs-string">\'canvas\'</span>, <span class="hljs-string">\'caption\'</span>, <span class="hljs-string">\'center\'</span>, <span class="hljs-string">\'cite\'</span>, <span class="hljs-string">\'code\'</span>, <span class="hljs-string">\'col\'</span>, <span class="hljs-string">\'colgroup\'</span>,\n  <span class="hljs-string">\'content\'</span>, <span class="hljs-string">\'data\'</span>, <span class="hljs-string">\'datalist\'</span>, <span class="hljs-string">\'dd\'</span>, <span class="hljs-string">\'decorator\'</span>, <span class="hljs-string">\'del\'</span>, <span class="hljs-string">\'details\'</span>, <span class="hljs-string">\'dfn\'</span>, <span class="hljs-string">\'dialog\'</span>, <span class="hljs-string">\'dir\'</span>, <span class="hljs-string">\'div\'</span>, <span class="hljs-string">\'dl\'</span>, <span class="hljs-string">\'dt\'</span>, <span class="hljs-string">\'element\'</span>,\n  <span class="hljs-string">\'em\'</span>, <span class="hljs-string">\'embed\'</span>, <span class="hljs-string">\'fieldset\'</span>, <span class="hljs-string">\'figcaption\'</span>, <span class="hljs-string">\'figure\'</span>, <span class="hljs-string">\'footer\'</span>, <span class="hljs-string">\'form\'</span>, <span class="hljs-string">\'frameset\'</span>, <span class="hljs-string">\'g\'</span>, <span class="hljs-string">\'h1\'</span>, <span class="hljs-string">\'h2\'</span>, <span class="hljs-string">\'h3\'</span>, <span class="hljs-string">\'h4\'</span>, <span class="hljs-string">\'h5\'</span>, <span class="hljs-string">\'h6\'</span>,\n  <span class="hljs-string">\'head\'</span>, <span class="hljs-string">\'header\'</span>, <span class="hljs-string">\'hgroup\'</span>, <span class="hljs-string">\'hr\'</span>, <span class="hljs-string">\'html\'</span>, <span class="hljs-string">\'i\'</span>, <span class="hljs-string">\'iframe\'</span>, <span class="hljs-string">\'img\'</span>, <span class="hljs-string">\'input\'</span>, <span class="hljs-string">\'ins\'</span>, <span class="hljs-string">\'isindex\'</span>, <span class="hljs-string">\'kbd\'</span>, <span class="hljs-string">\'keygen\'</span>, <span class="hljs-string">\'label\'</span>,\n  <span class="hljs-string">\'legend\'</span>, <span class="hljs-string">\'li\'</span>, <span class="hljs-string">\'link\'</span>, <span class="hljs-string">\'listing\'</span>, <span class="hljs-string">\'main\'</span>, <span class="hljs-string">\'map\'</span>, <span class="hljs-string">\'mark\'</span>, <span class="hljs-string">\'marquee\'</span>, <span class="hljs-string">\'menu\'</span>, <span class="hljs-string">\'menuitem\'</span>, <span class="hljs-string">\'meta\'</span>, <span class="hljs-string">\'meter\'</span>, <span class="hljs-string">\'nav\'</span>, <span class="hljs-string">\'nobr\'</span>,\n  <span class="hljs-string">\'noframes\'</span>, <span class="hljs-string">\'noscript\'</span>, <span class="hljs-string">\'object\'</span>, <span class="hljs-string">\'ol\'</span>, <span class="hljs-string">\'optgroup\'</span>, <span class="hljs-string">\'option\'</span>, <span class="hljs-string">\'output\'</span>, <span class="hljs-string">\'p\'</span>, <span class="hljs-string">\'param\'</span>, <span class="hljs-string">\'picture\'</span>, <span class="hljs-string">\'polygon\'</span>, <span class="hljs-string">\'path\'</span>, <span class="hljs-string">\'pre\'</span>,\n  <span class="hljs-string">\'progress\'</span>, <span class="hljs-string">\'q\'</span>, <span class="hljs-string">\'rp\'</span>, <span class="hljs-string">\'rt\'</span>, <span class="hljs-string">\'ruby\'</span>, <span class="hljs-string">\'s\'</span>, <span class="hljs-string">\'samp\'</span>, <span class="hljs-string">\'script\'</span>, <span class="hljs-string">\'section\'</span>, <span class="hljs-string">\'select\'</span>, <span class="hljs-string">\'shadow\'</span>, <span class="hljs-string">\'small\'</span>, <span class="hljs-string">\'source\'</span>, <span class="hljs-string">\'spacer\'</span>,\n  <span class="hljs-string">\'span\'</span>, <span class="hljs-string">\'strike\'</span>, <span class="hljs-string">\'strong\'</span>, <span class="hljs-string">\'style\'</span>, <span class="hljs-string">\'sub\'</span>, <span class="hljs-string">\'summary\'</span>, <span class="hljs-string">\'sup\'</span>, <span class="hljs-string">\'svg\'</span>, <span class="hljs-string">\'table\'</span>, <span class="hljs-string">\'tbody\'</span>, <span class="hljs-string">\'td\'</span>, <span class="hljs-string">\'template\'</span>, <span class="hljs-string">\'textarea\'</span>,\n  <span class="hljs-string">\'tfoot\'</span>, <span class="hljs-string">\'th\'</span>, <span class="hljs-string">\'thead\'</span>, <span class="hljs-string">\'time\'</span>, <span class="hljs-string">\'title\'</span>, <span class="hljs-string">\'tr\'</span>, <span class="hljs-string">\'track\'</span>, <span class="hljs-string">\'u\'</span>, <span class="hljs-string">\'ul\'</span>, <span class="hljs-string">\'var\'</span>, <span class="hljs-string">\'video\'</span>, <span class="hljs-string">\'wbr\'</span>, <span class="hljs-string">\'xmp\'</span>, <span class="hljs-string">\'rect\'</span>, <span class="hljs-string">\'image\'</span>,\n  <span class="hljs-string">\'lineargradient\'</span>, <span class="hljs-string">\'stop\'</span>, <span class="hljs-string">\'line\'</span>\n];\n<span class="hljs-keyword">var</span> tagIsComponent = fw.components.tagIsComponent = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tagName, isComponent)</span> </span>{\n  <span class="hljs-keyword">if</span>( isUndefined(isComponent) ) {\n    <span class="hljs-keyword">return</span> indexOf(nonComponentTags, tagName) === -<span class="hljs-number">1</span>;\n  }\n\n  <span class="hljs-keyword">if</span>( isArray(tagName) ) {\n    each(tagName, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tag)</span> </span>{\n      tagIsComponent(tag, isComponent);\n    });\n  }\n\n  <span class="hljs-keyword">if</span>(isComponent !== <span class="hljs-literal">true</span>) {\n    <span class="hljs-keyword">if</span>( contains(nonComponentTags, tagName) === <span class="hljs-literal">false</span> ) {\n      nonComponentTags.push(tagName);\n    }\n  } <span class="hljs-keyword">else</span> {\n    nonComponentTags = filter(nonComponentTags, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(nonComponentTagName)</span> </span>{\n      <span class="hljs-keyword">return</span> nonComponentTagName !== tagName;\n    });\n  }\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-70" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-70">&#182;</a>\r\n          </div>\r\n          <p>Components which footwork will not wrap in the $life custom binding used for lifecycle events\nUsed to keep the wrapper off of internal/natively handled and defined components such as ‘outlet’</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> nativeComponents = [\n  <span class="hljs-string">\'outlet\'</span>\n];\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isNativeComponent</span><span class="hljs-params">(componentName)</span> </span>{\n  <span class="hljs-keyword">return</span> indexOf(nativeComponents, componentName) !== -<span class="hljs-number">1</span>;\n}\n\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">componentTriggerAfterBinding</span><span class="hljs-params">(element, viewModel)</span> </span>{\n  <span class="hljs-keyword">if</span>( isViewModel(viewModel) ) {\n    <span class="hljs-keyword">var</span> configParams = viewModel.__getConfigParams();\n    <span class="hljs-keyword">if</span>( isFunction(configParams.afterBinding) ) {\n      configParams.afterBinding.call(viewModel, element);\n    }\n  }\n}</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-71" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-71">&#182;</a>\r\n          </div>\r\n          <p>Use the $life wrapper binding to provide lifecycle events for components</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>fw.virtualElements.allowedBindings.$life = <span class="hljs-literal">true</span>;\nfw.bindingHandlers.$life = {\n  init: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, valueAccessor, allBindings, viewModel, bindingContext)</span> </span>{\n    fw.utils.domNodeDisposal.addDisposeCallback(element, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n      <span class="hljs-keyword">if</span>( isViewModel(viewModel) ) {\n        viewModel.__shutdown();\n      }\n    });\n  },\n  update: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, valueAccessor, allBindings, viewModel, bindingContext)</span> </span>{\n    <span class="hljs-keyword">var</span> $parent = bindingContext.$parent;\n    <span class="hljs-keyword">if</span>( isObject($parent) &amp;&amp; $parent.__isOutlet ) {\n      $parent.$route().__getOnCompleteCallback()(element.parentElement);\n    } <span class="hljs-keyword">else</span> {\n      componentTriggerAfterBinding(element.parentElement, bindingContext.$data);\n    }\n  }\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-72" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-72">&#182;</a>\r\n          </div>\r\n          <p>Custom loader used to wrap components with the $life custom binding</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> componentWrapperTemplate = <span class="hljs-string">\'&lt;!-- ko $life --&gt;COMPONENT_MARKUP&lt;!-- /ko --&gt;\'</span>;\nfw.components.loaders.unshift( fw.components.componentWrapper = {\n  loadTemplate: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentName, config, callback)</span> </span>{\n    <span class="hljs-keyword">if</span>( !isNativeComponent(componentName) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-73" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-73">&#182;</a>\r\n          </div>\r\n          <p>TODO: Handle different types of configs</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>      <span class="hljs-keyword">if</span>( isString(config) ) {\n        config = componentWrapperTemplate.replace(<span class="hljs-regexp">/COMPONENT_MARKUP/</span>, config);\n      } <span class="hljs-keyword">else</span> {\n        <span class="hljs-keyword">throw</span> <span class="hljs-string">\'Unhandled config type \'</span> + <span class="hljs-keyword">typeof</span> config + <span class="hljs-string">\'.\'</span>;\n      }\n      fw.components.defaultLoader.loadTemplate(componentName, config, callback);\n    } <span class="hljs-keyword">else</span> {\n      callback(<span class="hljs-literal">null</span>);\n    }\n  },\n  loadViewModel: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentName, config, callback)</span> </span>{\n    <span class="hljs-keyword">var</span> ViewModel = config.viewModel || config;\n    <span class="hljs-keyword">if</span>( !isNativeComponent(componentName) ) {\n      callback(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(params, componentInfo)</span> </span>{\n        <span class="hljs-keyword">var</span> $context = fw.contextFor(componentInfo.element);\n        <span class="hljs-keyword">var</span> LoadedViewModel = ViewModel;\n        <span class="hljs-keyword">if</span>( isFunction(ViewModel) ) {\n          <span class="hljs-keyword">if</span>( !isViewModelCtor(ViewModel) ) {\n            ViewModel = makeViewModel({ initialize: ViewModel });\n          }</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-74" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-74">&#182;</a>\r\n          </div>\r\n          <p>inject the context into the ViewModel contructor</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>          LoadedViewModel = ViewModel.compose({\n            _preInit: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n              <span class="hljs-keyword">this</span>.$context = $context;\n            }\n          });\n          <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LoadedViewModel(params);\n        }\n        <span class="hljs-keyword">return</span> LoadedViewModel;\n      });\n    } <span class="hljs-keyword">else</span> {\n      callback(<span class="hljs-literal">null</span>);\n    }\n  }\n});</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-75" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-75">&#182;</a>\r\n          </div>\r\n          <p>The footwork getConfig loader is a catch-all in the instance a registered component cannot be found.\nThe loader will attempt to use requirejs via knockouts integrated support if it is available.</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>fw.components.loaders.push( fw.components.requireLoader = {\n  getConfig: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentName, callback)</span> </span>{\n    <span class="hljs-keyword">var</span> combinedFile = getComponentFileName(componentName, <span class="hljs-string">\'combined\'</span>);\n    <span class="hljs-keyword">var</span> viewModelFile = getComponentFileName(componentName, <span class="hljs-string">\'viewModel\'</span>);\n    <span class="hljs-keyword">var</span> templateFile = getComponentFileName(componentName, <span class="hljs-string">\'template\'</span>);\n    <span class="hljs-keyword">var</span> componentLocation = getComponentResourceLocation(componentName);\n    <span class="hljs-keyword">var</span> configOptions = <span class="hljs-literal">null</span>;\n    <span class="hljs-keyword">var</span> viewModelPath;\n    <span class="hljs-keyword">var</span> templatePath;\n    <span class="hljs-keyword">var</span> combinedPath;\n\n    <span class="hljs-keyword">if</span>( isFunction(<span class="hljs-built_in">require</span>) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-76" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-76">&#182;</a>\r\n          </div>\r\n          <p>load component using knockouts native support for requirejs</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>      <span class="hljs-keyword">if</span>( <span class="hljs-built_in">require</span>.defined(componentName) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-77" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-77">&#182;</a>\r\n          </div>\r\n          <p>component already cached, lets use it</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>        configOptions = {\n          <span class="hljs-built_in">require</span>: componentName\n        };\n      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isString(componentLocation.combined) ) {\n        combinedPath = componentLocation.combined;\n\n        <span class="hljs-keyword">if</span>( isPath(combinedPath) ) {\n          combinedPath = combinedPath + combinedFile;\n        }\n\n        configOptions = {\n          <span class="hljs-built_in">require</span>: combinedPath\n        };\n      } <span class="hljs-keyword">else</span> {\n        viewModelPath = componentLocation.viewModels;\n        templatePath = <span class="hljs-string">\'text!\'</span> + componentLocation.templates;\n\n        <span class="hljs-keyword">if</span>( isPath(viewModelPath) ) {\n          viewModelPath = viewModelPath + viewModelFile;\n        }\n        <span class="hljs-keyword">if</span>( isPath(templatePath) ) {\n          templatePath = templatePath + templateFile;\n        }</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-78" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-78">&#182;</a>\r\n          </div>\r\n          <p>check to see if the requested component is templateOnly and should not request a viewModel (we supply a dummy object in its place)</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>        <span class="hljs-keyword">var</span> viewModelConfig = { <span class="hljs-built_in">require</span>: viewModelPath };\n        <span class="hljs-keyword">if</span>( componentTemplateOnlyRegister[componentName] ) {\n          viewModelConfig = { instance: {} };\n        }\n\n        configOptions = {\n          viewModel: viewModelConfig,\n          template: { <span class="hljs-built_in">require</span>: templatePath }\n        };\n      }\n    }\n\n    callback(configOptions);\n  }\n});\n\n<span class="hljs-keyword">var</span> noParentViewModelError = { getNamespaceName: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">\'NO-VIEWMODEL-IN-CONTEXT\'</span>; } };</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-79" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-79">&#182;</a>\r\n          </div>\r\n          <p>This custom binding binds the outlet element to the $outlet on the router, changes on its ‘route’ (component definition observable) will be applied\nto the UI and load in various views</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>fw.virtualElements.allowedBindings.$bind = <span class="hljs-literal">true</span>;\nfw.bindingHandlers.$bind = {\n  init: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element, valueAccessor, allBindings, outletViewModel, bindingContext)</span> </span>{\n    <span class="hljs-keyword">var</span> $parentViewModel = ( isObject(bindingContext) ? (bindingContext.$parent || noParentViewModelError) : noParentViewModelError);\n    <span class="hljs-keyword">var</span> $parentRouter = nearestParentRouter(bindingContext);\n    <span class="hljs-keyword">var</span> outletName = outletViewModel.outletName;\n\n    <span class="hljs-keyword">if</span>( isRouter($parentRouter) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-80" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-80">&#182;</a>\r\n          </div>\r\n          <p>register this outlet with the router so that updates will propagate correctly\ntake the observable returned and define it on the outletViewModel so that outlet route changes are reflected in the view</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>      outletViewModel.$route = $parentRouter.$outlet( outletName );\n    } <span class="hljs-keyword">else</span> {\n      <span class="hljs-keyword">throw</span> <span class="hljs-string">\'Outlet [\'</span> + outletName + <span class="hljs-string">\'] defined inside of viewModel [\'</span> + $parentViewModel.getNamespaceName() + <span class="hljs-string">\'] but no router was defined.\'</span>;\n    }\n  }\n};\n\nfw.components.register(<span class="hljs-string">\'outlet\'</span>, {\n  autoIncrement: <span class="hljs-literal">true</span>,\n  viewModel: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(params)</span> </span>{\n    <span class="hljs-keyword">this</span>.outletName = fw.unwrap(params.name);\n    <span class="hljs-keyword">this</span>.__isOutlet = <span class="hljs-literal">true</span>;\n  },\n  template: <span class="hljs-string">\'&lt;!-- ko $bind, component: $route --&gt;&lt;!-- /ko --&gt;\'</span>\n});\n\nfw.components.register(<span class="hljs-string">\'_noComponentSelected\'</span>, {\n  viewModel: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(params)</span> </span>{\n    <span class="hljs-keyword">this</span>.__assertPresence = <span class="hljs-literal">false</span>;\n  },\n  template: <span class="hljs-string">\'&lt;div class="no-component-selected"&gt;&lt;/div&gt;\'</span>\n});\n\nfw.components.register(<span class="hljs-string">\'error\'</span>, {\n  viewModel: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(params)</span> </span>{\n    <span class="hljs-keyword">this</span>.message = fw.observable(params.message);\n    <span class="hljs-keyword">this</span>.errors = params.errors;\n    <span class="hljs-keyword">this</span>.__assertPresence = <span class="hljs-literal">false</span>;\n  },\n  template: <span class="hljs-string">\'\\\n    &lt;div class="component error" data-bind="foreach: errors"&gt;\\\n      &lt;div class="error"&gt;\\\n        &lt;span class="number" data-bind="text: $index() + 1"&gt;&lt;/span&gt;\\\n        &lt;span class="message" data-bind="text: $data"&gt;&lt;/span&gt;\\\n      &lt;/div&gt;\\\n    &lt;/div&gt;\'</span>\n});</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-81" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-81">&#182;</a>\r\n          </div>\r\n          <h2 id="resource-js">resource.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-82" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-82">&#182;</a>\r\n          </div>\r\n          \r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-83" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-83">&#182;</a>\r\n          </div>\r\n          <p>component resource section</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> defaultComponentFileExtensions = {\n  combined: <span class="hljs-string">\'.js\'</span>,\n  viewModel: <span class="hljs-string">\'.js\'</span>,\n  template: <span class="hljs-string">\'.html\'</span>\n};\n\n<span class="hljs-keyword">var</span> componentFileExtensions = fw.components.fileExtensions = fw.observable( clone(defaultComponentFileExtensions) );\n\n<span class="hljs-keyword">var</span> getComponentFileName = fw.components.getFileName = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentName, fileType)</span> </span>{\n  <span class="hljs-keyword">var</span> componentExtensions = componentFileExtensions();\n  <span class="hljs-keyword">var</span> fileName = componentName;\n\n  <span class="hljs-keyword">if</span>( isFunction(componentExtensions) ) {\n    fileName += componentExtensions(componentName)[fileType];\n  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isObject(componentExtensions) ) {\n    <span class="hljs-keyword">if</span>( isFunction(componentExtensions[fileType]) ) {\n      fileName += componentExtensions[fileType](componentName);\n    } <span class="hljs-keyword">else</span> {\n      fileName += componentExtensions[fileType] || <span class="hljs-string">\'\'</span>;\n    }\n  }\n\n  <span class="hljs-keyword">return</span> fileName;\n};\n\n<span class="hljs-keyword">var</span> defaultComponentLocation = {\n  combined: <span class="hljs-literal">null</span>,\n  viewModels: <span class="hljs-string">\'/viewModel/\'</span>,\n  templates: <span class="hljs-string">\'/component/\'</span>\n};\n<span class="hljs-keyword">var</span> componentResourceLocations = fw.components.resourceLocations = {};\n<span class="hljs-keyword">var</span> componentDefaultLocation = fw.components.defaultLocation = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(root, updateDefault)</span> </span>{\n  <span class="hljs-keyword">var</span> componentLocation = (isUndefined(updateDefault) || updateDefault === <span class="hljs-literal">true</span>) ? defaultComponentLocation : clone(defaultComponentLocation);\n\n  <span class="hljs-keyword">if</span>( isObject(root) ) {</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-84" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-84">&#182;</a>\r\n          </div>\r\n          <p>assume some combination of defaultComponentLocation and normalize the parameters</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>    extend(componentLocation, reduce(root, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options, paramValue, paramName)</span> </span>{\n      <span class="hljs-keyword">if</span>(paramName === <span class="hljs-string">\'viewModel\'</span>) {\n        options.viewModels = paramValue;\n        <span class="hljs-keyword">delete</span> options.viewModel;\n      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(paramName === <span class="hljs-string">\'template\'</span>) {\n        options.templates = paramValue;\n        <span class="hljs-keyword">delete</span> options.template;\n      } <span class="hljs-keyword">else</span> {\n        options[paramName] = paramValue;\n      }\n      <span class="hljs-keyword">return</span> options;\n    }, {}));\n  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isString(root) ) {\n    componentLocation = {\n      combined: rootURL,\n      viewModels: <span class="hljs-literal">null</span>,\n      templates: <span class="hljs-literal">null</span>\n    };\n  }\n\n  <span class="hljs-keyword">return</span> componentLocation;\n};\n\n<span class="hljs-keyword">var</span> registerLocationOfComponent = fw.components.registerLocation = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentName, componentLocation)</span> </span>{\n  <span class="hljs-keyword">if</span>( isArray(componentName) ) {\n    each(componentName, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(name)</span> </span>{\n      registerLocationOfComponent(name, componentLocation);\n    });\n  }\n  componentResourceLocations[ componentName ] = componentDefaultLocation(componentLocation, <span class="hljs-literal">false</span>);\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-85" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-85">&#182;</a>\r\n          </div>\r\n          <p>Return the component resource definition for the supplied componentName</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> getComponentResourceLocation = fw.components.getResourceLocation = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(componentName)</span> </span>{\n  <span class="hljs-keyword">if</span>( isUndefined(componentName) ) {\n    <span class="hljs-keyword">return</span> componentResourceLocations;\n  }\n  <span class="hljs-keyword">return</span> componentResourceLocations[componentName] || defaultComponentLocation;\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-86" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-86">&#182;</a>\r\n          </div>\r\n          <p>viewModel resource section</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> defaultViewModelFileExtensions = <span class="hljs-string">\'.js\'</span>;\n<span class="hljs-keyword">var</span> viewModelFileExtensions = fw.viewModels.fileExtensions = fw.observable( defaultViewModelFileExtensions );\n\n<span class="hljs-keyword">var</span> getViewModelFileName = fw.viewModels.getFileName = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(viewModelName)</span> </span>{\n  <span class="hljs-keyword">var</span> viewModelExtensions = viewModelFileExtensions();\n  <span class="hljs-keyword">var</span> fileName = viewModelName;\n\n  <span class="hljs-keyword">if</span>( isFunction(viewModelExtensions) ) {\n    fileName += viewModelExtensions(viewModelName);\n  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( isString(viewModelExtensions) ) {\n    fileName += viewModelExtensions;\n  }\n\n  <span class="hljs-keyword">return</span> fileName;\n};\n\n<span class="hljs-keyword">var</span> defaultViewModelLocation = <span class="hljs-string">\'/viewModel/\'</span>;\n<span class="hljs-keyword">var</span> viewModelResourceLocations = fw.viewModels.resourceLocations = {};\n<span class="hljs-keyword">var</span> viewModelDefaultLocation = fw.viewModels.defaultLocation = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(path, updateDefault)</span> </span>{\n  <span class="hljs-keyword">var</span> viewModelLocation = defaultViewModelLocation;\n\n  <span class="hljs-keyword">if</span>( isString(path) ) {\n    viewModelLocation = path;\n  }\n\n  <span class="hljs-keyword">if</span>(updateDefault) {\n    defaultViewModelLocation = viewModelLocation;\n  }\n\n  <span class="hljs-keyword">return</span> viewModelLocation;\n};\n\n<span class="hljs-keyword">var</span> registeredViewModels = {};\n<span class="hljs-keyword">var</span> registerViewModel = fw.viewModels.register = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(viewModelName, viewModel)</span> </span>{\n  registeredViewModels[viewModelName] = viewModel;\n};\n\n<span class="hljs-keyword">var</span> isRegisteredViewModel = fw.viewModels.isRegistered = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(viewModelName)</span> </span>{\n  <span class="hljs-keyword">return</span> !isUndefined( registeredViewModels[viewModelName] );\n};\n\n<span class="hljs-keyword">var</span> getRegisteredViewModel = fw.viewModels.getRegistered = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(viewModelName)</span> </span>{\n  <span class="hljs-keyword">return</span> registeredViewModels[viewModelName];\n};\n\n<span class="hljs-keyword">var</span> registerLocationOfViewModel = fw.viewModels.registerLocation = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(viewModelName, viewModelLocation)</span> </span>{\n  <span class="hljs-keyword">if</span>( isArray(viewModelName) ) {\n    each(viewModelName, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(name)</span> </span>{\n      registerLocationOfViewModel(name, viewModelLocation);\n    });\n  }\n  viewModelResourceLocations[ viewModelName ] = viewModelDefaultLocation(viewModelLocation, <span class="hljs-literal">false</span>);\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-87" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-87">&#182;</a>\r\n          </div>\r\n          <p>Return the viewModel resource definition for the supplied viewModelName</p>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre><span class="hljs-keyword">var</span> getViewModelResourceLocation = fw.viewModels.getResourceLocation = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(viewModelName)</span> </span>{\n  <span class="hljs-keyword">if</span>( isUndefined(viewModelName) ) {\n    <span class="hljs-keyword">return</span> viewModelResourceLocations;\n  }\n  <span class="hljs-keyword">return</span> viewModelResourceLocations[viewModelName] || getComponentResourceLocation(viewModelName).viewModels || defaultViewModelLocation;\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n    \r\n    <li id="section-88" class="section">\r\n        <div class="annotation">\r\n          \r\n          <div class="pilwrap ">\r\n            <a class="pilcrow" href="#section-88">&#182;</a>\r\n          </div>\r\n          <h2 id="extenders-js">extenders.js</h2>\n\r\n          <div class="annotation-bg"></div>\r\n        </div>\r\n        \r\n        <div class="content"><div class=\'highlight\'><pre>\r\nfw.extenders.debounce = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(target, opt)</span> </span>{\r\n  <span class="hljs-keyword">if</span>( isNumber(opt) ) {\r\n    opt = {\r\n      timeout: opt,\r\n      when: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; } <span class="hljs-comment">// default always throttle</span>\r\n    };\r\n  }\r\n\r\n  target.throttleEvaluation = opt.timeout;\r\n\r\n  <span class="hljs-keyword">var</span> writeTimeoutInstance = <span class="hljs-literal">null</span>;\r\n  <span class="hljs-keyword">var</span> throttledTarget = fw.computed({\r\n    <span class="hljs-string">\'read\'</span>: target,\r\n    <span class="hljs-string">\'write\'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value)</span> </span>{\r\n      <span class="hljs-keyword">if</span>( opt.when(value) ) {\r\n        clearTimeout(writeTimeoutInstance);\r\n        writeTimeoutInstance = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n          target(value);\r\n        }, opt.timeout);\r\n      } <span class="hljs-keyword">else</span> {\r\n        clearTimeout(writeTimeoutInstance);\r\n        target(value);\r\n      }\r\n    }\r\n  });\r\n\r\n  throttledTarget.force = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( value )</span> </span>{\r\n    clearTimeout(writeTimeoutInstance);\r\n    target(value);\r\n  };\r\n\r\n  <span class="hljs-keyword">return</span> throttledTarget;\r\n};\r\n\r\nfw.extenders.autoDisable = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( target, delay )</span> </span>{\r\n  <span class="hljs-keyword">return</span> target.extend({\r\n    delayTrigger: {\r\n      delay: delay || <span class="hljs-number">0</span>,\r\n      trigger: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( target )</span> </span>{ target( <span class="hljs-literal">false</span> ); }\r\n    }\r\n  });\r\n};\r\n\r\nfw.extenders.autoEnable = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( target, delay )</span> </span>{\r\n  <span class="hljs-keyword">return</span> target.extend({\r\n    delayTrigger: {\r\n      delay: delay || <span class="hljs-number">0</span>,\r\n      trigger: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( target )</span> </span>{ target( <span class="hljs-literal">true</span> ); }\r\n    }\r\n  });\r\n};\r\n\r\nfw.extenders.delayTrigger = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( target, options )</span> </span>{\r\n  <span class="hljs-keyword">var</span> delay = <span class="hljs-number">300</span>;\r\n  <span class="hljs-keyword">var</span> triggerFunc = noop;\r\n  <span class="hljs-keyword">var</span> trigger;\r\n\r\n  <span class="hljs-keyword">if</span>( isObject(options) ) {\r\n    delay = !<span class="hljs-built_in">isNaN</span>( options.delay ) &amp;&amp; <span class="hljs-built_in">parseInt</span>( options.delay, <span class="hljs-number">10</span> ) || delay;\r\n    triggerFunc = options.trigger || triggerFunc;\r\n  } <span class="hljs-keyword">else</span> {\r\n    delay = !<span class="hljs-built_in">isNaN</span>( options ) &amp;&amp; <span class="hljs-built_in">parseInt</span>( options, <span class="hljs-number">10</span> ) || delay;\r\n  }\r\n\r\n  <span class="hljs-keyword">var</span> clearTrigger = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n    clearTimeout( trigger );\r\n    trigger = <span class="hljs-literal">undefined</span>;\r\n  };\r\n\r\n  <span class="hljs-keyword">var</span> delayedObservable = fw.computed({\r\n    read: target,\r\n    write: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( state )</span> </span>{\r\n      target( state );\r\n\r\n      <span class="hljs-keyword">if</span>( !isUndefined(trigger) ) {\r\n        clearTrigger();\r\n      }\r\n\r\n      trigger = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n        triggerFunc( target, options );\r\n      }.bind(target), delayedObservable.triggerDelay);\r\n    }\r\n  });\r\n  delayedObservable.clearTrigger = clearTrigger;\r\n  delayedObservable.triggerDelay = delay;\r\n\r\n  <span class="hljs-keyword">return</span> delayedObservable;\r\n};\r\n\r\nfw.extenders.delayWrite = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( target, options )</span> </span>{\r\n  <span class="hljs-keyword">var</span> filter;\r\n  <span class="hljs-keyword">var</span> delay = <span class="hljs-number">300</span>;\r\n\r\n  <span class="hljs-keyword">if</span>( isObject(options) ) {\r\n    delay = !<span class="hljs-built_in">isNaN</span>( options.delay ) &amp;&amp; <span class="hljs-built_in">parseInt</span>( options.delay, <span class="hljs-number">10</span> ) || delay;\r\n    filter = options.filter || <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; };\r\n  } <span class="hljs-keyword">else</span> {\r\n    delay = !<span class="hljs-built_in">isNaN</span>( options ) &amp;&amp; <span class="hljs-built_in">parseInt</span>( options, <span class="hljs-number">10</span> ) || delay;\r\n  }\r\n\r\n  <span class="hljs-keyword">return</span> fw.computed({\r\n    read: target,\r\n    write: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( writeValue )</span> </span>{\r\n      <span class="hljs-keyword">if</span>( filter( writeValue ) ) {\r\n        <span class="hljs-keyword">if</span>(target._delayWriteTimer) {\r\n          clearTimeout( <span class="hljs-keyword">this</span>._delayWriteTimer );\r\n        }\r\n        target._delayWriteTimer = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\r\n          target( writeValue );\r\n        }, delay);\r\n      } <span class="hljs-keyword">else</span> {\r\n        target( writeValue );\r\n      }\r\n    }\r\n  });\r\n};</pre></div></div>\r\n        \r\n    </li>\r\n    \r\n</ul><div id="metaData">\r\n{\r\n  "title": "Annotated Source",\r\n  "sections": [\r\n    { "anchor": "main-js", "title": "main.js" },\r\n    { "anchor": "namespace-js", "title": "namespace.js" },\r\n    { "anchor": "broadcast-receive-js", "title": "broadcast-receive.js" },\r\n    { "anchor": "router-js", "title": "router.js" },\r\n    { "anchor": "viewmodel-js", "title": "viewModel.js" },\r\n    { "anchor": "component-js", "title": "component.js" },\r\n    { "anchor": "extenders-js", "title": "extenders.js" }\r\n  ],\r\n  "anchorOffset": 60\r\n}\r\n</div>'
}),define("text!../../pages/api-viewModel-page.html",[],function(){return"viewModel.html"}),define("resourceHelper",["footwork","app/viewModel/Contributors","text!app/template/contributors.html","text!app/template/showversion.html","app/viewModel/Releases","text!app/template/releases.html","app/viewModel/config/Configuration","text!app/template/config/configuration.html","app/viewModel/config/ConfigManagement","text!app/template/config/configmanagement.html","app/viewModel/config/LayoutControl","text!app/template/config/layoutcontrol.html","app/viewModel/Pane","text!app/template/pane.html","app/viewModel/pane/PaneLinks","text!app/template/pane/panelinks.html","app/viewModel/NavMenu","text!app/template/navmenu.html","app/viewModel/pane/PageSections","text!app/template/pane/pagesections.html","app/viewModel/pane/PaneBackground","text!app/template/pane/panebackground.html","app/viewModel/Header","app/viewModel/Navigation","app/viewModel/Footer","app/viewModel/BuildInfo","text!../../pages/index-page.html","text!../../pages/not-found-page.html","text!../../pages/build-page.html","text!../../pages/annotated-page.html","text!../../pages/api-viewModel-page.html"],function(e,n,t,s,a,r,i,o,l,c,p,u,d,h,f,m,v,g,b,y,w,j,k,x,M,C,S,N,T,P,_){return function(){e.components.register("index-page",{template:S}),e.components.register("not-found-page",{template:N}),e.components.register("build-info-page",{template:T}),e.components.register("annotated-page",{template:P}),e.components.register("api-viewModel-page",{template:_}),e.components.register("showversion",{viewModel:C,template:s}),e.components.register("releases",{viewModel:a,template:r}),e.components.register("contributors",{viewModel:n,template:t}),e.components.register("configuration",{viewModel:i,template:o}),e.components.register("configmanagement",{viewModel:l,template:c}),e.components.register("layoutcontrol",{viewModel:p,template:u}),e.components.register("pane",{viewModel:d,template:h}),e.components.register("panelinks",{viewModel:f,template:m}),e.components.register("navmenu",{viewModel:v,template:g}),e.components.register("pagesections",{viewModel:b,template:y}),e.components.register("panebackground",{viewModel:w,template:j}),e.viewModels.register("Header",k),e.viewModels.register("Navigation",x),e.viewModels.register("Footer",M),e.viewModels.register("BuildInfo",C)}}),function(e,n){var t=e.History=e.History||{};if("undefined"!=typeof t.Adapter)throw new Error("History.js Adapter has already been loaded...");t.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=t.Adapter._uid++)},bind:function(e,n,s){var a=t.Adapter.uid(e);t.Adapter.handlers[a]=t.Adapter.handlers[a]||{},t.Adapter.handlers[a][n]=t.Adapter.handlers[a][n]||[],t.Adapter.handlers[a][n].push(s),e["on"+n]=function(e,n){return function(s){t.Adapter.trigger(e,n,s)}}(e,n)},trigger:function(e,n,s){s=s||{};var a,r,i=t.Adapter.uid(e);for(t.Adapter.handlers[i]=t.Adapter.handlers[i]||{},t.Adapter.handlers[i][n]=t.Adapter.handlers[i][n]||[],a=0,r=t.Adapter.handlers[i][n].length;r>a;++a)t.Adapter.handlers[i][n][a].apply(this,[s])},extractEventData:function(e,t){var s=t&&t[e]||n;return s},onDomLoad:function(n){var t=e.setTimeout(function(){n()},2e3);e.onload=function(){clearTimeout(t),n()}}},"undefined"!=typeof t.init&&t.init()}(window),function(e,n){var t=e.console||n,s=e.document,a=e.navigator,r=e.sessionStorage||!1,i=e.setTimeout,o=e.clearTimeout,l=e.setInterval,c=e.clearInterval,p=e.JSON,u=e.alert,d=e.History=e.History||{},h=e.history;try{r.setItem("TEST","1"),r.removeItem("TEST")}catch(f){r=!1}if(p.stringify=p.stringify||p.encode,p.parse=p.parse||p.decode,"undefined"!=typeof d.init)throw new Error("History.js Core has already been loaded...");d.init=function(){return"undefined"==typeof d.Adapter?!1:("undefined"!=typeof d.initCore&&d.initCore(),"undefined"!=typeof d.initHtml4&&d.initHtml4(),!0)},d.initCore=function(){if("undefined"!=typeof d.initCore.initialized)return!1;if(d.initCore.initialized=!0,d.options=d.options||{},d.options.hashChangeInterval=d.options.hashChangeInterval||100,d.options.safariPollInterval=d.options.safariPollInterval||500,d.options.doubleCheckInterval=d.options.doubleCheckInterval||500,d.options.disableSuid=d.options.disableSuid||!1,d.options.storeInterval=d.options.storeInterval||1e3,d.options.busyDelay=d.options.busyDelay||250,d.options.debug=d.options.debug||!1,d.options.initialTitle=d.options.initialTitle||s.title,d.options.html4Mode=d.options.html4Mode||!1,d.options.delayInit=d.options.delayInit||!1,d.intervalList=[],d.clearAllIntervals=function(){var e,n=d.intervalList;if("undefined"!=typeof n&&null!==n){for(e=0;e<n.length;e++)c(n[e]);d.intervalList=null}},d.debug=function(){(d.options.debug||!1)&&d.log.apply(d,arguments)},d.log=function(){var e,n,a,r,i,o="undefined"!=typeof t&&"undefined"!=typeof t.log&&"undefined"!=typeof t.log.apply,l=s.getElementById("log");for(o?(r=Array.prototype.slice.call(arguments),e=r.shift(),"undefined"!=typeof t.debug?t.debug.apply(t,[e,r]):t.log.apply(t,[e,r])):e="\n"+arguments[0]+"\n",n=1,a=arguments.length;a>n;++n){if(i=arguments[n],"object"==typeof i&&"undefined"!=typeof p)try{i=p.stringify(i)}catch(c){}e+="\n"+i+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):o||u(e),!0},d.getInternetExplorerMajorVersion=function(){var e=d.getInternetExplorerMajorVersion.cached="undefined"!=typeof d.getInternetExplorerMajorVersion.cached?d.getInternetExplorerMajorVersion.cached:function(){for(var e=3,n=s.createElement("div"),t=n.getElementsByTagName("i");(n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&t[0];);return e>4?e:!1}();return e},d.isInternetExplorer=function(){var e=d.isInternetExplorer.cached="undefined"!=typeof d.isInternetExplorer.cached?d.isInternetExplorer.cached:Boolean(d.getInternetExplorerMajorVersion());return e},d.emulated=d.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(a.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(a.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in s)||d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8)},d.enabled=!d.emulated.pushState,d.bugs={setHash:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),safariPoll:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),ieDoubleCheck:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<7)},d.isEmptyObject=function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},d.cloneObject=function(e){var n,t;return e?(n=p.stringify(e),t=p.parse(n)):t={},t},d.getRootUrl=function(){var e=s.location.protocol+"//"+(s.location.hostname||s.location.host);return s.location.port&&(e+=":"+s.location.port),e+="/"},d.getBaseHref=function(){var e=s.getElementsByTagName("base"),n=null,t="";return 1===e.length&&(n=e[0],t=n.href.replace(/[^\/]+$/,"")),t=t.replace(/\/+$/,""),t&&(t+="/"),t},d.getBaseUrl=function(){var e=d.getBaseHref()||d.getBasePageUrl()||d.getRootUrl();return e},d.getPageUrl=function(){var e,n=d.getState(!1,!1),t=(n||{}).url||d.getLocationHref();return e=t.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},d.getBasePageUrl=function(){var e=d.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},d.getFullUrl=function(e,n){var t=e,s=e.substring(0,1);return n="undefined"==typeof n?!0:n,/[a-z]+\:\/\//.test(e)||(t="/"===s?d.getRootUrl()+e.replace(/^\/+/,""):"#"===s?d.getPageUrl().replace(/#.*/,"")+e:"?"===s?d.getPageUrl().replace(/[\?#].*/,"")+e:n?d.getBaseUrl()+e.replace(/^(\.\/)+/,""):d.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),t.replace(/\#$/,"")},d.getShortUrl=function(e){var n=e,t=d.getBaseUrl(),s=d.getRootUrl();return d.emulated.pushState&&(n=n.replace(t,"")),n=n.replace(s,"/"),d.isTraditionalAnchor(n)&&(n="./"+n),n=n.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},d.getLocationHref=function(e){return e=e||s,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},d.store={},d.idToState=d.idToState||{},d.stateToId=d.stateToId||{},d.urlToId=d.urlToId||{},d.storedStates=d.storedStates||[],d.savedStates=d.savedStates||[],d.normalizeStore=function(){d.store.idToState=d.store.idToState||{},d.store.urlToId=d.store.urlToId||{},d.store.stateToId=d.store.stateToId||{}},d.getState=function(e,n){"undefined"==typeof e&&(e=!0),"undefined"==typeof n&&(n=!0);var t=d.getLastSavedState();return!t&&n&&(t=d.createStateObject()),e&&(t=d.cloneObject(t),t.url=t.cleanUrl||t.url),t},d.getIdByState=function(e){var n,t=d.extractId(e.url);if(!t)if(n=d.getStateString(e),"undefined"!=typeof d.stateToId[n])t=d.stateToId[n];else if("undefined"!=typeof d.store.stateToId[n])t=d.store.stateToId[n];else{for(;t=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof d.idToState[t]||"undefined"!=typeof d.store.idToState[t];);d.stateToId[n]=t,d.idToState[t]=e}return t},d.normalizeState=function(e){var n,t;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),n={},n.normalized=!0,n.title=e.title||"",n.url=d.getFullUrl(e.url?e.url:d.getLocationHref()),n.hash=d.getShortUrl(n.url),n.data=d.cloneObject(e.data),n.id=d.getIdByState(n),n.cleanUrl=n.url.replace(/\??\&_suid.*/,""),n.url=n.cleanUrl,t=!d.isEmptyObject(n.data),(n.title||t)&&d.options.disableSuid!==!0&&(n.hash=d.getShortUrl(n.url).replace(/\??\&_suid.*/,""),/\?/.test(n.hash)||(n.hash+="?"),n.hash+="&_suid="+n.id),n.hashedUrl=d.getFullUrl(n.hash),(d.emulated.pushState||d.bugs.safariPoll)&&d.hasUrlDuplicate(n)&&(n.url=n.hashedUrl),n)},d.createStateObject=function(e,n,t){var s={data:e,title:n,url:t};return s=d.normalizeState(s)},d.getStateById=function(e){e=String(e);var t=d.idToState[e]||d.store.idToState[e]||n;return t},d.getStateString=function(e){var n,t,s;return n=d.normalizeState(e),t={data:n.data,title:e.title,url:e.url},s=p.stringify(t)},d.getStateId=function(e){var n,t;return n=d.normalizeState(e),t=n.id},d.getHashByState=function(e){var n,t;return n=d.normalizeState(e),t=n.hash},d.extractId=function(e){var n,t,s,a;return a=-1!=e.indexOf("#")?e.split("#")[0]:e,t=/(.*)\&_suid=([0-9]+)$/.exec(a),s=t?t[1]||e:e,n=t?String(t[2]||""):"",n||!1},d.isTraditionalAnchor=function(e){var n=!/[\/\?\.]/.test(e);return n},d.extractState=function(e,n){var t,s,a=null;return n=n||!1,t=d.extractId(e),t&&(a=d.getStateById(t)),a||(s=d.getFullUrl(e),t=d.getIdByUrl(s)||!1,t&&(a=d.getStateById(t)),!a&&n&&!d.isTraditionalAnchor(e)&&(a=d.createStateObject(null,null,s))),a},d.getIdByUrl=function(e){var t=d.urlToId[e]||d.store.urlToId[e]||n;return t},d.getLastSavedState=function(){return d.savedStates[d.savedStates.length-1]||n},d.getLastStoredState=function(){return d.storedStates[d.storedStates.length-1]||n},d.hasUrlDuplicate=function(e){var n,t=!1;return n=d.extractState(e.url),t=n&&n.id!==e.id},d.storeState=function(e){return d.urlToId[e.url]=e.id,d.storedStates.push(d.cloneObject(e)),e},d.isLastSavedState=function(e){var n,t,s,a=!1;return d.savedStates.length&&(n=e.id,t=d.getLastSavedState(),s=t.id,a=n===s),a},d.saveState=function(e){return d.isLastSavedState(e)?!1:(d.savedStates.push(d.cloneObject(e)),!0)},d.getStateByIndex=function(e){var n=null;return n="undefined"==typeof e?d.savedStates[d.savedStates.length-1]:0>e?d.savedStates[d.savedStates.length+e]:d.savedStates[e]},d.getCurrentIndex=function(){var e=null;return e=d.savedStates.length<1?0:d.savedStates.length-1},d.getHash=function(e){var n,t=d.getLocationHref(e);return n=d.getHashByUrl(t)},d.unescapeHash=function(e){var n=d.normalizeHash(e);return n=decodeURIComponent(n)},d.normalizeHash=function(e){var n=e.replace(/[^#]*#/,"").replace(/#.*/,"");return n},d.setHash=function(e,n){var t,a;return n!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.setHash,args:arguments,queue:n}),!1):(d.busy(!0),t=d.extractState(e,!0),t&&!d.emulated.pushState?d.pushState(t.data,t.title,t.url,!1):d.getHash()!==e&&(d.bugs.setHash?(a=d.getPageUrl(),d.pushState(null,null,a+"#"+e,!1)):s.location.hash=e),d)},d.escapeHash=function(n){var t=d.normalizeHash(n);return t=e.encodeURIComponent(t),d.bugs.hashEscape||(t=t.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),t},d.getHashByUrl=function(e){var n=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return n=d.unescapeHash(n)},d.setTitle=function(e){var n,t=e.title;t||(n=d.getStateByIndex(0),n&&n.url===e.url&&(t=n.title||d.options.initialTitle));try{s.getElementsByTagName("title")[0].innerHTML=t.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(a){}return s.title=t,d},d.queues=[],d.busy=function(e){if("undefined"!=typeof e?d.busy.flag=e:"undefined"==typeof d.busy.flag&&(d.busy.flag=!1),!d.busy.flag){o(d.busy.timeout);var n=function(){var e,t,s;if(!d.busy.flag)for(e=d.queues.length-1;e>=0;--e)t=d.queues[e],0!==t.length&&(s=t.shift(),d.fireQueueItem(s),d.busy.timeout=i(n,d.options.busyDelay))};d.busy.timeout=i(n,d.options.busyDelay)}return d.busy.flag},d.busy.flag=!1,d.fireQueueItem=function(e){return e.callback.apply(e.scope||d,e.args||[])},d.pushQueue=function(e){return d.queues[e.queue||0]=d.queues[e.queue||0]||[],d.queues[e.queue||0].push(e),d},d.queue=function(e,n){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof n&&(e.queue=n),d.busy()?d.pushQueue(e):d.fireQueueItem(e),d},d.clearQueue=function(){return d.busy.flag=!1,d.queues=[],d},d.stateChanged=!1,d.doubleChecker=!1,d.doubleCheckComplete=function(){return d.stateChanged=!0,d.doubleCheckClear(),d},d.doubleCheckClear=function(){return d.doubleChecker&&(o(d.doubleChecker),d.doubleChecker=!1),d},d.doubleCheck=function(e){return d.stateChanged=!1,d.doubleCheckClear(),d.bugs.ieDoubleCheck&&(d.doubleChecker=i(function(){return d.doubleCheckClear(),d.stateChanged||e(),!0},d.options.doubleCheckInterval)),d},d.safariStatePoll=function(){var n,t=d.extractState(d.getLocationHref());return d.isLastSavedState(t)?void 0:(n=t,n||(n=d.createStateObject()),d.Adapter.trigger(e,"popstate"),d)},d.back=function(e){return e!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.back,args:arguments,queue:e}),!1):(d.busy(!0),d.doubleCheck(function(){d.back(!1)}),h.go(-1),!0)},d.forward=function(e){return e!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.forward,args:arguments,queue:e}),!1):(d.busy(!0),d.doubleCheck(function(){d.forward(!1)}),h.go(1),!0)},d.go=function(e,n){var t;if(e>0)for(t=1;e>=t;++t)d.forward(n);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(t=-1;t>=e;--t)d.back(n)}return d},d.emulated.pushState){var f=function(){};d.pushState=d.pushState||f,d.replaceState=d.replaceState||f}else d.onPopState=function(n,t){var s,a,r=!1,i=!1;return d.doubleCheckComplete(),s=d.getHash(),s?(a=d.extractState(s||d.getLocationHref(),!0),a?d.replaceState(a.data,a.title,a.url,!1):(d.Adapter.trigger(e,"anchorchange"),d.busy(!1)),d.expectedStateId=!1,!1):(r=d.Adapter.extractEventData("state",n,t)||!1,i=r?d.getStateById(r):d.expectedStateId?d.getStateById(d.expectedStateId):d.extractState(d.getLocationHref()),i||(i=d.createStateObject(null,null,d.getLocationHref())),d.expectedStateId=!1,d.isLastSavedState(i)?(d.busy(!1),!1):(d.storeState(i),d.saveState(i),d.setTitle(i),d.Adapter.trigger(e,"statechange"),d.busy(!1),!0))},d.Adapter.bind(e,"popstate",d.onPopState),d.pushState=function(n,t,s,a){if(d.getHashByUrl(s)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:a}),!1;d.busy(!0);var r=d.createStateObject(n,t,s);return d.isLastSavedState(r)?d.busy(!1):(d.storeState(r),d.expectedStateId=r.id,h.pushState(r.id,r.title,r.url),d.Adapter.trigger(e,"popstate")),!0},d.replaceState=function(n,t,s,a){if(d.getHashByUrl(s)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:a}),!1;d.busy(!0);var r=d.createStateObject(n,t,s);return d.isLastSavedState(r)?d.busy(!1):(d.storeState(r),d.expectedStateId=r.id,h.replaceState(r.id,r.title,r.url),d.Adapter.trigger(e,"popstate")),!0};if(r){try{d.store=p.parse(r.getItem("History.store"))||{}}catch(m){d.store={}}d.normalizeStore()}else d.store={},d.normalizeStore();d.Adapter.bind(e,"unload",d.clearAllIntervals),d.saveState(d.storeState(d.extractState(d.getLocationHref(),!0))),r&&(d.onUnload=function(){var e,n,t;try{e=p.parse(r.getItem("History.store"))||{}}catch(s){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(n in d.idToState)d.idToState.hasOwnProperty(n)&&(e.idToState[n]=d.idToState[n]);for(n in d.urlToId)d.urlToId.hasOwnProperty(n)&&(e.urlToId[n]=d.urlToId[n]);for(n in d.stateToId)d.stateToId.hasOwnProperty(n)&&(e.stateToId[n]=d.stateToId[n]);d.store=e,d.normalizeStore(),t=p.stringify(e);try{r.setItem("History.store",t)}catch(a){if(a.code!==DOMException.QUOTA_EXCEEDED_ERR)throw a;r.length&&(r.removeItem("History.store"),r.setItem("History.store",t))}},d.intervalList.push(l(d.onUnload,d.options.storeInterval)),d.Adapter.bind(e,"beforeunload",d.onUnload),d.Adapter.bind(e,"unload",d.onUnload)),d.emulated.pushState||(d.bugs.safariPoll&&d.intervalList.push(l(d.safariStatePoll,d.options.safariPollInterval)),("Apple Computer, Inc."===a.vendor||"Mozilla"===(a.appCodeName||""))&&(d.Adapter.bind(e,"hashchange",function(){d.Adapter.trigger(e,"popstate")}),d.getHash()&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(e,"hashchange")})))},(!d.options||!d.options.delayInit)&&d.init()}(window),define("history",function(){}),define("Page",["jquery","lodash","footwork","history"],function(e,n,t){return t.viewModel({namespace:"Page",initialize:function(){this.$pageSections=t.namespace("PageSections"),this.defaultTitle=t.observable("staticty.pe"),this.transitionsEnabled=t.observable(!1).receiveFrom("ViewPort","transitionsEnabled"),this.scrollPosition=t.observable().receiveFrom("ViewPort","scrollPosition"),this.maxScrollResetPosition=t.observable().receiveFrom("ViewPort","maxScrollResetPosition"),this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.shortTitle=t.observable().broadcastAs("shortTitle",!0),this.baseURL=t.observable().broadcastAs("baseURL"),this.hashURL=t.observable().broadcastAs("hashURL",!0),this.loadPageMeta=function(t){n.isUndefined(t)||(this.$pageSections.publish("pageMetaData",t),e=t,this.shortTitle(t.title))}.bind(this),this.$namespace.subscribe("initMeta",function(e){this.loadPageMeta(e)}).withContext(this);var e;this.$namespace.request.handler("metaData",function(){return e})}})}),define("router",["jquery","footwork","lodash"],function(e,n,t){function s(e){i.publish("initMeta",e)}function a(){var n=e.Deferred();return u(!0),n.done(function(e){var n=p();e.length&&(e=JSON.parse(e),s(e)),"mobile"!==d()&&l.publish("hideAll"),c()>n&&window.scrollTo(0,n),location.hash.length&&o.publish("scrollToSection",location.hash.slice(location.hash.indexOf("#")+1)),u(!1)}),i.publish("loadingPage",n),n}function r(n){n.resolve(e("#metaData").text())}var i=n.namespace("Page"),o=n.namespace("PageSection"),l=n.namespace("PaneElements"),c=n.observable().receiveFrom("ViewPort","scrollPosition"),p=n.observable().receiveFrom("ViewPort","maxScrollResetPosition"),u=n.observable().broadcastAs({name:"pageLoading",namespace:"mainRouter"}),d=n.observable().receiveFrom("ViewPort","layoutMode");return{relativeToParent:!1,routes:[{route:"/",title:"footworkjs",controller:function(){this.$outlet("mainContent","index-page",t.bind(r,this,a()))}},{route:"/annotated",title:"footworkjs - Annotated Source",controller:function(){this.$outlet("mainContent","annotated-page",t.bind(r,this,a()))}},{route:"/blog",title:"blog - staticty.pe",controller:function(){this.$outlet("mainContent","blog-page",t.bind(r,this,a()))}},{route:"/code",title:"Code Page",controller:function(){this.$outlet("mainContent","code-page",t.bind(r,this,a()))}},{route:"/code/floaties.js",title:"floaties.js - staticty.pe",controller:function(){this.$outlet("mainContent","floaties-page",t.bind(r,this,a()))}},{route:"/code/stylesheet.js",title:"stylesheet.js - staticty.pe",controller:function(){this.$outlet("mainContent","stylesheet-page",t.bind(r,this,a()))}},{route:"/code/proximity.js",title:"proximity.js - staticty.pe",controller:function(){this.$outlet("mainContent","proximity-page",t.bind(r,this,a()))}}],unknownRoute:function(){this.$outlet("mainContent","not-found-page",t.bind(r,this,a()))}}}),define("Body",["footwork","lodash","router"],function(e,n,t){return e.viewModel({namespace:"Body",router:t,afterBinding:function(){this.initialized(!0)},initialize:function(){this.$globalNamespace.request("isRunningLocally")&&this.$router.setState("/"),this.initialized=e.observable(!1),this.configIsInitialized=e.observable(!1).receiveFrom("Configuration","initialized"),this.configVisible=e.observable().receiveFrom("Configuration","visible"),this.configReflowing=e.observable().receiveFrom("Configuration","reflowing"),this.paneAccentPadding=e.observable().receiveFrom("Configuration","paneAccentPadding"),this.paneMinWidth=e.observable().receiveFrom("Configuration","paneMinWidth"),this.transitionsEnabled=e.observable(!1).receiveFrom("ViewPort","transitionsEnabled"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortIsTablet=e.observable().receiveFrom("ViewPort","isTablet"),this.viewPortSmall=e.observable().receiveFrom("ViewPort","isSmall"),this.viewPortDim=e.observable().receiveFrom("ViewPort","dimensions"),this.scrollPosition=e.observable().receiveFrom("ViewPort","scrollPosition"),this.maxScrollResetPosition=e.observable().receiveFrom("ViewPort","maxScrollResetPosition"),this.viewPortHas3dTransforms=e.observable(!0).receiveFrom("ViewPort","has3dTransforms"),this.mainContentTopOffset=e.observable(0).receiveFrom("Header","height"),this.visibleHeaderHeight=e.observable(0).receiveFrom("Header","visibleHeight"),this.headerHeight=e.observable(0).receiveFrom("Header","height"),this.headerReflowing=e.observable(!1).receiveFrom("Header","reflowing"),this.headerMoving=e.observable(!1).receiveFrom("Header","moving"),this.headerTopOffset=e.observable().receiveFrom("Header","topOffset"),this.headerClosed=e.observable().receiveFrom("Header","closed"),this.visibleFooterHeight=e.observable(0).receiveFrom("Footer","visibleHeight"),this.footerHeight=e.observable(0).receiveFrom("Footer","height"),this.transform=e.observable().receiveFrom("Pane","transform"),this.paneWidth=e.observable(0).receiveFrom("Pane","width"),this.narrowPane=e.observable(!1).receiveFrom("Pane","narrow"),this.paneCollapsed=e.observable(!1).receiveFrom("Configuration","paneCollapsed"),this.paneMoving=e.observable(!1).receiveFrom("Pane","moving"),this.paneAnimate3d=e.observable(!1).receiveFrom("Pane","animate3d"),this.paneDragging=e.observable(!1).receiveFrom("Pane","dragging"),this.paneDragOffset=e.observable(0).receiveFrom("Pane","dragOffset"),this.paneTransition=e.observable(void 0).receiveFrom("Pane","transition"),this.pageLoading=e.observable().receiveFrom("mainRouter","pageLoading"),this.paneColumnWidth=e.observable().receiveFrom("Pane","columnWidth"),this.controlEnabled=e.observable(!1).receiveFrom("LayoutControl","enabled"),this.currentControl=e.observable().receiveFrom("LayoutControl","currentControl"),this.$paneTouchManagerNamespace=e.namespace("PaneTouchManager"),this.width=e.computed(function(){return"object"==typeof this.viewPortDim()?this.viewPortDim().width-this.paneWidth()+"px":"0px"},this).broadcastAs("width"),this.overlapPane=e.computed(function(){return this.viewPortSmall()||"mobile"===this.viewPortLayoutMode()},this).broadcastAs("overlapPane"),this.height=e.observable().broadcastAs("height",!0),this.bodyState=e.computed(function(){var e=this.currentControl();return this.viewPortLayoutMode()+(e?" "+e+"-control":"")},this),this.isSmallViewport=e.computed(function(){return parseInt(this.paneColumnWidth(),10)<parseInt(this.paneMinWidth(),10)},this),this.transitionsDisabled=e.computed(function(){return this.configIsInitialized()===!1||this.transitionsEnabled()===!1},this),this.layoutTransitionsDisabled=e.computed(function(){return this.transitionsDisabled()||this.controlEnabled()||this.configReflowing()},this),this.isMobile=e.computed(function(){return"mobile"===this.viewPortLayoutMode()},this),this.isTablet=e.computed(function(){return this.viewPortIsTablet()},this),this.mainContentOffset=e.computed(function(){return parseInt(this.paneWidth(),10)+"px"},this),this.calculatedOffset=e.computed(function(){var e=parseInt(this.paneWidth(),10);return this.paneCollapsed()===!0&&(e=parseInt(this.paneAccentPadding(),10)),this.paneDragging()===!0&&(e-=this.paneDragOffset()),e},this),this.leftOffset=e.computed(function(){return this.paneAnimate3d()===!1?this.calculatedOffset()+"px":"0px"},this),this.topOffset=e.computed(function(){return this.headerClosed()?"0px":parseInt(this.visibleHeaderHeight(),10)+"px"},this),this.transform=e.computed(function(){var e=0;return this.paneAnimate3d()===!0&&(e=this.calculatedOffset()),"translate3d("+e+"px,0px,0px)"},this),this.minHeight=e.computed(function(){var e,n=this.scrollPosition(),t=this.maxScrollResetPosition(),s=this.viewPortDim();return parseInt(this.visibleHeaderHeight(),10)===parseInt(this.headerHeight(),10)&&parseInt(this.visibleFooterHeight(),10)===parseInt(this.footerHeight(),10)?"":(s&&(e=n>=t?s.height+t:s.height+n,e+="px"),e)},this),this.minHeight.extend({throttle:150}).subscribe(function(){this.$globalNamespace.publish("refreshDocSize")},this),this.uiState=e.computed(function(){return{initialized:this.initialized(),loading:this.pageLoading(),tablet:this.isTablet(),narrow:this.narrowPane(),verySmall:this.isSmallViewport(),collapsed:this.paneCollapsed(),paneMoving:this.paneMoving(),overlapPane:this.overlapPane(),headerMoving:this.headerMoving(),headerReflowing:this.headerReflowing(),transitionsDisabled:this.transitionsDisabled(),layoutTransitionsDisabled:this.layoutTransitionsDisabled()}},this),this.bodyClick=function(){return this.$globalNamespace.publish("clear"),!0},this.togglePaneCollapse=function(){(n.isUndefined(this.$paneTouchManagerNamespace.request("ping"))||!this.isMobile())&&this.paneCollapsed(!this.paneCollapsed())}.bind(this),this.$namespace.subscribe("togglePane",this.togglePaneCollapse),this.$router.$outlet("mainContent").subscribe(function(){this.overlapPane()===!0&&this.paneCollapsed()===!1&&this.paneCollapsed(!0)}.bind(this))}})}),define("ViewPort",["jquery","lodash","footwork"],function(e,n,t){return t.viewModel({namespace:"ViewPort",initialize:function(){t.observable().receiveFrom("Configuration","initialized").subscribe(function(e){e===!0&&setTimeout(function(){this.initialLoad(!1)}.bind(this))},this),this.configTransitionsEnabled=t.observable().receiveFrom("Configuration","transitionsEnabled"),this.paneAccentPadding=t.observable().receiveFrom("Configuration","paneAccentPadding"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed"),this.configIsMobile=t.observable().receiveFrom("Configuration","isMobile"),this.visible=t.observable(!1).receiveFrom("Configuration","visible"),this.mobileWidthCutoff=t.observable(0).receiveFrom("Configuration","mobileWidthCutoff"),this.headerHeight=t.observable().receiveFrom("Header","height"),this.headerMinHeight=t.observable().receiveFrom("Header","minHeight"),this.currentSelection=t.observable().receiveFrom("PaneLinks","currentSelection"),this.resizing=t.observable(!1).extend({autoDisable:200}).broadcastAs("resizing"),this.initialLoad=t.observable(!0).broadcastAs("initialLoad"),this.scrolling=t.observable(!1).extend({autoDisable:100}).broadcastAs("scrolling"),this.scrollPosition=t.observable(0).broadcastAs("scrollPosition",!0),this.dimensions=t.observable({width:null,height:null}).extend({write:function(e,n){this.resizing(!0),e(n),this.$globalNamespace.publish("refreshDocSize")}.bind(this)}).broadcastAs("dimensions",!0),this.isTablet=t.observable(window.isTablet).broadcastAs("isTablet",!0),this.forceMobileLayout=t.computed(function(){return(this.dimensions().width||9e3)<this.mobileWidthCutoff()},this).broadcastAs("forceMobileLayout"),this.isMobile=t.computed(function(){return this.configIsMobile()||this.forceMobileLayout()},this).broadcastAs("isMobile"),this.noTransitions=t.observable(!1).broadcastAs("noTransitions",!0),this.closedOffset=t.computed(function(){return this.dimensions().width-2*parseInt(this.paneAccentPadding(),10)},this).broadcastAs("closedOffset"),this.openOffset=t.computed(function(){return-1*this.closedOffset()},this).broadcastAs("openOffset"),this.bottomScrollPosition=t.computed(function(){return this.scrollPosition()+this.dimensions().height},this).broadcastAs("bottomScrollPosition"),this.has3dTransforms=t.observable(window.Modernizr.csstransforms3d).broadcastAs("has3dTransforms"),this.layoutMode=t.computed(function(){return this.isMobile()?"mobile":this.isTablet()?"tablet":"desktop"},this).broadcastAs("layoutMode");var e=!1;this.isMobile.subscribe(function(n){e&&!n?("NavMenu"===this.currentSelection()&&this.currentSelection("PageSections"),this.paneCollapsed()===!1&&this.paneCollapsed(!0)):!e&&n&&(this.paneCollapsed()===!1&&this.paneCollapsed(!0),this.currentSelection("NavMenu")),e=n},this),this.$namespace.request.handler("layoutMode",function(){return this.layoutMode()},this),this.isSmall=t.computed(function(){return n.isNull(this.dimensions().width)===!1?this.dimensions().width<=768:null},this).broadcastAs("isSmall"),this.logoWidth=t.observable(161).broadcastAs("logoWidth"),this.transitionsEnabled=t.computed(function(){return!this.initialLoad()&&!this.resizing()&&this.configTransitionsEnabled()&&!this.noTransitions()},this).broadcastAs("transitionsEnabled"),this.maxScrollResetPosition=t.computed(function(){return parseInt(this.headerHeight(),10)-this.headerMinHeight()},this).broadcastAs("maxScrollResetPosition"),this.scrollPosition.subscribe(function(){this.scrolling(!0)},this),this.isSmall.subscribe(function(e){"desktop"===this.layoutMode()||"tablet"===this.layoutMode()?(e||this.initialLoad()===!1)&&this.paneCollapsed(e):this.initialLoad()&&this.paneCollapsed(!0),(e||this.initialLoad()===!1)&&"desktop"===this.layoutMode()},this)}})}),define("PaneTouchManager",["jquery","lodash","footwork"],function(e,n,t){function s(e,n){return Math.abs(Math.abs(e.delta)-Math.abs(n.delta))}function a(e,n){return Math.abs(e.timestamp-n.timestamp)}function r(e,n){return s(e,n)/a(e,n)}function i(e){return function(n){return e.direction===n.direction}}function o(e,t,o){if(this.paneMoving()===!0)return!1;var l=0,c=0,p={direction:"none",delta:0,timestamp:(new Date).getTime()},u=e.substr(5).toLowerCase(),h=this.paneCollapsed(),m=(this.viewPortDimensions().width,n.isUndefined(o.originalEvent.changedTouches[0])?j:o.originalEvent.changedTouches[0].pageX||j);"start"===u&&(k=m),m-=k,j=n.isNull(j)?m:j;var b=j-m,C=this.closedOffset(),S=this.openOffset();if(-1===["start","move","end"].indexOf(u))return void this.setPane(h);if(h===y?(b=0>b?0:b,b=C>b?b:C):(b=b>0?0:b,b=b>S?b:S),"start"!==u||M||(this.paneDragging(!0),M=!0,x=[],this.clickTimeout=setTimeout(function(){this.paneDragging(!1),this.paneCollapsed(!this.paneCollapsed())}.bind(this),f)),"move"!==u||0!==x.length&&x[0].delta===b||(p.delta=b,this.paneDragOffset(b),x.unshift(p),x.length>g&&x.pop(),x.length>1&&(p.distance=s(x[0],x[1]),p.duration=a(x[0],x[1]),p.direction=x[0].delta<x[1].delta?"right":"left")),!M||"move"!==u&&"end"!==u||(clearTimeout(this.clickTimeout),clearTimeout(this.customTransitionTimeout)),p.dragIntent="right"===p.direction?y:w,"end"===u&&M){M=!1;
var N=x.length-3;sDragPoints=n.filter(x,i(x[N>=0?N:0])),sDragPoints.length<2||p.timestamp-sDragPoints[sDragPoints.length-1].timestamp>v?this.setPane(sDragPoints.length>1?this.farEnoughToOpen()?y:w:!h):sDragPoints.length>=2?(l=r(sDragPoints[0],sDragPoints[sDragPoints.length-1]),c=a(sDragPoints[0],sDragPoints[sDragPoints.length-1]),l>d?this.dragPane(sDragPoints[0].dragIntent,l,c):this.setPane(this.farEnoughToOpen()?y:w)):this.setPane(h)}}var l=80,c=180,p=200,u=-50,d=.8,h=1e3/60,f=250,m=70,v=200,g=10,b=["touchstart","touchmove","touchend","touchenter","touchleave","touchcancel"],y=!1,w=!0,j=null,k=0,x=[],M=!1;return t.viewModel({namespace:"PaneTouchManager",initialize:function(){this.$paneNamespace=t.namespace("Pane"),this.$paneNamespace.event.handler("initialized",function(){var t=e(".mobile-only.gripper"),s=e("#collapse-button");n.each(b,function(e){t.on(e,n.bind(o,this,e,"gripper")),s.on(e,n.bind(o,this,e,"button"))}.bind(this))},this),this.$namespace.request.handler("ping",function(){return"pong"}),this.setPane=function(e){this.paneDragging(!1),this.paneMoving(!0),this.paneDragOffset(0),this.paneCollapsed(e)},this.dragPane=function(e,n,t){var s=e===w?this.closedOffset():this.openOffset(),a=Math.floor(Math.abs(t*s/(n*h)))+u,r=this.paneCollapsed();(r===w&&e===w||r===y&&e===y)&&(s=0),a=a>c?c:a,a=l>a?l:a,e===r&&(a=a>m?m:a),this.paneTransition("transform "+a+"ms linear, left "+a+"ms linear"),this.paneDragOffset(s),this.customTransitionTimeout=setTimeout(function(){this.paneTransition("none"),this.paneDragging(!1),this.paneDragOffset(0),this.paneCollapsed(e)}.bind(this),a)},this.farEnoughToOpen=function(){return parseInt(this.paneTrueLeftOffset(),10)<parseInt(this.paneWidth(),10)/2},this.paneMoving=t.observable().receiveFrom("Pane","movingTimer"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed"),this.paneDragging=t.observable().receiveFrom("Pane","dragging"),this.paneDragOffset=t.observable(0).receiveFrom("Pane","dragOffset"),this.paneTransition=t.observable(void 0).receiveFrom("Pane","transition"),this.paneTrueLeftOffset=t.observable(0).receiveFrom("Pane","trueLeftOffset"),this.paneWidth=t.observable(0).receiveFrom("Pane","width"),this.closedOffset=t.observable().receiveFrom("ViewPort","closedOffset"),this.openOffset=t.observable().receiveFrom("ViewPort","openOffset"),this.viewPortDimensions=t.observable().receiveFrom("ViewPort","dimensions"),this.dragActive=t.observable(!1),this.paneMoving.subscribe(function(e){this.paneTransition(e===!0?"transform "+p+"ms linear, left "+p+"ms linear":"none")},this)}})}),define("koBindings",["jquery","lodash","knockout","postal"],function(e,n,t,s){t.bindingHandlers.command={init:function(e,a){var r=a()||{};n.each(r,function(n,a){t.utils.registerEventHandler(e,a,function(){n.ns&&s.channel(n.ns).publish(n.order,n.value)})})}},t.bindingHandlers.transition={update:function(n,s){var a=t.utils.unwrapObservable(s());e(n).css({WebkitTransition:a,MozTransition:a,MsTransition:a,OTransition:a,transition:a})}},t.bindingHandlers.transform={update:function(n,s){var a=t.utils.unwrapObservable(s());e(n).css({WebkitTransform:a,MozTransform:a,MsTransform:a,OTransform:a,transform:a})}},t.bindingHandlers.logger={update:function(e,n,s){var a=t.utils.domData.get(e,"_ko_logger")||0,r=t.toJS(n()||s());t.utils.domData.set(e,"_ko_logger",++a),console&&console.log&&console.log(a,e,r)}},t.bindingHandlers["class"]={update:function(n,s){var a=e(n);n.__ko__previousClassValue__&&a.removeClass(n.__ko__previousClassValue__);var r=t.utils.unwrapObservable(s());"undefined"!=typeof r&&a.addClass(r),n.__ko__previousClassValue__=r}},t.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}}}),define("koExtenders",["jquery","lodash","knockout","postal"],function(e,n,t){t.extenders.throttle=function(e,n){"number"==typeof n&&(n={timeout:n,when:function(){return!0}}),e.throttleEvaluation=n.timeout;var s=null,a=t.dependentObservable({read:e,write:function(t){n.when(t)?(clearTimeout(s),s=setTimeout(function(){e(t)},n.timeout)):(clearTimeout(s),e(t))}});return a.force=function(n){clearTimeout(s),e(n)},a},t.extenders.read=function(e,n){return t.computed({write:e,read:function(){return n(e)}})},t.extenders.write=function(e,n){return t.computed({read:e,write:function(t){n(e,t)}})},t.extenders.autoDisable=function(e,n){return e.extend({delayTrigger:{delay:n||0,trigger:function(e){e(!1)}}})},t.extenders.autoEnable=function(e,n){return e.extend({delayTrigger:{delay:n||0,trigger:function(e){e(!0)}}})},t.extenders.delayTrigger=function(e,n){var s,a=300,r=function(){};"object"==typeof n?(a=!isNaN(n.delay)&&parseInt(n.delay,10)||a,r=n.trigger||r):a=!isNaN(n)&&parseInt(n,10)||a;var i=function(){clearTimeout(s),s=void 0},o=t.computed({read:e,write:function(t){e(t),void 0!==s&&i(),s=setTimeout(function(){r(e,n)}.bind(e),o.triggerDelay)}});return o.clearTrigger=i,o.triggerDelay=a,o},t.extenders.delayWrite=function(e,n){var s,a=300;return"object"==typeof n?(a=!isNaN(n.delay)&&parseInt(n.delay,10)||a,s=n.filter||function(){return!0}):a=!isNaN(n)&&parseInt(n,10)||a,t.computed({read:e,write:function(n){s(n)?(e._delayWriteTimer&&clearTimeout(this._delayWriteTimer),e._delayWriteTimer=setTimeout(function(){e(n)},a)):e(n)}})},t.extenders.units=function(e,s){var a,r={cast:"none",postfix:""};return a="object"!=typeof s?n.extend(r,{postfix:s.toString()}):n.extend(r,s),observable=t.computed({read:function(){var n;switch(a.cast){case"integer":case"int":n=parseInt(e());break;default:n=e()}return n+a.postfix},write:e}),n.extend(observable,n.pick(e,["refresh","__isReceived","broadcast","__isBroadcast"])),observable}}),function(e){"function"==typeof define&&define.amd?define("jquery.mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function n(n){var a,r=n||window.event,i=[].slice.call(arguments,1),o=0,l=0,c=0,p=0,u=0;return n=e.event.fix(r),n.type="mousewheel",r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=-1*r.detail),r.deltaY&&(c=-1*r.deltaY,o=c),r.deltaX&&(l=r.deltaX,o=-1*l),void 0!==r.wheelDeltaY&&(c=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(l=-1*r.wheelDeltaX),p=Math.abs(o),(!t||t>p)&&(t=p),u=Math.max(Math.abs(c),Math.abs(l)),(!s||s>u)&&(s=u),a=o>0?"floor":"ceil",o=Math[a](o/t),l=Math[a](l/s),c=Math[a](c/s),i.unshift(n,o,l,c),(e.event.dispatch||e.event.handle).apply(this,i)}var t,s,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var i=a.length;i;)e.event.fixHooks[a[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=r.length;e;)this.addEventListener(r[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=r.length;e;)this.removeEventListener(r[--e],n,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(){function e(e,n){e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(n,t,s,a,r){return e.easing[e.easing.def](n,t,s,a,r)},easeInQuad:function(e,n,t,s,a){return s*(n/=a)*n+t},easeOutQuad:function(e,n,t,s,a){return-s*(n/=a)*(n-2)+t},easeInOutQuad:function(e,n,t,s,a){return(n/=a/2)<1?s/2*n*n+t:-s/2*(--n*(n-2)-1)+t},easeInCubic:function(e,n,t,s,a){return s*(n/=a)*n*n+t},easeOutCubic:function(e,n,t,s,a){return s*((n=n/a-1)*n*n+1)+t},easeInOutCubic:function(e,n,t,s,a){return(n/=a/2)<1?s/2*n*n*n+t:s/2*((n-=2)*n*n+2)+t},easeInQuart:function(e,n,t,s,a){return s*(n/=a)*n*n*n+t},easeOutQuart:function(e,n,t,s,a){return-s*((n=n/a-1)*n*n*n-1)+t},easeInOutQuart:function(e,n,t,s,a){return(n/=a/2)<1?s/2*n*n*n*n+t:-s/2*((n-=2)*n*n*n-2)+t},easeInQuint:function(e,n,t,s,a){return s*(n/=a)*n*n*n*n+t},easeOutQuint:function(e,n,t,s,a){return s*((n=n/a-1)*n*n*n*n+1)+t},easeInOutQuint:function(e,n,t,s,a){return(n/=a/2)<1?s/2*n*n*n*n*n+t:s/2*((n-=2)*n*n*n*n+2)+t},easeInSine:function(e,n,t,s,a){return-s*Math.cos(n/a*(Math.PI/2))+s+t},easeOutSine:function(e,n,t,s,a){return s*Math.sin(n/a*(Math.PI/2))+t},easeInOutSine:function(e,n,t,s,a){return-s/2*(Math.cos(Math.PI*n/a)-1)+t},easeInExpo:function(e,n,t,s,a){return 0==n?t:s*Math.pow(2,10*(n/a-1))+t},easeOutExpo:function(e,n,t,s,a){return n==a?t+s:s*(-Math.pow(2,-10*n/a)+1)+t},easeInOutExpo:function(e,n,t,s,a){return 0==n?t:n==a?t+s:(n/=a/2)<1?s/2*Math.pow(2,10*(n-1))+t:s/2*(-Math.pow(2,-10*--n)+2)+t},easeInCirc:function(e,n,t,s,a){return-s*(Math.sqrt(1-(n/=a)*n)-1)+t},easeOutCirc:function(e,n,t,s,a){return s*Math.sqrt(1-(n=n/a-1)*n)+t},easeInOutCirc:function(e,n,t,s,a){return(n/=a/2)<1?-s/2*(Math.sqrt(1-n*n)-1)+t:s/2*(Math.sqrt(1-(n-=2)*n)+1)+t},easeInElastic:function(e,n,t,s,a){var r=1.70158,i=0,o=s;if(0==n)return t;if(1==(n/=a))return t+s;if(i||(i=.3*a),o<Math.abs(s)){o=s;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(s/o);return-(o*Math.pow(2,10*(n-=1))*Math.sin(2*(n*a-r)*Math.PI/i))+t},easeOutElastic:function(e,n,t,s,a){var r=1.70158,i=0,o=s;if(0==n)return t;if(1==(n/=a))return t+s;if(i||(i=.3*a),o<Math.abs(s)){o=s;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(s/o);return o*Math.pow(2,-10*n)*Math.sin(2*(n*a-r)*Math.PI/i)+s+t},easeInOutElastic:function(e,n,t,s,a){var r=1.70158,i=0,o=s;if(0==n)return t;if(2==(n/=a/2))return t+s;if(i||(i=.3*a*1.5),o<Math.abs(s)){o=s;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(s/o);return 1>n?-.5*o*Math.pow(2,10*(n-=1))*Math.sin(2*(n*a-r)*Math.PI/i)+t:o*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*a-r)*Math.PI/i)*.5+s+t},easeInBack:function(e,t,s,a,r,i){return i==n&&(i=1.70158),a*(t/=r)*t*((i+1)*t-i)+s},easeOutBack:function(e,t,s,a,r,i){return i==n&&(i=1.70158),a*((t=t/r-1)*t*((i+1)*t+i)+1)+s},easeInOutBack:function(e,t,s,a,r,i){return i==n&&(i=1.70158),(t/=r/2)<1?a/2*t*t*(((i*=1.525)+1)*t-i)+s:a/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+s},easeInBounce:function(n,t,s,a,r){return a-e.easing.easeOutBounce(n,r-t,0,a,r)+s},easeOutBounce:function(e,n,t,s,a){return(n/=a)<1/2.75?7.5625*s*n*n+t:2/2.75>n?s*(7.5625*(n-=1.5/2.75)*n+.75)+t:2.5/2.75>n?s*(7.5625*(n-=2.25/2.75)*n+.9375)+t:s*(7.5625*(n-=2.625/2.75)*n+.984375)+t},easeInOutBounce:function(n,t,s,a,r){return r/2>t?.5*e.easing.easeInBounce(n,2*t,0,a,r)+s:.5*e.easing.easeOutBounce(n,2*t-r,0,a,r)+.5*a+s}})}"function"==typeof define&&define.amd?define("jquery.easing",["jquery"],function(n){e(n)}):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery||$)}.call(this),require(["jquery","lodash","footwork","jwerty","resourceHelper","Page","Body","ViewPort","PaneTouchManager","koBindings","koExtenders","jquery.mousewheel","jquery.easing"],function(e,n,t,s,a,r,i,o,l){if(a(),window.isCrappyBrowser===!0)return!1;var c,p=e(window),u=e(document),d=e("body"),h=t.namespace(),f=t.namespace("LayoutControl"),m=t.namespace("Navigation"),v=t.namespace("Configuration"),g=t.namespace("Body"),b=t.observable().receiveFrom("Page","hashURL"),y=t.observable().receiveFrom("Body","height"),w=t.observable().receiveFrom("ViewPort","scrollPosition"),j=t.observable().receiveFrom("ViewPort","dimensions"),k=t.observable().receiveFrom("Configuration","visible"),x=t.observable().receiveFrom("Pane","contentMaxHeight"),M=t.observable().receiveFrom("Pane","scrolling"),C=t.observable().receiveFrom("ViewPort","layoutMode");h.request.handler("isRunningLocally",function(){return n.isNull(window.location.protocol.match("^http"))}),window.ko=t,new o,new r,Modernizr.touch===!0&&new l,t.applyBindings(new i),p.scroll(function(){w(u.scrollTop())}).resize(function(){j({width:p.width(),height:p.height()})}).on("mouseup",function(){f.publish("disableControl")}).on("hashchange",function(){b(location.hash)}).trigger("scroll").trigger("resize"),h.subscribe("refreshDocSize",c=function(){y(u.height())}).withContext(this),c(),h.subscribe("enableControl",function(e){p.on("mousemove",e)}),h.subscribe("disableControl",function(e){p.unbind("mousemove",e)}),n.each({"alt+r":function(){"mobile"!==C()&&v.publish("reset")},"ctrl+x":function(){m.publish("toggleHeader")},"ctrl+z":function(){g.publish("togglePane")},esc:function(){h.publish("clear"),k(!1)}},function(e,n){s.key(n,e)}),d.on("keydown","article",function(e){e.stopPropagation()}),e(".pane-component > .content").on("mousewheel",function(e,n){var t=x();!isNaN(t)&&t!==this.scrollHeight&&(this.scrollTop===this.scrollHeight-t&&0>n||0===this.scrollTop&&n>0)&&(e.preventDefault(),M(!0))})}),define("app/main",function(){}),define("main",function(){})}();