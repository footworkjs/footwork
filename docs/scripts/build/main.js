!function(){var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,n){if(e){var t;for(t=0;t<e.length&&(!e[t]||!n(e[t],t,e));t+=1);}}function eachReverse(e,n){if(e){var t;for(t=e.length-1;t>-1&&(!e[t]||!n(e[t],t,e));t-=1);}}function hasProp(e,n){return hasOwn.call(e,n)}function getOwn(e,n){return hasProp(e,n)&&e[n]}function eachProp(e,n){var t;for(t in e)if(hasProp(e,t)&&n(e[t],t))break}function mixin(e,n,t,r){return n&&eachProp(n,function(n,i){(t||!hasProp(e,i))&&(!r||"object"!=typeof n||!n||isArray(n)||isFunction(n)||n instanceof RegExp?e[i]=n:(e[i]||(e[i]={}),mixin(e[i],n,t,r)))}),e}function bind(e,n){return function(){return n.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var n=global;return each(e.split("."),function(e){n=n[e]}),n}function makeError(e,n,t,r){var i=new Error(n+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,t&&(i.originalError=t),i}function newContext(e){function n(e){var n,t;for(n=0;n<e.length;n++)if(t=e[n],"."===t)e.splice(n,1),n-=1;else if(".."===t){if(0===n||1==n&&".."===e[2]||".."===e[n-1])continue;n>0&&(e.splice(n-1,2),n-=2)}}function t(e,t,r){var i,a,o,s,l,c,u,d,p,h,f,m,v=t&&t.split("/"),g=k.map,b=g&&g["*"];if(e&&(e=e.split("/"),u=e.length-1,k.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&v&&(m=v.slice(0,v.length-1),e=m.concat(e)),n(e),e=e.join("/")),r&&g&&(v||b)){o=e.split("/");e:for(s=o.length;s>0;s-=1){if(c=o.slice(0,s).join("/"),v)for(l=v.length;l>0;l-=1)if(a=getOwn(g,v.slice(0,l).join("/")),a&&(a=getOwn(a,c))){d=a,p=s;break e}!h&&b&&getOwn(b,c)&&(h=getOwn(b,c),f=s)}!d&&h&&(d=h,p=f),d&&(o.splice(0,p,d),e=o.join("/"))}return i=getOwn(k.pkgs,e),i?i:e}function r(e){isBrowser&&each(scripts(),function(n){return n.getAttribute("data-requiremodule")===e&&n.getAttribute("data-requirecontext")===y.contextName?(n.parentNode.removeChild(n),!0):void 0})}function i(e){var n=getOwn(k.paths,e);return n&&isArray(n)&&n.length>1?(n.shift(),y.require.undef(e),y.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function a(e){var n,t=e?e.indexOf("!"):-1;return t>-1&&(n=e.substring(0,t),e=e.substring(t+1,e.length)),[n,e]}function o(e,n,r,i){var o,s,l,c,u=null,d=n?n.name:null,p=e,h=!0,f="";return e||(h=!1,e="_@r"+(E+=1)),c=a(e),u=c[0],e=c[1],u&&(u=t(u,d,i),s=getOwn(R,u)),e&&(u?f=s&&s.normalize?s.normalize(e,function(e){return t(e,d,i)}):-1===e.indexOf("!")?t(e,d,i):e:(f=t(e,d,i),c=a(f),u=c[0],f=c[1],r=!0,o=y.nameToUrl(f))),l=!u||s||r?"":"_unnormalized"+(A+=1),{prefix:u,name:f,parentMap:n,unnormalized:!!l,url:o,originalName:p,isDefine:h,id:(u?u+"!"+f:f)+l}}function s(e){var n=e.id,t=getOwn(N,n);return t||(t=N[n]=new y.Module(e)),t}function l(e,n,t){var r=e.id,i=getOwn(N,r);!hasProp(R,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===n?t(i.error):i.on(n,t)):"defined"===n&&t(R[r])}function c(e,n){var t=e.requireModules,r=!1;n?n(e):(each(t,function(n){var t=getOwn(N,n);t&&(t.error=e,t.events.error&&(r=!0,t.emit("error",e)))}),r||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(T,[T.length,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete N[e],delete C[e]}function p(e,n,t){var r=e.map.id;e.error?e.emit("error",e.error):(n[r]=!0,each(e.depMaps,function(r,i){var a=r.id,o=getOwn(N,a);!o||e.depMatched[i]||t[a]||(getOwn(n,a)?(e.defineDep(i,R[a]),e.check()):p(o,n,t))}),t[r]=!0)}function h(){var e,n,t=1e3*k.waitSeconds,a=t&&y.startTime+t<(new Date).getTime(),o=[],s=[],l=!1,u=!0;if(!b){if(b=!0,eachProp(C,function(e){var t=e.map,c=t.id;if(e.enabled&&(t.isDefine||s.push(e),!e.error))if(!e.inited&&a)i(c)?(n=!0,l=!0):(o.push(c),r(c));else if(!e.inited&&e.fetched&&t.isDefine&&(l=!0,!t.prefix))return u=!1}),a&&o.length)return e=makeError("timeout","Load timeout for modules: "+o,null,o),e.contextName=y.contextName,c(e);u&&each(s,function(e){p(e,{},{})}),a&&!n||!l||!isBrowser&&!isWebWorker||x||(x=setTimeout(function(){x=0,h()},50)),b=!1}}function f(e){hasProp(R,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function m(e,n,t,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,n):e.removeEventListener(t,n,!1)}function v(e){var n=e.currentTarget||e.srcElement;return m(n,y.onScriptLoad,"load","onreadystatechange"),m(n,y.onScriptError,"error"),{node:n,id:n&&n.getAttribute("data-requiremodule")}}function g(){var e;for(u();T.length;){if(e=T.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var b,w,y,M,x,k={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},N={},C={},S={},T=[],R={},j={},P={},E=1,A=1;return M={require:function(e){return e.require?e.require:e.require=y.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?R[e.map.id]=e.exports:e.exports=R[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(k.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},w=function(e){this.events=getOwn(S,e.id)||{},this.map=e,this.shim=getOwn(k.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},w.prototype={init:function(e,n,t,r){r=r||{},this.inited||(this.factory=n,t?this.on("error",t):this.events.error&&(t=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=t,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,n){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=n)},fetch:function(){if(!this.fetched){this.fetched=!0,y.startTime=(new Date).getTime();var e=this.map;return this.shim?void y.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;j[e]||(j[e]=!0,y.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,n,t=this.map.id,r=this.depExports,i=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=y.execCb(t,a,r,i)}catch(o){e=o}else i=y.execCb(t,a,r,i);if(this.map.isDefine&&void 0===i&&(n=this.module,n?i=n.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=a;this.exports=i,this.map.isDefine&&!this.ignore&&(R[t]=i,req.onResourceLoad&&req.onResourceLoad(y,this.map,this.depMaps)),d(t),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,n=e.id,r=o(e.prefix);this.depMaps.push(r),l(r,"defined",bind(this,function(r){var i,a,u,p=getOwn(P,this.map.id),h=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,m=y.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(h=r.normalize(h,function(e){return t(e,f,!0)})||""),a=o(e.prefix+"!"+h,this.map.parentMap),l(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(N,a.id),void(u&&(this.depMaps.push(a),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):p?(this.map.url=y.nameToUrl(p),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[n],eachProp(N,function(e){0===e.map.id.indexOf(n+"_unnormalized")&&d(e.map.id)}),c(e)}),i.fromText=bind(this,function(t,r){var a=e.name,l=o(a),u=useInteractive;r&&(t=r),u&&(useInteractive=!1),s(l),hasProp(k.config,n)&&(k.config[a]=k.config[n]);try{req.exec(t)}catch(d){return c(makeError("fromtexteval","fromText eval for "+n+" failed: "+d,d,[n]))}u&&(useInteractive=!0),this.depMaps.push(l),y.completeLoad(a),m([a],i)}),void r.load(e.name,m,i,k))})),y.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){C[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,n){var t,r,i;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e,i=getOwn(M,e.id))return void(this.depExports[n]=i(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(n,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}t=e.id,r=N[t],hasProp(M,t)||!r||r.enabled||y.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var n=getOwn(N,e.id);n&&!n.enabled&&y.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,n){var t=this.events[e];t||(t=this.events[e]=[]),t.push(n)},emit:function(e,n){each(this.events[e],function(e){e(n)}),"error"===e&&delete this.events[e]}},y={config:k,contextName:e,registry:N,defined:R,urlFetched:j,defQueue:T,Module:w,makeModuleMap:o,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var n=k.shim,t={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,n){t[n]?(k[n]||(k[n]={}),mixin(k[n],e,!0,!0)):k[n]=e}),e.bundles&&eachProp(e.bundles,function(e,n){each(e,function(e){e!==n&&(P[e]=n)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=y.makeShimExports(e)),n[t]=e}),k.shim=n),e.packages&&each(e.packages,function(e){var n,t;e="string"==typeof e?{name:e}:e,t=e.name,n=e.location,n&&(k.paths[t]=e.location),k.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(N,function(e,n){e.inited||e.map.unnormalized||(e.map=o(n))}),(e.deps||e.callback)&&y.require(e.deps||[],e.callback)},makeShimExports:function(e){function n(){var n;return e.init&&(n=e.init.apply(global,arguments)),n||e.exports&&getGlobal(e.exports)}return n},makeRequire:function(n,i){function a(t,r,l){var u,d,p;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof t?isFunction(r)?c(makeError("requireargs","Invalid require call"),l):n&&hasProp(M,t)?M[t](N[n.id]):req.get?req.get(y,t,n,a):(d=o(t,n,!1,!0),u=d.id,hasProp(R,u)?R[u]:c(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(n?"":". Use require([])")))):(g(),y.nextTick(function(){g(),p=s(o(null,n)),p.skipMap=i.skipMap,p.init(t,r,l,{enabled:!0}),h()}),a)}return i=i||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),a=e.split("/")[0],o="."===a||".."===a;return-1!==i&&(!o||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),y.nameToUrl(t(e,n&&n.id,!0),r,!0)},defined:function(e){return hasProp(R,o(e,n,!1,!0).id)},specified:function(e){return e=o(e,n,!1,!0).id,hasProp(R,e)||hasProp(N,e)}}),n||(a.undef=function(e){u();var t=o(e,n,!0),i=getOwn(N,e);r(e),delete R[e],delete j[t.url],delete S[e],eachReverse(T,function(n,t){n[0]===e&&T.splice(t,1)}),i&&(i.events.defined&&(S[e]=i.events),d(e))}),a},enable:function(e){var n=getOwn(N,e.id);n&&s(e).enable()},completeLoad:function(e){var n,t,r,a=getOwn(k.shim,e)||{},o=a.exports;for(u();T.length;){if(t=T.shift(),null===t[0]){if(t[0]=e,n)break;n=!0}else t[0]===e&&(n=!0);f(t)}if(r=getOwn(N,e),!n&&!hasProp(R,e)&&r&&!r.inited){if(!(!k.enforceDefine||o&&getGlobal(o)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));f([e,a.deps||[],a.exportsFn])}h()},nameToUrl:function(e,n,t){var r,i,a,o,s,l,c,u=getOwn(k.pkgs,e);if(u&&(e=u),c=getOwn(P,e))return y.nameToUrl(c,n,t);if(req.jsExtRegExp.test(e))s=e+(n||"");else{for(r=k.paths,i=e.split("/"),a=i.length;a>0;a-=1)if(o=i.slice(0,a).join("/"),l=getOwn(r,o)){isArray(l)&&(l=l[0]),i.splice(0,a,l);break}s=i.join("/"),s+=n||(/^data\:|\?/.test(s)||t?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+s}return k.urlArgs?s+((-1===s.indexOf("?")?"?":"&")+k.urlArgs):s},load:function(e,n){req.load(y,e,n)},execCb:function(e,n,t,r){return n.apply(r,t)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var n=v(e);y.completeLoad(n.id)}},onScriptError:function(e){var n=v(e);return i(n.id)?void 0:c(makeError("scripterror","Script error for: "+n.id,e,[n.id]))}},y.require=y.makeRequire(),y}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.15",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,n,t,r){var i,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(n)?(e=n,n=t,t=r):e=[]),a&&a.context&&(o=a.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),a&&i.configure(a),i.require(e,n,t)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var n=contexts[defContextName];return n.require[e].apply(n,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,n,t){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,n,t),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",n),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=t,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(t),e.completeLoad(n)}catch(a){e.onError(makeError("importscripts","importScripts failed for "+n+" at "+t,a,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,n,t){var r,i;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){}),function(e,n){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,n){function t(e){var n=e.length,t=an.type(e);return"function"===t||an.isWindow(e)?!1:1===e.nodeType&&n?!0:"array"===t||0===n||"number"==typeof n&&n>0&&n-1 in e}function r(e,n,t){if(an.isFunction(n))return an.grep(e,function(e,r){return!!n.call(e,r,e)!==t});if(n.nodeType)return an.grep(e,function(e){return e===n!==t});if("string"==typeof n){if(hn.test(n))return an.filter(n,e,t);n=an.filter(n,e)}return an.grep(e,function(e){return an.inArray(e,n)>=0!==t})}function i(e,n){do e=e[n];while(e&&1!==e.nodeType);return e}function a(e){var n=Mn[e]={};return an.each(e.match(yn)||[],function(e,t){n[t]=!0}),n}function o(){mn.addEventListener?(mn.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(mn.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(mn.addEventListener||"load"===event.type||"complete"===mn.readyState)&&(o(),an.ready())}function l(e,n,t){if(void 0===t&&1===e.nodeType){var r="data-"+n.replace(Sn,"-$1").toLowerCase();if(t=e.getAttribute(r),"string"==typeof t){try{t="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:Cn.test(t)?an.parseJSON(t):t}catch(i){}an.data(e,n,t)}else t=void 0}return t}function c(e){var n;for(n in e)if(("data"!==n||!an.isEmptyObject(e[n]))&&"toJSON"!==n)return!1;return!0}function u(e,n,t,r){if(an.acceptData(e)){var i,a,o=an.expando,s=e.nodeType,l=s?an.cache:e,c=s?e[o]:e[o]&&o;if(c&&l[c]&&(r||l[c].data)||void 0!==t||"string"!=typeof n)return c||(c=s?e[o]=K.pop()||an.guid++:o),l[c]||(l[c]=s?{}:{toJSON:an.noop}),("object"==typeof n||"function"==typeof n)&&(r?l[c]=an.extend(l[c],n):l[c].data=an.extend(l[c].data,n)),a=l[c],r||(a.data||(a.data={}),a=a.data),void 0!==t&&(a[an.camelCase(n)]=t),"string"==typeof n?(i=a[n],null==i&&(i=a[an.camelCase(n)])):i=a,i}}function d(e,n,t){if(an.acceptData(e)){var r,i,a=e.nodeType,o=a?an.cache:e,s=a?e[an.expando]:an.expando;if(o[s]){if(n&&(r=t?o[s]:o[s].data)){an.isArray(n)?n=n.concat(an.map(n,an.camelCase)):n in r?n=[n]:(n=an.camelCase(n),n=n in r?[n]:n.split(" ")),i=n.length;for(;i--;)delete r[n[i]];if(t?!c(r):!an.isEmptyObject(r))return}(t||(delete o[s].data,c(o[s])))&&(a?an.cleanData([e],!0):tn.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function p(){return!0}function h(){return!1}function f(){try{return mn.activeElement}catch(e){}}function m(e){var n=Dn.split("|"),t=e.createDocumentFragment();if(t.createElement)for(;n.length;)t.createElement(n.pop());return t}function v(e,n){var t,r,i=0,a=typeof e.getElementsByTagName!==Nn?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==Nn?e.querySelectorAll(n||"*"):void 0;if(!a)for(a=[],t=e.childNodes||e;null!=(r=t[i]);i++)!n||an.nodeName(r,n)?a.push(r):an.merge(a,v(r,n));return void 0===n||n&&an.nodeName(e,n)?an.merge([e],a):a}function g(e){En.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,n){return an.nodeName(e,"table")&&an.nodeName(11!==n.nodeType?n:n.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e){return e.type=(null!==an.find.attr(e,"type"))+"/"+e.type,e}function y(e){var n=Kn.exec(e.type);return n?e.type=n[1]:e.removeAttribute("type"),e}function M(e,n){for(var t,r=0;null!=(t=e[r]);r++)an._data(t,"globalEval",!n||an._data(n[r],"globalEval"))}function x(e,n){if(1===n.nodeType&&an.hasData(e)){var t,r,i,a=an._data(e),o=an._data(n,a),s=a.events;if(s){delete o.handle,o.events={};for(t in s)for(r=0,i=s[t].length;i>r;r++)an.event.add(n,t,s[t][r])}o.data&&(o.data=an.extend({},o.data))}}function k(e,n){var t,r,i;if(1===n.nodeType){if(t=n.nodeName.toLowerCase(),!tn.noCloneEvent&&n[an.expando]){i=an._data(n);for(r in i.events)an.removeEvent(n,r,i.handle);n.removeAttribute(an.expando)}"script"===t&&n.text!==e.text?(w(n).text=e.text,y(n)):"object"===t?(n.parentNode&&(n.outerHTML=e.outerHTML),tn.html5Clone&&e.innerHTML&&!an.trim(n.innerHTML)&&(n.innerHTML=e.innerHTML)):"input"===t&&En.test(e.type)?(n.defaultChecked=n.checked=e.checked,n.value!==e.value&&(n.value=e.value)):"option"===t?n.defaultSelected=n.selected=e.defaultSelected:("input"===t||"textarea"===t)&&(n.defaultValue=e.defaultValue)}}function N(n,t){var r,i=an(t.createElement(n)).appendTo(t.body),a=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:an.css(i[0],"display");return i.detach(),a}function C(e){var n=mn,t=et[e];return t||(t=N(e,n),"none"!==t&&t||(Zn=(Zn||an("<iframe frameborder='0' width='0' height='0'/>")).appendTo(n.documentElement),n=(Zn[0].contentWindow||Zn[0].contentDocument).document,n.write(),n.close(),t=N(e,n),Zn.detach()),et[e]=t),t}function S(e,n){return{get:function(){var t=e();if(null!=t)return t?void delete this.get:(this.get=n).apply(this,arguments)}}}function T(e,n){if(n in e)return n;for(var t=n.charAt(0).toUpperCase()+n.slice(1),r=n,i=ht.length;i--;)if(n=ht[i]+t,n in e)return n;return r}function R(e,n){for(var t,r,i,a=[],o=0,s=e.length;s>o;o++)r=e[o],r.style&&(a[o]=an._data(r,"olddisplay"),t=r.style.display,n?(a[o]||"none"!==t||(r.style.display=""),""===r.style.display&&jn(r)&&(a[o]=an._data(r,"olddisplay",C(r.nodeName)))):(i=jn(r),(t&&"none"!==t||!i)&&an._data(r,"olddisplay",i?t:an.css(r,"display"))));for(o=0;s>o;o++)r=e[o],r.style&&(n&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=n?a[o]||"":"none"));return e}function j(e,n,t){var r=ct.exec(n);return r?Math.max(0,r[1]-(t||0))+(r[2]||"px"):n}function P(e,n,t,r,i){for(var a=t===(r?"border":"content")?4:"width"===n?1:0,o=0;4>a;a+=2)"margin"===t&&(o+=an.css(e,t+Rn[a],!0,i)),r?("content"===t&&(o-=an.css(e,"padding"+Rn[a],!0,i)),"margin"!==t&&(o-=an.css(e,"border"+Rn[a]+"Width",!0,i))):(o+=an.css(e,"padding"+Rn[a],!0,i),"padding"!==t&&(o+=an.css(e,"border"+Rn[a]+"Width",!0,i)));return o}function E(e,n,t){var r=!0,i="width"===n?e.offsetWidth:e.offsetHeight,a=nt(e),o=tn.boxSizing&&"border-box"===an.css(e,"boxSizing",!1,a);if(0>=i||null==i){if(i=tt(e,n,a),(0>i||null==i)&&(i=e.style[n]),it.test(i))return i;r=o&&(tn.boxSizingReliable()||i===e.style[n]),i=parseFloat(i)||0}return i+P(e,n,t||(o?"border":"content"),r,a)+"px"}function A(e,n,t,r,i){return new A.prototype.init(e,n,t,r,i)}function L(){return setTimeout(function(){ft=void 0}),ft=an.now()}function _(e,n){var t,r={height:e},i=0;for(n=n?1:0;4>i;i+=2-n)t=Rn[i],r["margin"+t]=r["padding"+t]=e;return n&&(r.opacity=r.width=e),r}function H(e,n,t){for(var r,i=(yt[n]||[]).concat(yt["*"]),a=0,o=i.length;o>a;a++)if(r=i[a].call(t,n,e))return r}function O(e,n,t){var r,i,a,o,s,l,c,u,d=this,p={},h=e.style,f=e.nodeType&&jn(e),m=an._data(e,"fxshow");t.queue||(s=an._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,an.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(t.overflow=[h.overflow,h.overflowX,h.overflowY],c=an.css(e,"display"),u="none"===c?an._data(e,"olddisplay")||C(e.nodeName):c,"inline"===u&&"none"===an.css(e,"float")&&(tn.inlineBlockNeedsLayout&&"inline"!==C(e.nodeName)?h.zoom=1:h.display="inline-block")),t.overflow&&(h.overflow="hidden",tn.shrinkWrapBlocks()||d.always(function(){h.overflow=t.overflow[0],h.overflowX=t.overflow[1],h.overflowY=t.overflow[2]}));for(r in n)if(i=n[r],vt.exec(i)){if(delete n[r],a=a||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;f=!0}p[r]=m&&m[r]||an.style(e,r)}else c=void 0;if(an.isEmptyObject(p))"inline"===("none"===c?C(e.nodeName):c)&&(h.display=c);else{m?"hidden"in m&&(f=m.hidden):m=an._data(e,"fxshow",{}),a&&(m.hidden=!f),f?an(e).show():d.done(function(){an(e).hide()}),d.done(function(){var n;an._removeData(e,"fxshow");for(n in p)an.style(e,n,p[n])});for(r in p)o=H(f?m[r]:0,r,d),r in m||(m[r]=o.start,f&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function D(e,n){var t,r,i,a,o;for(t in e)if(r=an.camelCase(t),i=n[r],a=e[t],an.isArray(a)&&(i=a[1],a=e[t]=a[0]),t!==r&&(e[r]=a,delete e[t]),o=an.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete e[r];for(t in a)t in e||(e[t]=a[t],n[t]=i)}else n[r]=i}function I(e,n,t){var r,i,a=0,o=wt.length,s=an.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var n=ft||L(),t=Math.max(0,c.startTime+c.duration-n),r=t/c.duration||0,a=1-r,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(a);return s.notifyWith(e,[c,a,t]),1>a&&l?t:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:an.extend({},n),opts:an.extend(!0,{specialEasing:{}},t),originalProperties:n,originalOptions:t,startTime:ft||L(),duration:t.duration,tweens:[],createTween:function(n,t){var r=an.Tween(e,c.opts,n,t,c.opts.specialEasing[n]||c.opts.easing);return c.tweens.push(r),r},stop:function(n){var t=0,r=n?c.tweens.length:0;if(i)return this;for(i=!0;r>t;t++)c.tweens[t].run(1);return n?s.resolveWith(e,[c,n]):s.rejectWith(e,[c,n]),this}}),u=c.props;for(D(u,c.opts.specialEasing);o>a;a++)if(r=wt[a].call(c,e,u,c.opts))return r;return an.map(u,H,c),an.isFunction(c.opts.start)&&c.opts.start.call(e,c),an.fx.timer(an.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(e){return function(n,t){"string"!=typeof n&&(t=n,n="*");var r,i=0,a=n.toLowerCase().match(yn)||[];if(an.isFunction(t))for(;r=a[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(t)):(e[r]=e[r]||[]).push(t)}}function $(e,n,t,r){function i(s){var l;return a[s]=!0,an.each(e[s]||[],function(e,s){var c=s(n,t,r);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(n.dataTypes.unshift(c),i(c),!1)}),l}var a={},o=e===Ut;return i(n.dataTypes[0])||!a["*"]&&i("*")}function q(e,n){var t,r,i=an.ajaxSettings.flatOptions||{};for(r in n)void 0!==n[r]&&((i[r]?e:t||(t={}))[r]=n[r]);return t&&an.extend(!0,e,t),e}function B(e,n,t){for(var r,i,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in t)a=l[0];else{for(o in t){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}r||(r=o)}a=a||r}return a?(a!==l[0]&&l.unshift(a),t[a]):void 0}function V(e,n,t,r){var i,a,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(t[e.responseFields[a]]=n),!l&&r&&e.dataFilter&&(n=e.dataFilter(n,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=c[l+" "+a]||c["* "+a],!o)for(i in c)if(s=i.split(" "),s[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){o===!0?o=c[i]:c[i]!==!0&&(a=s[0],u.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])n=o(n);else try{n=o(n)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:n}}function U(e,n,t,r){var i;if(an.isArray(n))an.each(n,function(n,i){t||Kt.test(e)?r(e,i):U(e+"["+("object"==typeof i?n:"")+"]",i,t,r)});else if(t||"object"!==an.type(n))r(e,n);else for(i in n)U(e+"["+i+"]",n[i],t,r)}function z(){try{return new e.XMLHttpRequest}catch(n){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}function J(e){return an.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var K=[],Q=K.slice,G=K.concat,Y=K.push,X=K.indexOf,Z={},en=Z.toString,nn=Z.hasOwnProperty,tn={},rn="1.11.1",an=function(e,n){return new an.fn.init(e,n)},on=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,sn=/^-ms-/,ln=/-([\da-z])/gi,cn=function(e,n){return n.toUpperCase()};an.fn=an.prototype={jquery:rn,constructor:an,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var n=an.merge(this.constructor(),e);return n.prevObject=this,n.context=this.context,n},each:function(e,n){return an.each(this,e,n)},map:function(e){return this.pushStack(an.map(this,function(n,t){return e.call(n,t,n)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var n=this.length,t=+e+(0>e?n:0);return this.pushStack(t>=0&&n>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:K.sort,splice:K.splice},an.extend=an.fn.extend=function(){var e,n,t,r,i,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||an.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(i=arguments[s]))for(r in i)e=o[r],t=i[r],o!==t&&(c&&t&&(an.isPlainObject(t)||(n=an.isArray(t)))?(n?(n=!1,a=e&&an.isArray(e)?e:[]):a=e&&an.isPlainObject(e)?e:{},o[r]=an.extend(c,a,t)):void 0!==t&&(o[r]=t));return o},an.extend({expando:"jQuery"+(rn+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===an.type(e)},isArray:Array.isArray||function(e){return"array"===an.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!an.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var n;for(n in e)return!1;return!0},isPlainObject:function(e){var n;if(!e||"object"!==an.type(e)||e.nodeType||an.isWindow(e))return!1;try{if(e.constructor&&!nn.call(e,"constructor")&&!nn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(tn.ownLast)for(n in e)return nn.call(e,n);for(n in e);return void 0===n||nn.call(e,n)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[en.call(e)]||"object":typeof e},globalEval:function(n){n&&an.trim(n)&&(e.execScript||function(n){e.eval.call(e,n)})(n)},camelCase:function(e){return e.replace(sn,"ms-").replace(ln,cn)},nodeName:function(e,n){return e.nodeName&&e.nodeName.toLowerCase()===n.toLowerCase()},each:function(e,n,r){var i,a=0,o=e.length,s=t(e);if(r){if(s)for(;o>a&&(i=n.apply(e[a],r),i!==!1);a++);else for(a in e)if(i=n.apply(e[a],r),i===!1)break}else if(s)for(;o>a&&(i=n.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(i=n.call(e[a],a,e[a]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(on,"")},makeArray:function(e,n){var r=n||[];return null!=e&&(t(Object(e))?an.merge(r,"string"==typeof e?[e]:e):Y.call(r,e)),r},inArray:function(e,n,t){var r;if(n){if(X)return X.call(n,e,t);for(r=n.length,t=t?0>t?Math.max(0,r+t):t:0;r>t;t++)if(t in n&&n[t]===e)return t}return-1},merge:function(e,n){for(var t=+n.length,r=0,i=e.length;t>r;)e[i++]=n[r++];if(t!==t)for(;void 0!==n[r];)e[i++]=n[r++];return e.length=i,e},grep:function(e,n,t){for(var r,i=[],a=0,o=e.length,s=!t;o>a;a++)r=!n(e[a],a),r!==s&&i.push(e[a]);return i},map:function(e,n,r){var i,a=0,o=e.length,s=t(e),l=[];if(s)for(;o>a;a++)i=n(e[a],a,r),null!=i&&l.push(i);else for(a in e)i=n(e[a],a,r),null!=i&&l.push(i);return G.apply([],l)},guid:1,proxy:function(e,n){var t,r,i;return"string"==typeof n&&(i=e[n],n=e,e=i),an.isFunction(e)?(t=Q.call(arguments,2),r=function(){return e.apply(n||this,t.concat(Q.call(arguments)))
},r.guid=e.guid=e.guid||an.guid++,r):void 0},now:function(){return+new Date},support:tn}),an.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,n){Z["[object "+n+"]"]=n.toLowerCase()});var un=function(e){function n(e,n,t,r){var i,a,o,s,l,c,d,h,f,m;if((n?n.ownerDocument||n:$)!==A&&E(n),n=n||A,t=t||[],!e||"string"!=typeof e)return t;if(1!==(s=n.nodeType)&&9!==s)return[];if(_&&!r){if(i=wn.exec(e))if(o=i[1]){if(9===s){if(a=n.getElementById(o),!a||!a.parentNode)return t;if(a.id===o)return t.push(a),t}else if(n.ownerDocument&&(a=n.ownerDocument.getElementById(o))&&I(n,a)&&a.id===o)return t.push(a),t}else{if(i[2])return Z.apply(t,n.getElementsByTagName(e)),t;if((o=i[3])&&M.getElementsByClassName&&n.getElementsByClassName)return Z.apply(t,n.getElementsByClassName(o)),t}if(M.qsa&&(!H||!H.test(e))){if(h=d=F,f=n,m=9===s&&e,1===s&&"object"!==n.nodeName.toLowerCase()){for(c=C(e),(d=n.getAttribute("id"))?h=d.replace(Mn,"\\$&"):n.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=yn.test(e)&&u(n.parentNode)||n,m=c.join(",")}if(m)try{return Z.apply(t,f.querySelectorAll(m)),t}catch(v){}finally{d||n.removeAttribute("id")}}}return T(e.replace(cn,"$1"),n,t,r)}function t(){function e(t,r){return n.push(t+" ")>x.cacheLength&&delete e[n.shift()],e[t+" "]=r}var n=[];return e}function r(e){return e[F]=!0,e}function i(e){var n=A.createElement("div");try{return!!e(n)}catch(t){return!1}finally{n.parentNode&&n.parentNode.removeChild(n),n=null}}function a(e,n){for(var t=e.split("|"),r=e.length;r--;)x.attrHandle[t[r]]=n}function o(e,n){var t=n&&e,r=t&&1===e.nodeType&&1===n.nodeType&&(~n.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(t)for(;t=t.nextSibling;)if(t===n)return-1;return e?1:-1}function s(e){return function(n){var t=n.nodeName.toLowerCase();return"input"===t&&n.type===e}}function l(e){return function(n){var t=n.nodeName.toLowerCase();return("input"===t||"button"===t)&&n.type===e}}function c(e){return r(function(n){return n=+n,r(function(t,r){for(var i,a=e([],t.length,n),o=a.length;o--;)t[i=a[o]]&&(t[i]=!(r[i]=t[i]))})})}function u(e){return e&&typeof e.getElementsByTagName!==J&&e}function d(){}function p(e){for(var n=0,t=e.length,r="";t>n;n++)r+=e[n].value;return r}function h(e,n,t){var r=n.dir,i=t&&"parentNode"===r,a=B++;return n.first?function(n,t,a){for(;n=n[r];)if(1===n.nodeType||i)return e(n,t,a)}:function(n,t,o){var s,l,c=[q,a];if(o){for(;n=n[r];)if((1===n.nodeType||i)&&e(n,t,o))return!0}else for(;n=n[r];)if(1===n.nodeType||i){if(l=n[F]||(n[F]={}),(s=l[r])&&s[0]===q&&s[1]===a)return c[2]=s[2];if(l[r]=c,c[2]=e(n,t,o))return!0}}}function f(e){return e.length>1?function(n,t,r){for(var i=e.length;i--;)if(!e[i](n,t,r))return!1;return!0}:e[0]}function m(e,t,r){for(var i=0,a=t.length;a>i;i++)n(e,t[i],r);return r}function v(e,n,t,r,i){for(var a,o=[],s=0,l=e.length,c=null!=n;l>s;s++)(a=e[s])&&(!t||t(a,r,i))&&(o.push(a),c&&n.push(s));return o}function g(e,n,t,i,a,o){return i&&!i[F]&&(i=g(i)),a&&!a[F]&&(a=g(a,o)),r(function(r,o,s,l){var c,u,d,p=[],h=[],f=o.length,g=r||m(n||"*",s.nodeType?[s]:s,[]),b=!e||!r&&n?g:v(g,p,e,s,l),w=t?a||(r?e:f||i)?[]:o:b;if(t&&t(b,w,s,l),i)for(c=v(w,h),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(w[h[u]]=!(b[h[u]]=d));if(r){if(a||e){if(a){for(c=[],u=w.length;u--;)(d=w[u])&&c.push(b[u]=d);a(null,w=[],c,l)}for(u=w.length;u--;)(d=w[u])&&(c=a?nn.call(r,d):p[u])>-1&&(r[c]=!(o[c]=d))}}else w=v(w===o?w.splice(f,w.length):w),a?a(null,o,w,l):Z.apply(o,w)})}function b(e){for(var n,t,r,i=e.length,a=x.relative[e[0].type],o=a||x.relative[" "],s=a?1:0,l=h(function(e){return e===n},o,!0),c=h(function(e){return nn.call(n,e)>-1},o,!0),u=[function(e,t,r){return!a&&(r||t!==R)||((n=t).nodeType?l(e,t,r):c(e,t,r))}];i>s;s++)if(t=x.relative[e[s].type])u=[h(f(u),t)];else{if(t=x.filter[e[s].type].apply(null,e[s].matches),t[F]){for(r=++s;i>r&&!x.relative[e[r].type];r++);return g(s>1&&f(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(cn,"$1"),t,r>s&&b(e.slice(s,r)),i>r&&b(e=e.slice(r)),i>r&&p(e))}u.push(t)}return f(u)}function w(e,t){var i=t.length>0,a=e.length>0,o=function(r,o,s,l,c){var u,d,p,h=0,f="0",m=r&&[],g=[],b=R,w=r||a&&x.find.TAG("*",c),y=q+=null==b?1:Math.random()||.1,M=w.length;for(c&&(R=o!==A&&o);f!==M&&null!=(u=w[f]);f++){if(a&&u){for(d=0;p=e[d++];)if(p(u,o,s)){l.push(u);break}c&&(q=y)}i&&((u=!p&&u)&&h--,r&&m.push(u))}if(h+=f,i&&f!==h){for(d=0;p=t[d++];)p(m,g,o,s);if(r){if(h>0)for(;f--;)m[f]||g[f]||(g[f]=Y.call(l));g=v(g)}Z.apply(l,g),c&&!r&&g.length>0&&h+t.length>1&&n.uniqueSort(l)}return c&&(q=y,R=b),m};return i?r(o):o}var y,M,x,k,N,C,S,T,R,j,P,E,A,L,_,H,O,D,I,F="sizzle"+-new Date,$=e.document,q=0,B=0,V=t(),U=t(),z=t(),W=function(e,n){return e===n&&(P=!0),0},J="undefined",K=1<<31,Q={}.hasOwnProperty,G=[],Y=G.pop,X=G.push,Z=G.push,en=G.slice,nn=G.indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1},tn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rn="[\\x20\\t\\r\\n\\f]",an="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",on=an.replace("w","w#"),sn="\\["+rn+"*("+an+")(?:"+rn+"*([*^$|!~]?=)"+rn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+on+"))|)"+rn+"*\\]",ln=":("+an+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+sn+")*)|.*)\\)|)",cn=new RegExp("^"+rn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rn+"+$","g"),un=new RegExp("^"+rn+"*,"+rn+"*"),dn=new RegExp("^"+rn+"*([>+~]|"+rn+")"+rn+"*"),pn=new RegExp("="+rn+"*([^\\]'\"]*?)"+rn+"*\\]","g"),hn=new RegExp(ln),fn=new RegExp("^"+on+"$"),mn={ID:new RegExp("^#("+an+")"),CLASS:new RegExp("^\\.("+an+")"),TAG:new RegExp("^("+an.replace("w","w*")+")"),ATTR:new RegExp("^"+sn),PSEUDO:new RegExp("^"+ln),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rn+"*(even|odd|(([+-]|)(\\d*)n|)"+rn+"*(?:([+-]|)"+rn+"*(\\d+)|))"+rn+"*\\)|)","i"),bool:new RegExp("^(?:"+tn+")$","i"),needsContext:new RegExp("^"+rn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rn+"*((?:-\\d)?\\d*)"+rn+"*\\)|)(?=[^-]|$)","i")},vn=/^(?:input|select|textarea|button)$/i,gn=/^h\d$/i,bn=/^[^{]+\{\s*\[native \w/,wn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yn=/[+~]/,Mn=/'|\\/g,xn=new RegExp("\\\\([\\da-f]{1,6}"+rn+"?|("+rn+")|.)","ig"),kn=function(e,n,t){var r="0x"+n-65536;return r!==r||t?n:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(G=en.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(Nn){Z={apply:G.length?function(e,n){X.apply(e,en.call(n))}:function(e,n){for(var t=e.length,r=0;e[t++]=n[r++];);e.length=t-1}}}M=n.support={},N=n.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?"HTML"!==n.nodeName:!1},E=n.setDocument=function(e){var n,t=e?e.ownerDocument||e:$,r=t.defaultView;return t!==A&&9===t.nodeType&&t.documentElement?(A=t,L=t.documentElement,_=!N(t),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){E()},!1):r.attachEvent&&r.attachEvent("onunload",function(){E()})),M.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),M.getElementsByTagName=i(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),M.getElementsByClassName=bn.test(t.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),M.getById=i(function(e){return L.appendChild(e).id=F,!t.getElementsByName||!t.getElementsByName(F).length}),M.getById?(x.find.ID=function(e,n){if(typeof n.getElementById!==J&&_){var t=n.getElementById(e);return t&&t.parentNode?[t]:[]}},x.filter.ID=function(e){var n=e.replace(xn,kn);return function(e){return e.getAttribute("id")===n}}):(delete x.find.ID,x.filter.ID=function(e){var n=e.replace(xn,kn);return function(e){var t=typeof e.getAttributeNode!==J&&e.getAttributeNode("id");return t&&t.value===n}}),x.find.TAG=M.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==J?n.getElementsByTagName(e):void 0}:function(e,n){var t,r=[],i=0,a=n.getElementsByTagName(e);if("*"===e){for(;t=a[i++];)1===t.nodeType&&r.push(t);return r}return a},x.find.CLASS=M.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==J&&_?n.getElementsByClassName(e):void 0},O=[],H=[],(M.qsa=bn.test(t.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&H.push("[*^$]="+rn+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+rn+"*(?:value|"+tn+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),i(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+rn+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(M.matchesSelector=bn.test(D=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){M.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),O.push("!=",ln)}),H=H.length&&new RegExp(H.join("|")),O=O.length&&new RegExp(O.join("|")),n=bn.test(L.compareDocumentPosition),I=n||bn.test(L.contains)?function(e,n){var t=9===e.nodeType?e.documentElement:e,r=n&&n.parentNode;return e===r||!(!r||1!==r.nodeType||!(t.contains?t.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,n){if(n)for(;n=n.parentNode;)if(n===e)return!0;return!1},W=n?function(e,n){if(e===n)return P=!0,0;var r=!e.compareDocumentPosition-!n.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(n.ownerDocument||n)?e.compareDocumentPosition(n):1,1&r||!M.sortDetached&&n.compareDocumentPosition(e)===r?e===t||e.ownerDocument===$&&I($,e)?-1:n===t||n.ownerDocument===$&&I($,n)?1:j?nn.call(j,e)-nn.call(j,n):0:4&r?-1:1)}:function(e,n){if(e===n)return P=!0,0;var r,i=0,a=e.parentNode,s=n.parentNode,l=[e],c=[n];if(!a||!s)return e===t?-1:n===t?1:a?-1:s?1:j?nn.call(j,e)-nn.call(j,n):0;if(a===s)return o(e,n);for(r=e;r=r.parentNode;)l.unshift(r);for(r=n;r=r.parentNode;)c.unshift(r);for(;l[i]===c[i];)i++;return i?o(l[i],c[i]):l[i]===$?-1:c[i]===$?1:0},t):A},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&E(e),t=t.replace(pn,"='$1']"),!(!M.matchesSelector||!_||O&&O.test(t)||H&&H.test(t)))try{var r=D.call(e,t);if(r||M.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return n(t,A,null,[e]).length>0},n.contains=function(e,n){return(e.ownerDocument||e)!==A&&E(e),I(e,n)},n.attr=function(e,n){(e.ownerDocument||e)!==A&&E(e);var t=x.attrHandle[n.toLowerCase()],r=t&&Q.call(x.attrHandle,n.toLowerCase())?t(e,n,!_):void 0;return void 0!==r?r:M.attributes||!_?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var n,t=[],r=0,i=0;if(P=!M.detectDuplicates,j=!M.sortStable&&e.slice(0),e.sort(W),P){for(;n=e[i++];)n===e[i]&&(r=t.push(i));for(;r--;)e.splice(t[r],1)}return j=null,e},k=n.getText=function(e){var n,t="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;n=e[r++];)t+=k(n);return t},x=n.selectors={cacheLength:50,createPseudo:r,match:mn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xn,kn),e[3]=(e[3]||e[4]||e[5]||"").replace(xn,kn),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,t=!e[6]&&e[2];return mn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&hn.test(t)&&(n=C(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(xn,kn).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===n}},CLASS:function(e){var n=V[e+" "];return n||(n=new RegExp("(^|"+rn+")"+e+"("+rn+"|$)"))&&V(e,function(e){return n.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==J&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var a=n.attr(i,e);return null==a?"!="===t:t?(a+="","="===t?a===r:"!="===t?a!==r:"^="===t?r&&0===a.indexOf(r):"*="===t?r&&a.indexOf(r)>-1:"$="===t?r&&a.slice(-r.length)===r:"~="===t?(" "+a+" ").indexOf(r)>-1:"|="===t?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,n,t,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===n;return 1===r&&0===i?function(e){return!!e.parentNode}:function(n,t,l){var c,u,d,p,h,f,m=a!==o?"nextSibling":"previousSibling",v=n.parentNode,g=s&&n.nodeName.toLowerCase(),b=!l&&!s;if(v){if(a){for(;m;){for(d=n;d=d[m];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&b){for(u=v[F]||(v[F]={}),c=u[e]||[],h=c[0]===q&&c[1],p=c[0]===q&&c[2],d=h&&v.childNodes[h];d=++h&&d&&d[m]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===n){u[e]=[q,h,p];break}}else if(b&&(c=(n[F]||(n[F]={}))[e])&&c[0]===q)p=c[1];else for(;(d=++h&&d&&d[m]||(p=h=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++p||(b&&((d[F]||(d[F]={}))[e]=[q,p]),d!==n)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,t){var i,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return a[F]?a(t):a.length>1?(i=[e,e,"",t],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,i=a(e,t),o=i.length;o--;)r=nn.call(e,i[o]),e[r]=!(n[r]=i[o])}):function(e){return a(e,0,i)}):a}},pseudos:{not:r(function(e){var n=[],t=[],i=S(e.replace(cn,"$1"));return i[F]?r(function(e,n,t,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(n[s]=a))}):function(e,r,a){return n[0]=e,i(n,null,a,t),!t.pop()}}),has:r(function(e){return function(t){return n(e,t).length>0}}),contains:r(function(e){return function(n){return(n.textContent||n.innerText||k(n)).indexOf(e)>-1}}),lang:r(function(e){return fn.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(xn,kn).toLowerCase(),function(n){var t;do if(t=_?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return t=t.toLowerCase(),t===e||0===t.indexOf(e+"-");while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(n){var t=e.location&&e.location.hash;return t&&t.slice(1)===n.id},root:function(e){return e===L},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return"input"===n&&!!e.checked||"option"===n&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return gn.test(e.nodeName)},input:function(e){return vn.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return"input"===n&&"button"===e.type||"button"===n},text:function(e){var n;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(n=e.getAttribute("type"))||"text"===n.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,n){return[n-1]}),eq:c(function(e,n,t){return[0>t?t+n:t]}),even:c(function(e,n){for(var t=0;n>t;t+=2)e.push(t);return e}),odd:c(function(e,n){for(var t=1;n>t;t+=2)e.push(t);return e}),lt:c(function(e,n,t){for(var r=0>t?t+n:t;--r>=0;)e.push(r);return e}),gt:c(function(e,n,t){for(var r=0>t?t+n:t;++r<n;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=s(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=l(y);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,C=n.tokenize=function(e,t){var r,i,a,o,s,l,c,u=U[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=x.preFilter;s;){(!r||(i=un.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),r=!1,(i=dn.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(cn," ")}),s=s.slice(r.length));for(o in x.filter)!(i=mn[o].exec(s))||c[o]&&!(i=c[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?n.error(e):U(e,l).slice(0)},S=n.compile=function(e,n){var t,r=[],i=[],a=z[e+" "];if(!a){for(n||(n=C(e)),t=n.length;t--;)a=b(n[t]),a[F]?r.push(a):i.push(a);a=z(e,w(i,r)),a.selector=e}return a},T=n.select=function(e,n,t,r){var i,a,o,s,l,c="function"==typeof e&&e,d=!r&&C(e=c.selector||e);if(t=t||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&M.getById&&9===n.nodeType&&_&&x.relative[a[1].type]){if(n=(x.find.ID(o.matches[0].replace(xn,kn),n)||[])[0],!n)return t;c&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(i=mn.needsContext.test(e)?0:a.length;i--&&(o=a[i],!x.relative[s=o.type]);)if((l=x.find[s])&&(r=l(o.matches[0].replace(xn,kn),yn.test(a[0].type)&&u(n.parentNode)||n))){if(a.splice(i,1),e=r.length&&p(a),!e)return Z.apply(t,r),t;break}}return(c||S(e,d))(r,n,!_,t,yn.test(e)&&u(n.parentNode)||n),t},M.sortStable=F.split("").sort(W).join("")===F,M.detectDuplicates=!!P,E(),M.sortDetached=i(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,n,t){return t?void 0:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),M.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,n,t){return t||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||a(tn,function(e,n,t){var r;return t?void 0:e[n]===!0?n.toLowerCase():(r=e.getAttributeNode(n))&&r.specified?r.value:null}),n}(e);an.find=un,an.expr=un.selectors,an.expr[":"]=an.expr.pseudos,an.unique=un.uniqueSort,an.text=un.getText,an.isXMLDoc=un.isXML,an.contains=un.contains;var dn=an.expr.match.needsContext,pn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,hn=/^.[^:#\[\.,]*$/;an.filter=function(e,n,t){var r=n[0];return t&&(e=":not("+e+")"),1===n.length&&1===r.nodeType?an.find.matchesSelector(r,e)?[r]:[]:an.find.matches(e,an.grep(n,function(e){return 1===e.nodeType}))},an.fn.extend({find:function(e){var n,t=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(an(e).filter(function(){for(n=0;i>n;n++)if(an.contains(r[n],this))return!0}));for(n=0;i>n;n++)an.find(e,r[n],t);return t=this.pushStack(i>1?an.unique(t):t),t.selector=this.selector?this.selector+" "+e:e,t},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&dn.test(e)?an(e):e||[],!1).length}});var fn,mn=e.document,vn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gn=an.fn.init=function(e,n){var t,r;if(!e)return this;if("string"==typeof e){if(t="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:vn.exec(e),!t||!t[1]&&n)return!n||n.jquery?(n||fn).find(e):this.constructor(n).find(e);if(t[1]){if(n=n instanceof an?n[0]:n,an.merge(this,an.parseHTML(t[1],n&&n.nodeType?n.ownerDocument||n:mn,!0)),pn.test(t[1])&&an.isPlainObject(n))for(t in n)an.isFunction(this[t])?this[t](n[t]):this.attr(t,n[t]);return this}if(r=mn.getElementById(t[2]),r&&r.parentNode){if(r.id!==t[2])return fn.find(e);this.length=1,this[0]=r}return this.context=mn,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):an.isFunction(e)?"undefined"!=typeof fn.ready?fn.ready(e):e(an):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),an.makeArray(e,this))};gn.prototype=an.fn,fn=an(mn);var bn=/^(?:parents|prev(?:Until|All))/,wn={children:!0,contents:!0,next:!0,prev:!0};an.extend({dir:function(e,n,t){for(var r=[],i=e[n];i&&9!==i.nodeType&&(void 0===t||1!==i.nodeType||!an(i).is(t));)1===i.nodeType&&r.push(i),i=i[n];return r},sibling:function(e,n){for(var t=[];e;e=e.nextSibling)1===e.nodeType&&e!==n&&t.push(e);return t}}),an.fn.extend({has:function(e){var n,t=an(e,this),r=t.length;return this.filter(function(){for(n=0;r>n;n++)if(an.contains(this,t[n]))return!0})},closest:function(e,n){for(var t,r=0,i=this.length,a=[],o=dn.test(e)||"string"!=typeof e?an(e,n||this.context):0;i>r;r++)for(t=this[r];t&&t!==n;t=t.parentNode)if(t.nodeType<11&&(o?o.index(t)>-1:1===t.nodeType&&an.find.matchesSelector(t,e))){a.push(t);break}return this.pushStack(a.length>1?an.unique(a):a)},index:function(e){return e?"string"==typeof e?an.inArray(this[0],an(e)):an.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,n){return this.pushStack(an.unique(an.merge(this.get(),an(e,n))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),an.each({parent:function(e){var n=e.parentNode;return n&&11!==n.nodeType?n:null},parents:function(e){return an.dir(e,"parentNode")},parentsUntil:function(e,n,t){return an.dir(e,"parentNode",t)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return an.dir(e,"nextSibling")},prevAll:function(e){return an.dir(e,"previousSibling")},nextUntil:function(e,n,t){return an.dir(e,"nextSibling",t)},prevUntil:function(e,n,t){return an.dir(e,"previousSibling",t)},siblings:function(e){return an.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return an.sibling(e.firstChild)},contents:function(e){return an.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:an.merge([],e.childNodes)}},function(e,n){an.fn[e]=function(t,r){var i=an.map(this,n,t);return"Until"!==e.slice(-5)&&(r=t),r&&"string"==typeof r&&(i=an.filter(r,i)),this.length>1&&(wn[e]||(i=an.unique(i)),bn.test(e)&&(i=i.reverse())),this.pushStack(i)}});var yn=/\S+/g,Mn={};an.Callbacks=function(e){e="string"==typeof e?Mn[e]||a(e):an.extend({},e);var n,t,r,i,o,s,l=[],c=!e.once&&[],u=function(a){for(t=e.memory&&a,r=!0,o=s||0,s=0,i=l.length,n=!0;l&&i>o;o++)if(l[o].apply(a[0],a[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var r=l.length;!function a(n){an.each(n,function(n,t){var r=an.type(t);"function"===r?e.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==r&&a(t)})}(arguments),n?i=l.length:t&&(s=r,u(t))}return this},remove:function(){return l&&an.each(arguments,function(e,t){for(var r;(r=an.inArray(t,l,r))>-1;)l.splice(r,1),n&&(i>=r&&i--,o>=r&&o--)}),this},has:function(e){return e?an.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||r&&!c||(t=t||[],t=[e,t.slice?t.slice():t],n?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},an.extend({Deferred:function(e){var n=[["resolve","done",an.Callbacks("once memory"),"resolved"],["reject","fail",an.Callbacks("once memory"),"rejected"],["notify","progress",an.Callbacks("memory")]],t="pending",r={state:function(){return t},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return an.Deferred(function(t){an.each(n,function(n,a){var o=an.isFunction(e[n])&&e[n];i[a[1]](function(){var e=o&&o.apply(this,arguments);e&&an.isFunction(e.promise)?e.promise().done(t.resolve).fail(t.reject).progress(t.notify):t[a[0]+"With"](this===r?t.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?an.extend(e,r):r}},i={};return r.pipe=r.then,an.each(n,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){t=s},n[1^e][2].disable,n[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var n,t,r,i=0,a=Q.call(arguments),o=a.length,s=1!==o||e&&an.isFunction(e.promise)?o:0,l=1===s?e:an.Deferred(),c=function(e,t,r){return function(i){t[e]=this,r[e]=arguments.length>1?Q.call(arguments):i,r===n?l.notifyWith(t,r):--s||l.resolveWith(t,r)}};if(o>1)for(n=new Array(o),t=new Array(o),r=new Array(o);o>i;i++)a[i]&&an.isFunction(a[i].promise)?a[i].promise().done(c(i,r,a)).fail(l.reject).progress(c(i,t,n)):--s;return s||l.resolveWith(r,a),l.promise()}});var xn;an.fn.ready=function(e){return an.ready.promise().done(e),this},an.extend({isReady:!1,readyWait:1,holdReady:function(e){e?an.readyWait++:an.ready(!0)},ready:function(e){if(e===!0?!--an.readyWait:!an.isReady){if(!mn.body)return setTimeout(an.ready);an.isReady=!0,e!==!0&&--an.readyWait>0||(xn.resolveWith(mn,[an]),an.fn.triggerHandler&&(an(mn).triggerHandler("ready"),an(mn).off("ready")))}}}),an.ready.promise=function(n){if(!xn)if(xn=an.Deferred(),"complete"===mn.readyState)setTimeout(an.ready);else if(mn.addEventListener)mn.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{mn.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var t=!1;try{t=null==e.frameElement&&mn.documentElement}catch(r){}t&&t.doScroll&&!function i(){if(!an.isReady){try{t.doScroll("left")}catch(e){return setTimeout(i,50)}o(),an.ready()}}()}return xn.promise(n)};var kn,Nn="undefined";for(kn in an(tn))break;tn.ownLast="0"!==kn,tn.inlineBlockNeedsLayout=!1,an(function(){var e,n,t,r;t=mn.getElementsByTagName("body")[0],t&&t.style&&(n=mn.createElement("div"),r=mn.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(r).appendChild(n),typeof n.style.zoom!==Nn&&(n.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",tn.inlineBlockNeedsLayout=e=3===n.offsetWidth,e&&(t.style.zoom=1)),t.removeChild(r))}),function(){var e=mn.createElement("div");if(null==tn.deleteExpando){tn.deleteExpando=!0;try{delete e.test}catch(n){tn.deleteExpando=!1}}e=null}(),an.acceptData=function(e){var n=an.noData[(e.nodeName+" ").toLowerCase()],t=+e.nodeType||1;return 1!==t&&9!==t?!1:!n||n!==!0&&e.getAttribute("classid")===n};var Cn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Sn=/([A-Z])/g;an.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?an.cache[e[an.expando]]:e[an.expando],!!e&&!c(e)},data:function(e,n,t){return u(e,n,t)},removeData:function(e,n){return d(e,n)},_data:function(e,n,t){return u(e,n,t,!0)},_removeData:function(e,n){return d(e,n,!0)}}),an.fn.extend({data:function(e,n){var t,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=an.data(a),1===a.nodeType&&!an._data(a,"parsedAttrs"))){for(t=o.length;t--;)o[t]&&(r=o[t].name,0===r.indexOf("data-")&&(r=an.camelCase(r.slice(5)),l(a,r,i[r])));an._data(a,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){an.data(this,e)}):arguments.length>1?this.each(function(){an.data(this,e,n)}):a?l(a,e,an.data(a,e)):void 0},removeData:function(e){return this.each(function(){an.removeData(this,e)})}}),an.extend({queue:function(e,n,t){var r;return e?(n=(n||"fx")+"queue",r=an._data(e,n),t&&(!r||an.isArray(t)?r=an._data(e,n,an.makeArray(t)):r.push(t)),r||[]):void 0},dequeue:function(e,n){n=n||"fx";var t=an.queue(e,n),r=t.length,i=t.shift(),a=an._queueHooks(e,n),o=function(){an.dequeue(e,n)};"inprogress"===i&&(i=t.shift(),r--),i&&("fx"===n&&t.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,n){var t=n+"queueHooks";return an._data(e,t)||an._data(e,t,{empty:an.Callbacks("once memory").add(function(){an._removeData(e,n+"queue"),an._removeData(e,t)})})}}),an.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?an.queue(this[0],e):void 0===n?this:this.each(function(){var t=an.queue(this,e,n);an._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&an.dequeue(this,e)})},dequeue:function(e){return this.each(function(){an.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var t,r=1,i=an.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=void 0),e=e||"fx";o--;)t=an._data(a[o],e+"queueHooks"),t&&t.empty&&(r++,t.empty.add(s));return s(),i.promise(n)}});var Tn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rn=["Top","Right","Bottom","Left"],jn=function(e,n){return e=n||e,"none"===an.css(e,"display")||!an.contains(e.ownerDocument,e)},Pn=an.access=function(e,n,t,r,i,a,o){var s=0,l=e.length,c=null==t;if("object"===an.type(t)){i=!0;for(s in t)an.access(e,n,s,t[s],!0,a,o)}else if(void 0!==r&&(i=!0,an.isFunction(r)||(o=!0),c&&(o?(n.call(e,r),n=null):(c=n,n=function(e,n,t){return c.call(an(e),t)})),n))for(;l>s;s++)n(e[s],t,o?r:r.call(e[s],s,n(e[s],t)));return i?e:c?n.call(e):l?n(e[0],t):a},En=/^(?:checkbox|radio)$/i;!function(){var e=mn.createElement("input"),n=mn.createElement("div"),t=mn.createDocumentFragment();if(n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",tn.leadingWhitespace=3===n.firstChild.nodeType,tn.tbody=!n.getElementsByTagName("tbody").length,tn.htmlSerialize=!!n.getElementsByTagName("link").length,tn.html5Clone="<:nav></:nav>"!==mn.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,t.appendChild(e),tn.appendChecked=e.checked,n.innerHTML="<textarea>x</textarea>",tn.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,t.appendChild(n),n.innerHTML="<input type='radio' checked='checked' name='t'/>",tn.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,tn.noCloneEvent=!0,n.attachEvent&&(n.attachEvent("onclick",function(){tn.noCloneEvent=!1}),n.cloneNode(!0).click()),null==tn.deleteExpando){tn.deleteExpando=!0;try{delete n.test}catch(r){tn.deleteExpando=!1}}}(),function(){var n,t,r=mn.createElement("div");for(n in{submit:!0,change:!0,focusin:!0})t="on"+n,(tn[n+"Bubbles"]=t in e)||(r.setAttribute(t,"t"),tn[n+"Bubbles"]=r.attributes[t].expando===!1);r=null}();var An=/^(?:input|select|textarea)$/i,Ln=/^key/,_n=/^(?:mouse|pointer|contextmenu)|click/,Hn=/^(?:focusinfocus|focusoutblur)$/,On=/^([^.]*)(?:\.(.+)|)$/;an.event={global:{},add:function(e,n,t,r,i){var a,o,s,l,c,u,d,p,h,f,m,v=an._data(e);if(v){for(t.handler&&(l=t,t=l.handler,i=l.selector),t.guid||(t.guid=an.guid++),(o=v.events)||(o=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof an===Nn||e&&an.event.triggered===e.type?void 0:an.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(yn)||[""],s=n.length;s--;)a=On.exec(n[s])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h&&(c=an.event.special[h]||{},h=(i?c.delegateType:c.bindType)||h,c=an.event.special[h]||{},d=an.extend({type:h,origType:m,data:r,handler:t,guid:t.guid,selector:i,needsContext:i&&an.expr.match.needsContext.test(i),namespace:f.join(".")},l),(p=o[h])||(p=o[h]=[],p.delegateCount=0,c.setup&&c.setup.call(e,r,f,u)!==!1||(e.addEventListener?e.addEventListener(h,u,!1):e.attachEvent&&e.attachEvent("on"+h,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=t.guid)),i?p.splice(p.delegateCount++,0,d):p.push(d),an.event.global[h]=!0);e=null}},remove:function(e,n,t,r,i){var a,o,s,l,c,u,d,p,h,f,m,v=an.hasData(e)&&an._data(e);if(v&&(u=v.events)){for(n=(n||"").match(yn)||[""],c=n.length;c--;)if(s=On.exec(n[c])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h){for(d=an.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,p=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=p.length;a--;)o=p[a],!i&&m!==o.origType||t&&t.guid!==o.guid||s&&!s.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(p.splice(a,1),o.selector&&p.delegateCount--,d.remove&&d.remove.call(e,o));
l&&!p.length&&(d.teardown&&d.teardown.call(e,f,v.handle)!==!1||an.removeEvent(e,h,v.handle),delete u[h])}else for(h in u)an.event.remove(e,h+n[c],t,r,!0);an.isEmptyObject(u)&&(delete v.handle,an._removeData(e,"events"))}},trigger:function(n,t,r,i){var a,o,s,l,c,u,d,p=[r||mn],h=nn.call(n,"type")?n.type:n,f=nn.call(n,"namespace")?n.namespace.split("."):[];if(s=u=r=r||mn,3!==r.nodeType&&8!==r.nodeType&&!Hn.test(h+an.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),o=h.indexOf(":")<0&&"on"+h,n=n[an.expando]?n:new an.Event(h,"object"==typeof n&&n),n.isTrigger=i?2:3,n.namespace=f.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=void 0,n.target||(n.target=r),t=null==t?[n]:an.makeArray(t,[n]),c=an.event.special[h]||{},i||!c.trigger||c.trigger.apply(r,t)!==!1)){if(!i&&!c.noBubble&&!an.isWindow(r)){for(l=c.delegateType||h,Hn.test(l+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),u=s;u===(r.ownerDocument||mn)&&p.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=p[d++])&&!n.isPropagationStopped();)n.type=d>1?l:c.bindType||h,a=(an._data(s,"events")||{})[n.type]&&an._data(s,"handle"),a&&a.apply(s,t),a=o&&s[o],a&&a.apply&&an.acceptData(s)&&(n.result=a.apply(s,t),n.result===!1&&n.preventDefault());if(n.type=h,!i&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),t)===!1)&&an.acceptData(r)&&o&&r[h]&&!an.isWindow(r)){u=r[o],u&&(r[o]=null),an.event.triggered=h;try{r[h]()}catch(m){}an.event.triggered=void 0,u&&(r[o]=u)}return n.result}},dispatch:function(e){e=an.event.fix(e);var n,t,r,i,a,o=[],s=Q.call(arguments),l=(an._data(this,"events")||{})[e.type]||[],c=an.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=an.event.handlers.call(this,e,l),n=0;(i=o[n++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,a=0;(r=i.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,t=((an.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==t&&(e.result=t)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var t,r,i,a,o=[],s=n.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],a=0;s>a;a++)r=n[a],t=r.selector+" ",void 0===i[t]&&(i[t]=r.needsContext?an(t,this).index(l)>=0:an.find(t,this,null,[l]).length),i[t]&&i.push(r);i.length&&o.push({elem:l,handlers:i})}return s<n.length&&o.push({elem:this,handlers:n.slice(s)}),o},fix:function(e){if(e[an.expando])return e;var n,t,r,i=e.type,a=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=_n.test(i)?this.mouseHooks:Ln.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new an.Event(a),n=r.length;n--;)t=r[n],e[t]=a[t];return e.target||(e.target=a.srcElement||mn),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,n){return null==e.which&&(e.which=null!=n.charCode?n.charCode:n.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var t,r,i,a=n.button,o=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||mn,i=r.documentElement,t=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||t&&t.scrollLeft||0)-(i&&i.clientLeft||t&&t.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||t&&t.scrollTop||0)-(i&&i.clientTop||t&&t.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?n.toElement:o),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return an.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return an.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,n,t,r){var i=an.extend(new an.Event,t,{type:e,isSimulated:!0,originalEvent:{}});r?an.event.trigger(i,null,n):an.event.dispatch.call(n,i),i.isDefaultPrevented()&&t.preventDefault()}},an.removeEvent=mn.removeEventListener?function(e,n,t){e.removeEventListener&&e.removeEventListener(n,t,!1)}:function(e,n,t){var r="on"+n;e.detachEvent&&(typeof e[r]===Nn&&(e[r]=null),e.detachEvent(r,t))},an.Event=function(e,n){return this instanceof an.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:h):this.type=e,n&&an.extend(this,n),this.timeStamp=e&&e.timeStamp||an.now(),void(this[an.expando]=!0)):new an.Event(e,n)},an.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},an.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,n){an.event.special[e]={delegateType:n,bindType:n,handle:function(e){var t,r=this,i=e.relatedTarget,a=e.handleObj;return(!i||i!==r&&!an.contains(r,i))&&(e.type=a.origType,t=a.handler.apply(this,arguments),e.type=n),t}}}),tn.submitBubbles||(an.event.special.submit={setup:function(){return an.nodeName(this,"form")?!1:void an.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,t=an.nodeName(n,"input")||an.nodeName(n,"button")?n.form:void 0;t&&!an._data(t,"submitBubbles")&&(an.event.add(t,"submit._submit",function(e){e._submit_bubble=!0}),an._data(t,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&an.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return an.nodeName(this,"form")?!1:void an.event.remove(this,"._submit")}}),tn.changeBubbles||(an.event.special.change={setup:function(){return An.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(an.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),an.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),an.event.simulate("change",this,e,!0)})),!1):void an.event.add(this,"beforeactivate._change",function(e){var n=e.target;An.test(n.nodeName)&&!an._data(n,"changeBubbles")&&(an.event.add(n,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||an.event.simulate("change",this.parentNode,e,!0)}),an._data(n,"changeBubbles",!0))})},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return an.event.remove(this,"._change"),!An.test(this.nodeName)}}),tn.focusinBubbles||an.each({focus:"focusin",blur:"focusout"},function(e,n){var t=function(e){an.event.simulate(n,e.target,an.event.fix(e),!0)};an.event.special[n]={setup:function(){var r=this.ownerDocument||this,i=an._data(r,n);i||r.addEventListener(e,t,!0),an._data(r,n,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=an._data(r,n)-1;i?an._data(r,n,i):(r.removeEventListener(e,t,!0),an._removeData(r,n))}}}),an.fn.extend({on:function(e,n,t,r,i){var a,o;if("object"==typeof e){"string"!=typeof n&&(t=t||n,n=void 0);for(a in e)this.on(a,n,t,e[a],i);return this}if(null==t&&null==r?(r=n,t=n=void 0):null==r&&("string"==typeof n?(r=t,t=void 0):(r=t,t=n,n=void 0)),r===!1)r=h;else if(!r)return this;return 1===i&&(o=r,r=function(e){return an().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=an.guid++)),this.each(function(){an.event.add(this,e,r,t,n)})},one:function(e,n,t,r){return this.on(e,n,t,r,1)},off:function(e,n,t){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,an(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,n,e[i]);return this}return(n===!1||"function"==typeof n)&&(t=n,n=void 0),t===!1&&(t=h),this.each(function(){an.event.remove(this,e,t,n)})},trigger:function(e,n){return this.each(function(){an.event.trigger(e,n,this)})},triggerHandler:function(e,n){var t=this[0];return t?an.event.trigger(e,n,t,!0):void 0}});var Dn="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",In=/ jQuery\d+="(?:null|\d+)"/g,Fn=new RegExp("<(?:"+Dn+")[\\s/>]","i"),$n=/^\s+/,qn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Bn=/<([\w:]+)/,Vn=/<tbody/i,Un=/<|&#?\w+;/,zn=/<(?:script|style|link)/i,Wn=/checked\s*(?:[^=]|=\s*.checked.)/i,Jn=/^$|\/(?:java|ecma)script/i,Kn=/^true\/(.*)/,Qn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Gn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:tn.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Yn=m(mn),Xn=Yn.appendChild(mn.createElement("div"));Gn.optgroup=Gn.option,Gn.tbody=Gn.tfoot=Gn.colgroup=Gn.caption=Gn.thead,Gn.th=Gn.td,an.extend({clone:function(e,n,t){var r,i,a,o,s,l=an.contains(e.ownerDocument,e);if(tn.html5Clone||an.isXMLDoc(e)||!Fn.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Xn.innerHTML=e.outerHTML,Xn.removeChild(a=Xn.firstChild)),!(tn.noCloneEvent&&tn.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||an.isXMLDoc(e)))for(r=v(a),s=v(e),o=0;null!=(i=s[o]);++o)r[o]&&k(i,r[o]);if(n)if(t)for(s=s||v(e),r=r||v(a),o=0;null!=(i=s[o]);o++)x(i,r[o]);else x(e,a);return r=v(a,"script"),r.length>0&&M(r,!l&&v(e,"script")),r=s=i=null,a},buildFragment:function(e,n,t,r){for(var i,a,o,s,l,c,u,d=e.length,p=m(n),h=[],f=0;d>f;f++)if(a=e[f],a||0===a)if("object"===an.type(a))an.merge(h,a.nodeType?[a]:a);else if(Un.test(a)){for(s=s||p.appendChild(n.createElement("div")),l=(Bn.exec(a)||["",""])[1].toLowerCase(),u=Gn[l]||Gn._default,s.innerHTML=u[1]+a.replace(qn,"<$1></$2>")+u[2],i=u[0];i--;)s=s.lastChild;if(!tn.leadingWhitespace&&$n.test(a)&&h.push(n.createTextNode($n.exec(a)[0])),!tn.tbody)for(a="table"!==l||Vn.test(a)?"<table>"!==u[1]||Vn.test(a)?0:s:s.firstChild,i=a&&a.childNodes.length;i--;)an.nodeName(c=a.childNodes[i],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(an.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(n.createTextNode(a));for(s&&p.removeChild(s),tn.appendChecked||an.grep(v(h,"input"),g),f=0;a=h[f++];)if((!r||-1===an.inArray(a,r))&&(o=an.contains(a.ownerDocument,a),s=v(p.appendChild(a),"script"),o&&M(s),t))for(i=0;a=s[i++];)Jn.test(a.type||"")&&t.push(a);return s=null,p},cleanData:function(e,n){for(var t,r,i,a,o=0,s=an.expando,l=an.cache,c=tn.deleteExpando,u=an.event.special;null!=(t=e[o]);o++)if((n||an.acceptData(t))&&(i=t[s],a=i&&l[i])){if(a.events)for(r in a.events)u[r]?an.event.remove(t,r):an.removeEvent(t,r,a.handle);l[i]&&(delete l[i],c?delete t[s]:typeof t.removeAttribute!==Nn?t.removeAttribute(s):t[s]=null,K.push(i))}}}),an.fn.extend({text:function(e){return Pn(this,function(e){return void 0===e?an.text(this):this.empty().append((this[0]&&this[0].ownerDocument||mn).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var n=b(this,e);n.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var n=b(this,e);n.insertBefore(e,n.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,n){for(var t,r=e?an.filter(e,this):this,i=0;null!=(t=r[i]);i++)n||1!==t.nodeType||an.cleanData(v(t)),t.parentNode&&(n&&an.contains(t.ownerDocument,t)&&M(v(t,"script")),t.parentNode.removeChild(t));return this},empty:function(){for(var e,n=0;null!=(e=this[n]);n++){for(1===e.nodeType&&an.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&an.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,n){return e=null==e?!1:e,n=null==n?e:n,this.map(function(){return an.clone(this,e,n)})},html:function(e){return Pn(this,function(e){var n=this[0]||{},t=0,r=this.length;if(void 0===e)return 1===n.nodeType?n.innerHTML.replace(In,""):void 0;if(!("string"!=typeof e||zn.test(e)||!tn.htmlSerialize&&Fn.test(e)||!tn.leadingWhitespace&&$n.test(e)||Gn[(Bn.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(qn,"<$1></$2>");try{for(;r>t;t++)n=this[t]||{},1===n.nodeType&&(an.cleanData(v(n,!1)),n.innerHTML=e);n=0}catch(i){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(n){e=this.parentNode,an.cleanData(v(this)),e&&e.replaceChild(n,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,n){e=G.apply([],e);var t,r,i,a,o,s,l=0,c=this.length,u=this,d=c-1,p=e[0],h=an.isFunction(p);if(h||c>1&&"string"==typeof p&&!tn.checkClone&&Wn.test(p))return this.each(function(t){var r=u.eq(t);h&&(e[0]=p.call(this,t,r.html())),r.domManip(e,n)});if(c&&(s=an.buildFragment(e,this[0].ownerDocument,!1,this),t=s.firstChild,1===s.childNodes.length&&(s=t),t)){for(a=an.map(v(s,"script"),w),i=a.length;c>l;l++)r=s,l!==d&&(r=an.clone(r,!0,!0),i&&an.merge(a,v(r,"script"))),n.call(this[l],r,l);if(i)for(o=a[a.length-1].ownerDocument,an.map(a,y),l=0;i>l;l++)r=a[l],Jn.test(r.type||"")&&!an._data(r,"globalEval")&&an.contains(o,r)&&(r.src?an._evalUrl&&an._evalUrl(r.src):an.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Qn,"")));s=t=null}return this}}),an.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,n){an.fn[e]=function(e){for(var t,r=0,i=[],a=an(e),o=a.length-1;o>=r;r++)t=r===o?this:this.clone(!0),an(a[r])[n](t),Y.apply(i,t.get());return this.pushStack(i)}});var Zn,et={};!function(){var e;tn.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var n,t,r;return t=mn.getElementsByTagName("body")[0],t&&t.style?(n=mn.createElement("div"),r=mn.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(r).appendChild(n),typeof n.style.zoom!==Nn&&(n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",n.appendChild(mn.createElement("div")).style.width="5px",e=3!==n.offsetWidth),t.removeChild(r),e):void 0}}();var nt,tt,rt=/^margin/,it=new RegExp("^("+Tn+")(?!px)[a-z%]+$","i"),at=/^(top|right|bottom|left)$/;e.getComputedStyle?(nt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tt=function(e,n,t){var r,i,a,o,s=e.style;return t=t||nt(e),o=t?t.getPropertyValue(n)||t[n]:void 0,t&&(""!==o||an.contains(e.ownerDocument,e)||(o=an.style(e,n)),it.test(o)&&rt.test(n)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=t.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0===o?o:o+""}):mn.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},tt=function(e,n,t){var r,i,a,o,s=e.style;return t=t||nt(e),o=t?t[n]:void 0,null==o&&s&&s[n]&&(o=s[n]),it.test(o)&&!at.test(n)&&(r=s.left,i=e.runtimeStyle,a=i&&i.left,a&&(i.left=e.currentStyle.left),s.left="fontSize"===n?"1em":o,o=s.pixelLeft+"px",s.left=r,a&&(i.left=a)),void 0===o?o:o+""||"auto"}),function(){function n(){var n,t,r,i;t=mn.getElementsByTagName("body")[0],t&&t.style&&(n=mn.createElement("div"),r=mn.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(r).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=o=!1,l=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(n,null)||{}).top,o="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width,i=n.appendChild(mn.createElement("div")),i.style.cssText=n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",n.style.width="1px",l=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=n.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),t.removeChild(r))}var t,r,i,a,o,s,l;t=mn.createElement("div"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",tn.opacity="0.5"===r.opacity,tn.cssFloat=!!r.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",tn.clearCloneStyle="content-box"===t.style.backgroundClip,tn.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,an.extend(tn,{reliableHiddenOffsets:function(){return null==s&&n(),s},boxSizingReliable:function(){return null==o&&n(),o},pixelPosition:function(){return null==a&&n(),a},reliableMarginRight:function(){return null==l&&n(),l}}))}(),an.swap=function(e,n,t,r){var i,a,o={};for(a in n)o[a]=e.style[a],e.style[a]=n[a];i=t.apply(e,r||[]);for(a in n)e.style[a]=o[a];return i};var ot=/alpha\([^)]*\)/i,st=/opacity\s*=\s*([^)]*)/,lt=/^(none|table(?!-c[ea]).+)/,ct=new RegExp("^("+Tn+")(.*)$","i"),ut=new RegExp("^([+-])=("+Tn+")","i"),dt={position:"absolute",visibility:"hidden",display:"block"},pt={letterSpacing:"0",fontWeight:"400"},ht=["Webkit","O","Moz","ms"];an.extend({cssHooks:{opacity:{get:function(e,n){if(n){var t=tt(e,"opacity");return""===t?"1":t}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":tn.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,t,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=an.camelCase(n),l=e.style;if(n=an.cssProps[s]||(an.cssProps[s]=T(l,s)),o=an.cssHooks[n]||an.cssHooks[s],void 0===t)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:l[n];if(a=typeof t,"string"===a&&(i=ut.exec(t))&&(t=(i[1]+1)*i[2]+parseFloat(an.css(e,n)),a="number"),null!=t&&t===t&&("number"!==a||an.cssNumber[s]||(t+="px"),tn.clearCloneStyle||""!==t||0!==n.indexOf("background")||(l[n]="inherit"),!(o&&"set"in o&&void 0===(t=o.set(e,t,r)))))try{l[n]=t}catch(c){}}},css:function(e,n,t,r){var i,a,o,s=an.camelCase(n);return n=an.cssProps[s]||(an.cssProps[s]=T(e.style,s)),o=an.cssHooks[n]||an.cssHooks[s],o&&"get"in o&&(a=o.get(e,!0,t)),void 0===a&&(a=tt(e,n,r)),"normal"===a&&n in pt&&(a=pt[n]),""===t||t?(i=parseFloat(a),t===!0||an.isNumeric(i)?i||0:a):a}}),an.each(["height","width"],function(e,n){an.cssHooks[n]={get:function(e,t,r){return t?lt.test(an.css(e,"display"))&&0===e.offsetWidth?an.swap(e,dt,function(){return E(e,n,r)}):E(e,n,r):void 0},set:function(e,t,r){var i=r&&nt(e);return j(e,t,r?P(e,n,r,tn.boxSizing&&"border-box"===an.css(e,"boxSizing",!1,i),i):0)}}}),tn.opacity||(an.cssHooks.opacity={get:function(e,n){return st.test((n&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":n?"1":""},set:function(e,n){var t=e.style,r=e.currentStyle,i=an.isNumeric(n)?"alpha(opacity="+100*n+")":"",a=r&&r.filter||t.filter||"";t.zoom=1,(n>=1||""===n)&&""===an.trim(a.replace(ot,""))&&t.removeAttribute&&(t.removeAttribute("filter"),""===n||r&&!r.filter)||(t.filter=ot.test(a)?a.replace(ot,i):a+" "+i)}}),an.cssHooks.marginRight=S(tn.reliableMarginRight,function(e,n){return n?an.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),an.each({margin:"",padding:"",border:"Width"},function(e,n){an.cssHooks[e+n]={expand:function(t){for(var r=0,i={},a="string"==typeof t?t.split(" "):[t];4>r;r++)i[e+Rn[r]+n]=a[r]||a[r-2]||a[0];return i}},rt.test(e)||(an.cssHooks[e+n].set=j)}),an.fn.extend({css:function(e,n){return Pn(this,function(e,n,t){var r,i,a={},o=0;if(an.isArray(n)){for(r=nt(e),i=n.length;i>o;o++)a[n[o]]=an.css(e,n[o],!1,r);return a}return void 0!==t?an.style(e,n,t):an.css(e,n)},e,n,arguments.length>1)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){jn(this)?an(this).show():an(this).hide()})}}),an.Tween=A,A.prototype={constructor:A,init:function(e,n,t,r,i,a){this.elem=e,this.prop=t,this.easing=i||"swing",this.options=n,this.start=this.now=this.cur(),this.end=r,this.unit=a||(an.cssNumber[t]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var n,t=A.propHooks[this.prop];return this.pos=n=this.options.duration?an.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var n;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(n=an.css(e.elem,e.prop,""),n&&"auto"!==n?n:0):e.elem[e.prop]},set:function(e){an.fx.step[e.prop]?an.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[an.cssProps[e.prop]]||an.cssHooks[e.prop])?an.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},an.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},an.fx=A.prototype.init,an.fx.step={};var ft,mt,vt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+Tn+")([a-z%]*)$","i"),bt=/queueHooks$/,wt=[O],yt={"*":[function(e,n){var t=this.createTween(e,n),r=t.cur(),i=gt.exec(n),a=i&&i[3]||(an.cssNumber[e]?"":"px"),o=(an.cssNumber[e]||"px"!==a&&+r)&&gt.exec(an.css(t.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],i=i||[],o=+r||1;do s=s||".5",o/=s,an.style(t.elem,e,o+a);while(s!==(s=t.cur()/r)&&1!==s&&--l)}return i&&(o=t.start=+o||+r||0,t.unit=a,t.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),t}]};an.Animation=an.extend(I,{tweener:function(e,n){an.isFunction(e)?(n=e,e=["*"]):e=e.split(" ");for(var t,r=0,i=e.length;i>r;r++)t=e[r],yt[t]=yt[t]||[],yt[t].unshift(n)},prefilter:function(e,n){n?wt.unshift(e):wt.push(e)}}),an.speed=function(e,n,t){var r=e&&"object"==typeof e?an.extend({},e):{complete:t||!t&&n||an.isFunction(e)&&e,duration:e,easing:t&&n||n&&!an.isFunction(n)&&n};return r.duration=an.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in an.fx.speeds?an.fx.speeds[r.duration]:an.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){an.isFunction(r.old)&&r.old.call(this),r.queue&&an.dequeue(this,r.queue)},r},an.fn.extend({fadeTo:function(e,n,t,r){return this.filter(jn).css("opacity",0).show().end().animate({opacity:n},e,t,r)},animate:function(e,n,t,r){var i=an.isEmptyObject(e),a=an.speed(n,t,r),o=function(){var n=I(this,an.extend({},e),a);(i||an._data(this,"finish"))&&n.stop(!0)};return o.finish=o,i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,n,t){var r=function(e){var n=e.stop;delete e.stop,n(t)};return"string"!=typeof e&&(t=n,n=e,e=void 0),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var n=!0,i=null!=e&&e+"queueHooks",a=an.timers,o=an._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&bt.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(t),n=!1,a.splice(i,1));(n||!t)&&an.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var n,t=an._data(this),r=t[e+"queue"],i=t[e+"queueHooks"],a=an.timers,o=r?r.length:0;for(t.finish=!0,an.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),n=a.length;n--;)a[n].elem===this&&a[n].queue===e&&(a[n].anim.stop(!0),a.splice(n,1));for(n=0;o>n;n++)r[n]&&r[n].finish&&r[n].finish.call(this);delete t.finish})}}),an.each(["toggle","show","hide"],function(e,n){var t=an.fn[n];an.fn[n]=function(e,r,i){return null==e||"boolean"==typeof e?t.apply(this,arguments):this.animate(_(n,!0),e,r,i)}}),an.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){an.fn[e]=function(e,t,r){return this.animate(n,e,t,r)}}),an.timers=[],an.fx.tick=function(){var e,n=an.timers,t=0;for(ft=an.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||an.fx.stop(),ft=void 0},an.fx.timer=function(e){an.timers.push(e),e()?an.fx.start():an.timers.pop()},an.fx.interval=13,an.fx.start=function(){mt||(mt=setInterval(an.fx.tick,an.fx.interval))},an.fx.stop=function(){clearInterval(mt),mt=null},an.fx.speeds={slow:600,fast:200,_default:400},an.fn.delay=function(e,n){return e=an.fx?an.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,t){var r=setTimeout(n,e);t.stop=function(){clearTimeout(r)}})},function(){var e,n,t,r,i;n=mn.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],t=mn.createElement("select"),i=t.appendChild(mn.createElement("option")),e=n.getElementsByTagName("input")[0],r.style.cssText="top:1px",tn.getSetAttribute="t"!==n.className,tn.style=/top/.test(r.getAttribute("style")),tn.hrefNormalized="/a"===r.getAttribute("href"),tn.checkOn=!!e.value,tn.optSelected=i.selected,tn.enctype=!!mn.createElement("form").enctype,t.disabled=!0,tn.optDisabled=!i.disabled,e=mn.createElement("input"),e.setAttribute("value",""),tn.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),tn.radioValue="t"===e.value}();var Mt=/\r/g;an.fn.extend({val:function(e){var n,t,r,i=this[0];{if(arguments.length)return r=an.isFunction(e),this.each(function(t){var i;1===this.nodeType&&(i=r?e.call(this,t,an(this).val()):e,null==i?i="":"number"==typeof i?i+="":an.isArray(i)&&(i=an.map(i,function(e){return null==e?"":e+""})),n=an.valHooks[this.type]||an.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&void 0!==n.set(this,i,"value")||(this.value=i))});if(i)return n=an.valHooks[i.type]||an.valHooks[i.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(t=n.get(i,"value"))?t:(t=i.value,"string"==typeof t?t.replace(Mt,""):null==t?"":t)}}}),an.extend({valHooks:{option:{get:function(e){var n=an.find.attr(e,"value");return null!=n?n:an.trim(an.text(e))}},select:{get:function(e){for(var n,t,r=e.options,i=e.selectedIndex,a="select-one"===e.type||0>i,o=a?null:[],s=a?i+1:r.length,l=0>i?s:a?i:0;s>l;l++)if(t=r[l],!(!t.selected&&l!==i||(tn.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&an.nodeName(t.parentNode,"optgroup"))){if(n=an(t).val(),a)return n;o.push(n)}return o},set:function(e,n){for(var t,r,i=e.options,a=an.makeArray(n),o=i.length;o--;)if(r=i[o],an.inArray(an.valHooks.option.get(r),a)>=0)try{r.selected=t=!0}catch(s){r.scrollHeight}else r.selected=!1;return t||(e.selectedIndex=-1),i}}}}),an.each(["radio","checkbox"],function(){an.valHooks[this]={set:function(e,n){return an.isArray(n)?e.checked=an.inArray(an(e).val(),n)>=0:void 0}},tn.checkOn||(an.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt,kt,Nt=an.expr.attrHandle,Ct=/^(?:checked|selected)$/i,St=tn.getSetAttribute,Tt=tn.input;an.fn.extend({attr:function(e,n){return Pn(this,an.attr,e,n,arguments.length>1)},removeAttr:function(e){return this.each(function(){an.removeAttr(this,e)})}}),an.extend({attr:function(e,n,t){var r,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Nn?an.prop(e,n,t):(1===a&&an.isXMLDoc(e)||(n=n.toLowerCase(),r=an.attrHooks[n]||(an.expr.match.bool.test(n)?kt:xt)),void 0===t?r&&"get"in r&&null!==(i=r.get(e,n))?i:(i=an.find.attr(e,n),null==i?void 0:i):null!==t?r&&"set"in r&&void 0!==(i=r.set(e,t,n))?i:(e.setAttribute(n,t+""),t):void an.removeAttr(e,n))},removeAttr:function(e,n){var t,r,i=0,a=n&&n.match(yn);if(a&&1===e.nodeType)for(;t=a[i++];)r=an.propFix[t]||t,an.expr.match.bool.test(t)?Tt&&St||!Ct.test(t)?e[r]=!1:e[an.camelCase("default-"+t)]=e[r]=!1:an.attr(e,t,""),e.removeAttribute(St?t:r)},attrHooks:{type:{set:function(e,n){if(!tn.radioValue&&"radio"===n&&an.nodeName(e,"input")){var t=e.value;return e.setAttribute("type",n),t&&(e.value=t),n}}}}}),kt={set:function(e,n,t){return n===!1?an.removeAttr(e,t):Tt&&St||!Ct.test(t)?e.setAttribute(!St&&an.propFix[t]||t,t):e[an.camelCase("default-"+t)]=e[t]=!0,t}},an.each(an.expr.match.bool.source.match(/\w+/g),function(e,n){var t=Nt[n]||an.find.attr;Nt[n]=Tt&&St||!Ct.test(n)?function(e,n,r){var i,a;return r||(a=Nt[n],Nt[n]=i,i=null!=t(e,n,r)?n.toLowerCase():null,Nt[n]=a),i}:function(e,n,t){return t?void 0:e[an.camelCase("default-"+n)]?n.toLowerCase():null}}),Tt&&St||(an.attrHooks.value={set:function(e,n,t){return an.nodeName(e,"input")?void(e.defaultValue=n):xt&&xt.set(e,n,t)}}),St||(xt={set:function(e,n,t){var r=e.getAttributeNode(t);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(t)),r.value=n+="","value"===t||n===e.getAttribute(t)?n:void 0}},Nt.id=Nt.name=Nt.coords=function(e,n,t){var r;return t?void 0:(r=e.getAttributeNode(n))&&""!==r.value?r.value:null},an.valHooks.button={get:function(e,n){var t=e.getAttributeNode(n);return t&&t.specified?t.value:void 0},set:xt.set},an.attrHooks.contenteditable={set:function(e,n,t){xt.set(e,""===n?!1:n,t)}},an.each(["width","height"],function(e,n){an.attrHooks[n]={set:function(e,t){return""===t?(e.setAttribute(n,"auto"),t):void 0}}})),tn.style||(an.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,n){return e.style.cssText=n+""}});var Rt=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i;an.fn.extend({prop:function(e,n){return Pn(this,an.prop,e,n,arguments.length>1)},removeProp:function(e){return e=an.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(n){}})}}),an.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,t){var r,i,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!an.isXMLDoc(e),a&&(n=an.propFix[n]||n,i=an.propHooks[n]),void 0!==t?i&&"set"in i&&void 0!==(r=i.set(e,t,n))?r:e[n]=t:i&&"get"in i&&null!==(r=i.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=an.find.attr(e,"tabindex");return n?parseInt(n,10):Rt.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}}}),tn.hrefNormalized||an.each(["href","src"],function(e,n){an.propHooks[n]={get:function(e){return e.getAttribute(n,4)
}}}),tn.optSelected||(an.propHooks.selected={get:function(e){var n=e.parentNode;return n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex),null}}),an.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){an.propFix[this.toLowerCase()]=this}),tn.enctype||(an.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;an.fn.extend({addClass:function(e){var n,t,r,i,a,o,s=0,l=this.length,c="string"==typeof e&&e;if(an.isFunction(e))return this.each(function(n){an(this).addClass(e.call(this,n,this.className))});if(c)for(n=(e||"").match(yn)||[];l>s;s++)if(t=this[s],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(Pt," "):" ")){for(a=0;i=n[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=an.trim(r),t.className!==o&&(t.className=o)}return this},removeClass:function(e){var n,t,r,i,a,o,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(an.isFunction(e))return this.each(function(n){an(this).removeClass(e.call(this,n,this.className))});if(c)for(n=(e||"").match(yn)||[];l>s;s++)if(t=this[s],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(Pt," "):"")){for(a=0;i=n[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");o=e?an.trim(r):"",t.className!==o&&(t.className=o)}return this},toggleClass:function(e,n){var t=typeof e;return"boolean"==typeof n&&"string"===t?n?this.addClass(e):this.removeClass(e):this.each(an.isFunction(e)?function(t){an(this).toggleClass(e.call(this,t,this.className,n),n)}:function(){if("string"===t)for(var n,r=0,i=an(this),a=e.match(yn)||[];n=a[r++];)i.hasClass(n)?i.removeClass(n):i.addClass(n);else(t===Nn||"boolean"===t)&&(this.className&&an._data(this,"__className__",this.className),this.className=this.className||e===!1?"":an._data(this,"__className__")||"")})},hasClass:function(e){for(var n=" "+e+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(Pt," ").indexOf(n)>=0)return!0;return!1}}),an.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){an.fn[n]=function(e,t){return arguments.length>0?this.on(n,null,e,t):this.trigger(n)}}),an.fn.extend({hover:function(e,n){return this.mouseenter(e).mouseleave(n||e)},bind:function(e,n,t){return this.on(e,null,n,t)},unbind:function(e,n){return this.off(e,null,n)},delegate:function(e,n,t,r){return this.on(n,e,t,r)},undelegate:function(e,n,t){return 1===arguments.length?this.off(e,"**"):this.off(n,e||"**",t)}});var Et=an.now(),At=/\?/,Lt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;an.parseJSON=function(n){if(e.JSON&&e.JSON.parse)return e.JSON.parse(n+"");var t,r=null,i=an.trim(n+"");return i&&!an.trim(i.replace(Lt,function(e,n,i,a){return t&&n&&(r=0),0===r?e:(t=i||n,r+=!a-!i,"")}))?Function("return "+i)():an.error("Invalid JSON: "+n)},an.parseXML=function(n){var t,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,t=r.parseFromString(n,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n))}catch(i){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||an.error("Invalid XML: "+n),t};var _t,Ht,Ot=/#.*$/,Dt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,qt=/^\/\//,Bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vt={},Ut={},zt="*/".concat("*");try{Ht=location.href}catch(Wt){Ht=mn.createElement("a"),Ht.href="",Ht=Ht.href}_t=Bt.exec(Ht.toLowerCase())||[],an.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ht,type:"GET",isLocal:Ft.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":an.parseJSON,"text xml":an.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,n){return n?q(q(e,an.ajaxSettings),n):q(an.ajaxSettings,e)},ajaxPrefilter:F(Vt),ajaxTransport:F(Ut),ajax:function(e,n){function t(e,n,t,r){var i,u,g,b,y,x=n;2!==w&&(w=2,s&&clearTimeout(s),c=void 0,o=r||"",M.readyState=e>0?4:0,i=e>=200&&300>e||304===e,t&&(b=B(d,M,t)),b=V(d,b,M,i),i?(d.ifModified&&(y=M.getResponseHeader("Last-Modified"),y&&(an.lastModified[a]=y),y=M.getResponseHeader("etag"),y&&(an.etag[a]=y)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=b.state,u=b.data,g=b.error,i=!g)):(g=x,(e||!x)&&(x="error",0>e&&(e=0))),M.status=e,M.statusText=(n||x)+"",i?f.resolveWith(p,[u,x,M]):f.rejectWith(p,[M,x,g]),M.statusCode(v),v=void 0,l&&h.trigger(i?"ajaxSuccess":"ajaxError",[M,d,i?u:g]),m.fireWith(p,[M,x]),l&&(h.trigger("ajaxComplete",[M,d]),--an.active||an.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,i,a,o,s,l,c,u,d=an.ajaxSetup({},n),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?an(p):an.event,f=an.Deferred(),m=an.Callbacks("once memory"),v=d.statusCode||{},g={},b={},w=0,y="canceled",M={readyState:0,getResponseHeader:function(e){var n;if(2===w){if(!u)for(u={};n=It.exec(o);)u[n[1].toLowerCase()]=n[2];n=u[e.toLowerCase()]}return null==n?null:n},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,n){var t=e.toLowerCase();return w||(e=b[t]=b[t]||e,g[e]=n),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var n;if(e)if(2>w)for(n in e)v[n]=[v[n],e[n]];else M.always(e[M.status]);return this},abort:function(e){var n=e||y;return c&&c.abort(n),t(0,n),this}};if(f.promise(M).complete=m.add,M.success=M.done,M.error=M.fail,d.url=((e||d.url||Ht)+"").replace(Ot,"").replace(qt,_t[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=an.trim(d.dataType||"*").toLowerCase().match(yn)||[""],null==d.crossDomain&&(r=Bt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===_t[1]&&r[2]===_t[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=an.param(d.data,d.traditional)),$(Vt,d,n,M),2===w)return M;l=d.global,l&&0===an.active++&&an.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!$t.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(At.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Dt.test(a)?a.replace(Dt,"$1_="+Et++):a+(At.test(a)?"&":"?")+"_="+Et++)),d.ifModified&&(an.lastModified[a]&&M.setRequestHeader("If-Modified-Since",an.lastModified[a]),an.etag[a]&&M.setRequestHeader("If-None-Match",an.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&M.setRequestHeader("Content-Type",d.contentType),M.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+zt+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)M.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(p,M,d)===!1||2===w))return M.abort();y="abort";for(i in{success:1,error:1,complete:1})M[i](d[i]);if(c=$(Ut,d,n,M)){M.readyState=1,l&&h.trigger("ajaxSend",[M,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){M.abort("timeout")},d.timeout));try{w=1,c.send(g,t)}catch(x){if(!(2>w))throw x;t(-1,x)}}else t(-1,"No Transport");return M},getJSON:function(e,n,t){return an.get(e,n,t,"json")},getScript:function(e,n){return an.get(e,void 0,n,"script")}}),an.each(["get","post"],function(e,n){an[n]=function(e,t,r,i){return an.isFunction(t)&&(i=i||r,r=t,t=void 0),an.ajax({url:e,type:n,dataType:i,data:t,success:r})}}),an.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,n){an.fn[n]=function(e){return this.on(n,e)}}),an._evalUrl=function(e){return an.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},an.fn.extend({wrapAll:function(e){if(an.isFunction(e))return this.each(function(n){an(this).wrapAll(e.call(this,n))});if(this[0]){var n=an(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(an.isFunction(e)?function(n){an(this).wrapInner(e.call(this,n))}:function(){var n=an(this),t=n.contents();t.length?t.wrapAll(e):n.append(e)})},wrap:function(e){var n=an.isFunction(e);return this.each(function(t){an(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){an.nodeName(this,"body")||an(this).replaceWith(this.childNodes)}).end()}}),an.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!tn.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||an.css(e,"display"))},an.expr.filters.visible=function(e){return!an.expr.filters.hidden(e)};var Jt=/%20/g,Kt=/\[\]$/,Qt=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Yt=/^(?:input|select|textarea|keygen)/i;an.param=function(e,n){var t,r=[],i=function(e,n){n=an.isFunction(n)?n():null==n?"":n,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};if(void 0===n&&(n=an.ajaxSettings&&an.ajaxSettings.traditional),an.isArray(e)||e.jquery&&!an.isPlainObject(e))an.each(e,function(){i(this.name,this.value)});else for(t in e)U(t,e[t],n,i);return r.join("&").replace(Jt,"+")},an.fn.extend({serialize:function(){return an.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=an.prop(this,"elements");return e?an.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!an(this).is(":disabled")&&Yt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!En.test(e))}).map(function(e,n){var t=an(this).val();return null==t?null:an.isArray(t)?an.map(t,function(e){return{name:n.name,value:e.replace(Qt,"\r\n")}}):{name:n.name,value:t.replace(Qt,"\r\n")}}).get()}}),an.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&z()||W()}:z;var Xt=0,Zt={},er=an.ajaxSettings.xhr();e.ActiveXObject&&an(e).on("unload",function(){for(var e in Zt)Zt[e](void 0,!0)}),tn.cors=!!er&&"withCredentials"in er,er=tn.ajax=!!er,er&&an.ajaxTransport(function(e){if(!e.crossDomain||tn.cors){var n;return{send:function(t,r){var i,a=e.xhr(),o=++Xt;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)a[i]=e.xhrFields[i];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest");for(i in t)void 0!==t[i]&&a.setRequestHeader(i,t[i]+"");a.send(e.hasContent&&e.data||null),n=function(t,i){var s,l,c;if(n&&(i||4===a.readyState))if(delete Zt[o],n=void 0,a.onreadystatechange=an.noop,i)4!==a.readyState&&a.abort();else{c={},s=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(u){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&r(s,l,c,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(n):a.onreadystatechange=Zt[o]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),an.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return an.globalEval(e),e}}}),an.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),an.ajaxTransport("script",function(e){if(e.crossDomain){var n,t=mn.head||an("head")[0]||mn.documentElement;return{send:function(r,i){n=mn.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},t.insertBefore(n,t.firstChild)},abort:function(){n&&n.onload(void 0,!0)}}}});var nr=[],tr=/(=)\?(?=&|$)|\?\?/;an.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nr.pop()||an.expando+"_"+Et++;return this[e]=!0,e}}),an.ajaxPrefilter("json jsonp",function(n,t,r){var i,a,o,s=n.jsonp!==!1&&(tr.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&tr.test(n.data)&&"data");return s||"jsonp"===n.dataTypes[0]?(i=n.jsonpCallback=an.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s?n[s]=n[s].replace(tr,"$1"+i):n.jsonp!==!1&&(n.url+=(At.test(n.url)?"&":"?")+n.jsonp+"="+i),n.converters["script json"]=function(){return o||an.error(i+" was not called"),o[0]},n.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=a,n[i]&&(n.jsonpCallback=t.jsonpCallback,nr.push(i)),o&&an.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),an.parseHTML=function(e,n,t){if(!e||"string"!=typeof e)return null;"boolean"==typeof n&&(t=n,n=!1),n=n||mn;var r=pn.exec(e),i=!t&&[];return r?[n.createElement(r[1])]:(r=an.buildFragment([e],n,i),i&&i.length&&an(i).remove(),an.merge([],r.childNodes))};var rr=an.fn.load;an.fn.load=function(e,n,t){if("string"!=typeof e&&rr)return rr.apply(this,arguments);var r,i,a,o=this,s=e.indexOf(" ");return s>=0&&(r=an.trim(e.slice(s,e.length)),e=e.slice(0,s)),an.isFunction(n)?(t=n,n=void 0):n&&"object"==typeof n&&(a="POST"),o.length>0&&an.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){i=arguments,o.html(r?an("<div>").append(an.parseHTML(e)).find(r):e)}).complete(t&&function(e,n){o.each(t,i||[e.responseText,n,e])}),this},an.expr.filters.animated=function(e){return an.grep(an.timers,function(n){return e===n.elem}).length};var ir=e.document.documentElement;an.offset={setOffset:function(e,n,t){var r,i,a,o,s,l,c,u=an.css(e,"position"),d=an(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),a=an.css(e,"top"),l=an.css(e,"left"),c=("absolute"===u||"fixed"===u)&&an.inArray("auto",[a,l])>-1,c?(r=d.position(),o=r.top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),an.isFunction(n)&&(n=n.call(e,t,s)),null!=n.top&&(p.top=n.top-s.top+o),null!=n.left&&(p.left=n.left-s.left+i),"using"in n?n.using.call(e,p):d.css(p)}},an.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(n){an.offset.setOffset(this,e,n)});var n,t,r={top:0,left:0},i=this[0],a=i&&i.ownerDocument;if(a)return n=a.documentElement,an.contains(n,i)?(typeof i.getBoundingClientRect!==Nn&&(r=i.getBoundingClientRect()),t=J(a),{top:r.top+(t.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(t.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},position:function(){if(this[0]){var e,n,t={top:0,left:0},r=this[0];return"fixed"===an.css(r,"position")?n=r.getBoundingClientRect():(e=this.offsetParent(),n=this.offset(),an.nodeName(e[0],"html")||(t=e.offset()),t.top+=an.css(e[0],"borderTopWidth",!0),t.left+=an.css(e[0],"borderLeftWidth",!0)),{top:n.top-t.top-an.css(r,"marginTop",!0),left:n.left-t.left-an.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ir;e&&!an.nodeName(e,"html")&&"static"===an.css(e,"position");)e=e.offsetParent;return e||ir})}}),an.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var t=/Y/.test(n);an.fn[e]=function(r){return Pn(this,function(e,r,i){var a=J(e);return void 0===i?a?n in a?a[n]:a.document.documentElement[r]:e[r]:void(a?a.scrollTo(t?an(a).scrollLeft():i,t?i:an(a).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),an.each(["top","left"],function(e,n){an.cssHooks[n]=S(tn.pixelPosition,function(e,t){return t?(t=tt(e,n),it.test(t)?an(e).position()[n]+"px":t):void 0})}),an.each({Height:"height",Width:"width"},function(e,n){an.each({padding:"inner"+e,content:n,"":"outer"+e},function(t,r){an.fn[r]=function(r,i){var a=arguments.length&&(t||"boolean"!=typeof r),o=t||(r===!0||i===!0?"margin":"border");return Pn(this,function(n,t,r){var i;return an.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(i=n.documentElement,Math.max(n.body["scroll"+e],i["scroll"+e],n.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?an.css(n,t,o):an.style(n,t,r,o)},n,a?r:void 0,a,null)}})}),an.fn.size=function(){return this.length},an.fn.andSelf=an.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return an});var ar=e.jQuery,or=e.$;return an.noConflict=function(n){return e.$===an&&(e.$=or),n&&e.jQuery===an&&(e.jQuery=ar),an},typeof n===Nn&&(e.jQuery=e.$=an),an}),define("noconflict-jquery",["jquery"],function(e){return e.noConflict(!0)}),function(){function e(e,n,t){for(var r=(t||0)-1,i=e?e.length:0;++r<i;)if(e[r]===n)return r;return-1}function n(e,n){for(var t=e.criteria,r=n.criteria,i=-1,a=t.length;++i<a;){var o=t[i],s=r[i];if(o!==s){if(o>s||"undefined"==typeof o)return 1;if(s>o||"undefined"==typeof s)return-1}}return e.index-n.index}function t(e){return"\\"+xt[e]}function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,i=t-n||0,a=Array(0>i?0:i);++r<i;)a[r]=e[n+r];return a}function i(e){return e instanceof i?e:new a(e)}function a(e,n){this.__chain__=!!n,this.__wrapped__=e}function o(e){function n(){if(i){var e=r(i);Ot.apply(e,arguments)}if(this instanceof n){var o=s(t.prototype),l=t.apply(o,e||arguments);return H(l)?l:o}return t.apply(a,e||arguments)}var t=e[0],i=e[2],a=e[4];return n}function s(e){return H(e)?It(e):{}}function l(e,n,t){if("function"!=typeof e)return zn;if("undefined"==typeof n||!("prototype"in e))return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)};case 4:return function(t,r,i,a){return e.call(n,t,r,i,a)}}return An(e,n)}function c(e){function n(){var e=d?l:this;if(a){var v=r(a);Ot.apply(v,arguments)}if((o||h)&&(v||(v=r(arguments)),o&&Ot.apply(v,o),h&&v.length<u))return i|=16,c([t,f?i:-4&i,v,null,l,u]);if(v||(v=arguments),p&&(t=e[m]),this instanceof n){e=s(t.prototype);var g=t.apply(e,v);return H(g)?g:e}return t.apply(e,v)}var t=e[0],i=e[1],a=e[2],o=e[3],l=e[4],u=e[5],d=1&i,p=2&i,h=4&i,f=8&i,m=t;return n}function u(e,n){for(var t=-1,r=b(),i=e?e.length:0,a=[];++t<i;){var o=e[t];r(n,o)<0&&a.push(o)}return a}function d(e,n,t,r){for(var i=(r||0)-1,a=e?e.length:0,o=[];++i<a;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Jt(s)||M(s))){n||(s=d(s,n,t));var l=-1,c=s.length,u=o.length;for(o.length+=c;++l<c;)o[u++]=s[l]}else t||o.push(s)}return o}function p(e,n,t,r){if(e===n)return 0!==e||1/e==1/n;var a=typeof e,o=typeof n;if(!(e!==e||e&&Mt[a]||n&&Mt[o]))return!1;if(null==e||null==n)return e===n;var s=Et.call(e),l=Et.call(n);if(s!=l)return!1;switch(s){case ft:case mt:return+e==+n;case gt:return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case wt:case yt:return e==String(n)}var c=s==ht;if(!c){var u=e instanceof i,d=n instanceof i;if(u||d)return p(u?e.__wrapped__:e,d?n.__wrapped__:n,t,r);if(s!=bt)return!1;var h=e.constructor,f=n.constructor;if(h!=f&&!(_(h)&&h instanceof h&&_(f)&&f instanceof f)&&"constructor"in e&&"constructor"in n)return!1}t||(t=[]),r||(r=[]);for(var m=t.length;m--;)if(t[m]==e)return r[m]==n;var v=!0,g=0;if(t.push(e),r.push(n),c){if(g=n.length,v=g==e.length)for(;g--&&(v=p(e[g],n[g],t,r)););}else er(n,function(n,i,a){return Ht.call(a,i)?(g++,!(v=Ht.call(e,i)&&p(e[i],n,t,r))&&st):void 0}),v&&er(e,function(e,n,t){return Ht.call(t,n)?!(v=--g>-1)&&st:void 0});return t.pop(),r.pop(),v}function h(e,n){return e+_t(zt()*(n-e+1))}function f(e,n,t){for(var r=-1,i=b(),a=e?e.length:0,o=[],s=t?[]:o;++r<a;){var l=e[r],c=t?t(l,r,e):l;(n?!r||s[s.length-1]!==c:i(s,c)<0)&&(t&&s.push(c),o.push(l))}return o}function m(e){return function(n,t,r){var i={};t=Vn(t,r,3);var a=-1,o=n?n.length:0;if("number"==typeof o)for(;++a<o;){var s=n[a];e(i,s,t(s,a,n),n)}else nr(n,function(n,r,a){e(i,n,t(n,r,a),a)});return i}}function v(e,n,t,r,i,a){var s=2&n,l=16&n,u=32&n;if(!s&&!_(e))throw new TypeError;l&&!t.length&&(n&=-17,l=t=!1),u&&!r.length&&(n&=-33,u=r=!1);var d=1==n||17===n?o:c;return d([e,n,t,r,i,a])}function g(e){return Gt[e]}function b(){var n=(n=i.indexOf)===bn?e:n;return n}function w(e){return"function"==typeof e&&At.test(e)}function y(e){return Yt[e]}function M(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Et.call(e)==pt||!1}function x(e){if(!e)return e;for(var n=1,t=arguments.length;t>n;n++){var r=arguments[n];if(r)for(var i in r)e[i]=r[i]}return e}function k(e){return H(e)?Jt(e)?r(e):x({},e):e}function N(e){if(!e)return e;for(var n=1,t=arguments.length;t>n;n++){var r=arguments[n];if(r)for(var i in r)"undefined"==typeof e[i]&&(e[i]=r[i])}return e}function C(e){var n=[];return er(e,function(e,t){_(e)&&n.push(t)}),n.sort()}function S(e,n){return e?Ht.call(e,n):!1}function T(e){for(var n=-1,t=Qt(e),r=t.length,i={};++n<r;){var a=t[n];i[e[a]]=a}return i}function R(e){return e===!0||e===!1||e&&"object"==typeof e&&Et.call(e)==ft||!1}function j(e){return e&&"object"==typeof e&&Et.call(e)==mt||!1}function P(e){return e&&1===e.nodeType||!1}function E(e){if(!e)return!0;if(Jt(e)||$(e))return!e.length;for(var n in e)if(Ht.call(e,n))return!1;return!0}function A(e,n){return p(e,n)}function L(e){return $t(e)&&!qt(parseFloat(e))}function _(e){return"function"==typeof e}function H(e){return!(!e||!Mt[typeof e])}function O(e){return I(e)&&e!=+e}function D(e){return null===e}function I(e){return"number"==typeof e||e&&"object"==typeof e&&Et.call(e)==gt||!1}function F(e){return e&&Mt[typeof e]&&Et.call(e)==wt||!1}function $(e){return"string"==typeof e||e&&"object"==typeof e&&Et.call(e)==yt||!1}function q(e){return"undefined"==typeof e}function B(e){var n=[];er(e,function(e,t){n.push(t)}),n=u(n,d(arguments,!0,!1,1));for(var t=-1,r=n.length,i={};++t<r;){var a=n[t];i[a]=e[a]}return i}function V(e){for(var n=-1,t=Qt(e),r=t.length,i=Array(r);++n<r;){var a=t[n];i[n]=[a,e[a]]}return i}function U(e){for(var n=-1,t=d(arguments,!0,!1,1),r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function z(e){for(var n=-1,t=Qt(e),r=t.length,i=Array(r);++n<r;)i[n]=e[t[n]];return i}function W(e,n){var t=b(),r=e?e.length:0,i=!1;return r&&"number"==typeof r?i=t(e,n)>-1:nr(e,function(e){return(i=e===n)&&st}),i}function J(e,n,t){var r=!0;n=Vn(n,t,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a&&(r=!!n(e[i],i,e)););else nr(e,function(e,t,i){return!(r=!!n(e,t,i))&&st});return r}function K(e,n,t){var r=[];n=Vn(n,t,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a;){var o=e[i];n(o,i,e)&&r.push(o)}else nr(e,function(e,t,i){n(e,t,i)&&r.push(e)});return r}function Q(e,n,t){n=Vn(n,t,3);var r=-1,i=e?e.length:0;if("number"!=typeof i){var a;return nr(e,function(e,t,r){return n(e,t,r)?(a=e,st):void 0}),a}for(;++r<i;){var o=e[r];if(n(o,r,e))return o}}function G(e,n){return hn(e,n,!0)}function Y(e,n,t){var r=-1,i=e?e.length:0;if(n=n&&"undefined"==typeof t?n:l(n,t,3),"number"==typeof i)for(;++r<i&&n(e[r],r,e)!==st;);else nr(e,n)}function X(e,n){var t=e?e.length:0;if("number"==typeof t)for(;t--&&n(e[t],t,e)!==!1;);else{var r=Qt(e);t=r.length,nr(e,function(e,i,a){return i=r?r[--t]:--t,n(a[i],i,a)===!1&&st})}}function Z(e,n){var t=r(arguments,2),i=-1,a="function"==typeof n,o=e?e.length:0,s=Array("number"==typeof o?o:0);return Y(e,function(e){s[++i]=(a?n:e[n]).apply(e,t)}),s}function en(e,n,t){var r=-1,i=e?e.length:0;if(n=Vn(n,t,3),"number"==typeof i)for(var a=Array(i);++r<i;)a[r]=n(e[r],r,e);else a=[],nr(e,function(e,t,i){a[++r]=n(e,t,i)});return a}function nn(e,n,t){var r=-1/0,i=r;"function"!=typeof n&&t&&t[n]===e&&(n=null);var a=-1,o=e?e.length:0;if(null==n&&"number"==typeof o)for(;++a<o;){var s=e[a];s>i&&(i=s)}else n=Vn(n,t,3),Y(e,function(e,t,a){var o=n(e,t,a);o>r&&(r=o,i=e)});return i}function tn(e,n,t){var r=1/0,i=r;"function"!=typeof n&&t&&t[n]===e&&(n=null);var a=-1,o=e?e.length:0;if(null==n&&"number"==typeof o)for(;++a<o;){var s=e[a];i>s&&(i=s)}else n=Vn(n,t,3),Y(e,function(e,t,a){var o=n(e,t,a);r>o&&(r=o,i=e)});return i}function rn(e,n,t,r){if(!e)return t;var i=arguments.length<3;n=Vn(n,r,4);var a=-1,o=e.length;if("number"==typeof o)for(i&&(t=e[++a]);++a<o;)t=n(t,e[a],a,e);else nr(e,function(e,r,a){t=i?(i=!1,e):n(t,e,r,a)});return t}function an(e,n,t,r){var i=arguments.length<3;return n=Vn(n,r,4),X(e,function(e,r,a){t=i?(i=!1,e):n(t,e,r,a)}),t}function on(e,n,t){return n=Vn(n,t,3),K(e,function(e,t,r){return!n(e,t,r)})}function sn(e,n,t){if(e&&"number"!=typeof e.length&&(e=z(e)),null==n||t)return e?e[h(0,e.length-1)]:at;var r=ln(e);return r.length=Ut(Vt(0,n),r.length),r}function ln(e){var n=-1,t=e?e.length:0,r=Array("number"==typeof t?t:0);return Y(e,function(e){var t=h(0,++n);r[n]=r[t],r[t]=e}),r}function cn(e){var n=e?e.length:0;return"number"==typeof n?n:Qt(e).length}function un(e,n,t){var r;n=Vn(n,t,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a&&!(r=n(e[i],i,e)););else nr(e,function(e,t,i){return(r=n(e,t,i))&&st});return!!r}function dn(e,t,r){var i=-1,a=e?e.length:0,o=Array("number"==typeof a?a:0);for(t=Vn(t,r,3),Y(e,function(e,n,r){o[++i]={criteria:[t(e,n,r)],index:i,value:e}}),a=o.length,o.sort(n);a--;)o[a]=o[a].value;return o}function pn(e){return Jt(e)?r(e):e&&"number"==typeof e.length?en(e):z(e)}function hn(e,n,t){return t&&E(n)?at:(t?Q:K)(e,n)}function fn(e){for(var n=-1,t=e?e.length:0,r=[];++n<t;){var i=e[n];i&&r.push(i)}return r}function mn(e){return u(e,d(arguments,!0,!0,1))}function vn(e,n,t){var i=0,a=e?e.length:0;if("number"!=typeof n&&null!=n){var o=-1;for(n=Vn(n,t,3);++o<a&&n(e[o],o,e);)i++}else if(i=n,null==i||t)return e?e[0]:at;return r(e,0,Ut(Vt(0,i),a))}function gn(e,n){return d(e,n)}function bn(n,t,r){if("number"==typeof r){var i=n?n.length:0;r=0>r?Vt(0,i+r):r||0}else if(r){var a=Cn(n,t);return n[a]===t?a:-1}return e(n,t,r)}function wn(e,n,t){var i=0,a=e?e.length:0;if("number"!=typeof n&&null!=n){var o=a;for(n=Vn(n,t,3);o--&&n(e[o],o,e);)i++}else i=null==n||t?1:n||i;return r(e,0,Ut(Vt(0,a-i),a))}function yn(){for(var e=[],n=-1,t=arguments.length;++n<t;){var r=arguments[n];(Jt(r)||M(r))&&e.push(r)}var i=e[0],a=-1,o=b(),s=i?i.length:0,l=[];e:for(;++a<s;)if(r=i[a],o(l,r)<0){for(var n=t;--n;)if(o(e[n],r)<0)continue e;l.push(r)}return l}function Mn(e,n,t){var i=0,a=e?e.length:0;if("number"!=typeof n&&null!=n){var o=a;for(n=Vn(n,t,3);o--&&n(e[o],o,e);)i++}else if(i=n,null==i||t)return e?e[a-1]:at;return r(e,Vt(0,a-i))}function xn(e,n,t){var r=e?e.length:0;for("number"==typeof t&&(r=(0>t?Vt(0,r+t):Ut(t,r-1))+1);r--;)if(e[r]===n)return r;return-1}function kn(e,n,t){e=+e||0,t=+t||1,null==n&&(n=e,e=0);for(var r=-1,i=Vt(0,Lt((n-e)/t)),a=Array(i);++r<i;)a[r]=e,e+=t;return a}function Nn(e,n,t){if("number"!=typeof n&&null!=n){var i=0,a=-1,o=e?e.length:0;for(n=Vn(n,t,3);++a<o&&n(e[a],a,e);)i++}else i=null==n||t?1:Vt(0,n);return r(e,i)}function Cn(e,n,t,r){var i=0,a=e?e.length:i;for(t=t?Vn(t,r,1):zn,n=t(n);a>i;){var o=i+a>>>1;t(e[o])<n?i=o+1:a=o}return i}function Sn(){return f(d(arguments,!0,!0))}function Tn(e,n,t,r){return"boolean"!=typeof n&&null!=n&&(r=t,t="function"!=typeof n&&r&&r[n]===e?null:n,n=!1),null!=t&&(t=Vn(t,r,3)),f(e,n,t)}function Rn(e){return u(e,r(arguments,1))}function jn(){for(var e=-1,n=nn(ar(arguments,"length")),t=Array(0>n?0:n);++e<n;)t[e]=ar(arguments,e);return t}function Pn(e,n){var t=-1,r=e?e.length:0,i={};for(n||!r||Jt(e[0])||(n=[]);++t<r;){var a=e[t];n?i[a]=n[t]:a&&(i[a[0]]=a[1])}return i}function En(e,n){if(!_(n))throw new TypeError;return function(){return--e<1?n.apply(this,arguments):void 0}}function An(e,n){return arguments.length>2?v(e,17,r(arguments,2),null,n):v(e,1,null,null,n)}function Ln(e){for(var n=arguments.length>1?d(arguments,!0,!1,1):C(e),t=-1,r=n.length;++t<r;){var i=n[t];e[i]=v(e[i],1,null,null,e)}return e}function _n(){for(var e=arguments,n=e.length;n--;)if(!_(e[n]))throw new TypeError;return function(){for(var n=arguments,t=e.length;t--;)n=[e[t].apply(this,n)];return n[0]}}function Hn(e,n,t){var r,i,a,o,s,l,c,u=0,d=!1,p=!0;if(!_(e))throw new TypeError;if(n=Vt(0,n)||0,t===!0){var h=!0;p=!1}else H(t)&&(h=t.leading,d="maxWait"in t&&(Vt(n,t.maxWait)||0),p="trailing"in t?t.trailing:p);var f=function(){var t=n-(or()-o);if(0>=t){i&&clearTimeout(i);var d=c;i=l=c=at,d&&(u=or(),a=e.apply(s,r),l||i||(r=s=null))}else l=setTimeout(f,t)},m=function(){l&&clearTimeout(l),i=l=c=at,(p||d!==n)&&(u=or(),a=e.apply(s,r),l||i||(r=s=null))};return function(){if(r=arguments,o=or(),s=this,c=p&&(l||!h),d===!1)var t=h&&!l;else{i||h||(u=o);var v=d-(o-u),g=0>=v;g?(i&&(i=clearTimeout(i)),u=o,a=e.apply(s,r)):i||(i=setTimeout(m,v))}return g&&l?l=clearTimeout(l):l||n===d||(l=setTimeout(f,n)),t&&(g=!0,a=e.apply(s,r)),!g||l||i||(r=s=null),a}}function On(e){if(!_(e))throw new TypeError;var n=r(arguments,1);return setTimeout(function(){e.apply(at,n)},1)}function Dn(e,n){if(!_(e))throw new TypeError;var t=r(arguments,2);return setTimeout(function(){e.apply(at,t)},n)}function In(e,n){var t={};return function(){var r=n?n.apply(this,arguments):lt+arguments[0];return Ht.call(t,r)?t[r]:t[r]=e.apply(this,arguments)}}function Fn(e){var n,t;if(!_(e))throw new TypeError;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function $n(e){return v(e,16,r(arguments,1))}function qn(e,n,t){var r=!0,i=!0;if(!_(e))throw new TypeError;return t===!1?r=!1:H(t)&&(r="leading"in t?t.leading:r,i="trailing"in t?t.trailing:i),t={},t.leading=r,t.maxWait=n,t.trailing=i,Hn(e,n,t)}function Bn(e,n){return v(n,16,[e])}function Vn(e,n,t){var r=typeof e;if(null==e||"function"==r)return l(e,n,t);if("object"!=r)return Kn(e);var i=Qt(e);return function(n){for(var t=i.length,r=!1;t--&&(r=n[i[t]]===e[i[t]]););return r}}function Un(e){return null==e?"":String(e).replace(Zt,g)}function zn(e){return e}function Wn(e){Y(C(e),function(n){var t=i[n]=e[n];i.prototype[n]=function(){var e=[this.__wrapped__];Ot.apply(e,arguments);var n=t.apply(i,e);return this.__chain__?new a(n,!0):n}})}function Jn(){return kt._=Pt,this}function Kn(e){return function(n){return n[e]}}function Qn(e,n){return null==e&&null==n&&(n=1),e=+e||0,null==n?(n=e,e=0):n=+n||0,e+_t(zt()*(n-e+1))}function Gn(e,n){if(e){var t=e[n];return _(t)?e[n]():t}}function Yn(e,n,r){var a=i,o=a.templateSettings;e=String(e||""),r=N({},r,o);var s=0,l="__p += '",c=r.variable,u=RegExp((r.escape||ut).source+"|"+(r.interpolate||ut).source+"|"+(r.evaluate||ut).source+"|$","g");e.replace(u,function(n,r,i,a,o){return l+=e.slice(s,o).replace(dt,t),r&&(l+="' +\n_.escape("+r+") +\n'"),a&&(l+="';\n"+a+";\n__p += '"),i&&(l+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),s=o+n.length,n}),l+="';\n",c||(c="obj",l="with ("+c+" || {}) {\n"+l+"\n}\n"),l="function("+c+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+l+"return __p\n}";try{var d=Function("_","return "+l)(a)}catch(p){throw p.source=l,p}return n?d(n):(d.source=l,d)}function Xn(e,n,t){e=(e=+e)>-1?e:0;var r=-1,i=Array(e);for(n=l(n,t,1);++r<e;)i[r]=n(r);return i}function Zn(e){return null==e?"":String(e).replace(Xt,y)}function et(e){var n=++ot+"";return e?e+n:n}function nt(e){return e=new a(e),e.__chain__=!0,e}function tt(e,n){return n(e),e}function rt(){return this.__chain__=!0,this}function it(){return this.__wrapped__}var at,ot=0,st={},lt=+new Date+"",ct=/<%=([\s\S]+?)%>/g,ut=/($^)/,dt=/['\n\r\t\u2028\u2029\\]/g,pt="[object Arguments]",ht="[object Array]",ft="[object Boolean]",mt="[object Date]",vt="[object Function]",gt="[object Number]",bt="[object Object]",wt="[object RegExp]",yt="[object String]",Mt={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},xt={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},kt=Mt[typeof window]&&window||this,Nt=Mt[typeof exports]&&exports&&!exports.nodeType&&exports,Ct=Mt[typeof module]&&module&&!module.nodeType&&module,St=Ct&&Ct.exports===Nt&&Nt,Tt=Mt[typeof global]&&global;
!Tt||Tt.global!==Tt&&Tt.window!==Tt||(kt=Tt);var Rt=[],jt=Object.prototype,Pt=kt._,Et=jt.toString,At=RegExp("^"+String(Et).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Lt=Math.ceil,_t=Math.floor,Ht=jt.hasOwnProperty,Ot=Rt.push,Dt=jt.propertyIsEnumerable,It=w(It=Object.create)&&It,Ft=w(Ft=Array.isArray)&&Ft,$t=kt.isFinite,qt=kt.isNaN,Bt=w(Bt=Object.keys)&&Bt,Vt=Math.max,Ut=Math.min,zt=Math.random;a.prototype=i.prototype;var Wt={};!function(){var e={0:1,length:1};Wt.spliceObjects=(Rt.splice.call(e,0,1),!e[0])}(1),i.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ct,variable:""},It||(s=function(){function e(){}return function(n){if(H(n)){e.prototype=n;var t=new e;e.prototype=null}return t||kt.Object()}}()),M(arguments)||(M=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ht.call(e,"callee")&&!Dt.call(e,"callee")||!1});var Jt=Ft||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Et.call(e)==ht||!1},Kt=function(e){var n,t=e,r=[];if(!t)return r;if(!Mt[typeof e])return r;for(n in t)Ht.call(t,n)&&r.push(n);return r},Qt=Bt?function(e){return H(e)?Bt(e):[]}:Kt,Gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Yt=T(Gt),Xt=RegExp("("+Qt(Yt).join("|")+")","g"),Zt=RegExp("["+Qt(Gt).join("")+"]","g"),er=function(e,n){var t,r=e,i=r;if(!r)return i;if(!Mt[typeof r])return i;for(t in r)if(n(r[t],t,e)===st)return i;return i},nr=function(e,n){var t,r=e,i=r;if(!r)return i;if(!Mt[typeof r])return i;for(t in r)if(Ht.call(r,t)&&n(r[t],t,e)===st)return i;return i};_(/x/)&&(_=function(e){return"function"==typeof e&&Et.call(e)==vt});var tr=m(function(e,n,t){Ht.call(e,t)?e[t]++:e[t]=1}),rr=m(function(e,n,t){(Ht.call(e,t)?e[t]:e[t]=[]).push(n)}),ir=m(function(e,n,t){e[t]=n}),ar=en,or=w(or=Date.now)&&or||function(){return(new Date).getTime()};i.after=En,i.bind=An,i.bindAll=Ln,i.chain=nt,i.compact=fn,i.compose=_n,i.countBy=tr,i.debounce=Hn,i.defaults=N,i.defer=On,i.delay=Dn,i.difference=mn,i.filter=K,i.flatten=gn,i.forEach=Y,i.functions=C,i.groupBy=rr,i.indexBy=ir,i.initial=wn,i.intersection=yn,i.invert=T,i.invoke=Z,i.keys=Qt,i.map=en,i.max=nn,i.memoize=In,i.min=tn,i.omit=B,i.once=Fn,i.pairs=V,i.partial=$n,i.pick=U,i.pluck=ar,i.range=kn,i.reject=on,i.rest=Nn,i.shuffle=ln,i.sortBy=dn,i.tap=tt,i.throttle=qn,i.times=Xn,i.toArray=pn,i.union=Sn,i.uniq=Tn,i.values=z,i.where=hn,i.without=Rn,i.wrap=Bn,i.zip=jn,i.collect=en,i.drop=Nn,i.each=Y,i.extend=x,i.methods=C,i.object=Pn,i.select=K,i.tail=Nn,i.unique=Tn,i.clone=k,i.contains=W,i.escape=Un,i.every=J,i.find=Q,i.has=S,i.identity=zn,i.indexOf=bn,i.isArguments=M,i.isArray=Jt,i.isBoolean=R,i.isDate=j,i.isElement=P,i.isEmpty=E,i.isEqual=A,i.isFinite=L,i.isFunction=_,i.isNaN=O,i.isNull=D,i.isNumber=I,i.isObject=H,i.isRegExp=F,i.isString=$,i.isUndefined=q,i.lastIndexOf=xn,i.mixin=Wn,i.noConflict=Jn,i.random=Qn,i.reduce=rn,i.reduceRight=an,i.result=Gn,i.size=cn,i.some=un,i.sortedIndex=Cn,i.template=Yn,i.unescape=Zn,i.uniqueId=et,i.all=J,i.any=un,i.detect=Q,i.findWhere=G,i.foldl=rn,i.foldr=an,i.include=W,i.inject=rn,i.first=vn,i.last=Mn,i.sample=sn,i.take=vn,i.head=vn,Wn(i),i.VERSION="2.4.1",i.prototype.chain=rt,i.prototype.value=it,Y(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=Rt[e];i.prototype[e]=function(){var e=this.__wrapped__;return n.apply(e,arguments),Wt.spliceObjects||0!==e.length||delete e[0],this}}),Y(["concat","join","slice"],function(e){var n=Rt[e];i.prototype[e]=function(){var e=this.__wrapped__,t=n.apply(e,arguments);return this.__chain__&&(t=new a(t),t.__chain__=!0),t}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(kt._=i,define("lodash",[],function(){return i})):Nt&&Ct?St?(Ct.exports=i)._=i:Nt._=i:kt._=i}.call(this),function(){!function(e){var n=this||(0,eval)("this"),t=n.document,r=n.navigator,i=n.jQuery,a=n.JSON;!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(module.exports||exports,require):"function"==typeof define&&define.amd?define("knockout",["exports","require"],e):e(n.ko={})}(function(o,s){function l(e,n){return null===e||typeof e in h?e===n:!1}function c(n,t){var r;return function(){r||(r=setTimeout(function(){r=e,n()},t))}}function u(e,n){var t;return function(){clearTimeout(t),t=setTimeout(e,n)}}function d(e,n,t,r){p.d[e]={init:function(e,i,a,o,s){var l,c;return p.s(function(){var a=p.a.c(i()),o=!t!=!a,u=!c;(u||n||o!==l)&&(u&&p.Y.la()&&(c=p.a.ia(p.f.childNodes(e),!0)),o?(u||p.f.T(e,p.a.ia(c)),p.Ca(r?r(s,a):s,e)):p.f.ja(e),l=o)},null,{o:e}),{controlsDescendantBindings:!0}}},p.h.ha[e]=!1,p.f.Q[e]=!0}var p="undefined"!=typeof o?o:{};p.b=function(e,n){for(var t=e.split("."),r=p,i=0;i<t.length-1;i++)r=r[t[i]];r[t[t.length-1]]=n},p.A=function(e,n,t){e[n]=t},p.version="3.2.0",p.b("version",p.version),p.a=function(){function o(e,n){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])}function s(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function l(e,n){return e.__proto__=n,e}var c={__proto__:[]}instanceof Array,u={},d={};u[r&&/Firefox\/2/i.test(r.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],u.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(u,function(e,n){if(n.length)for(var t=0,r=n.length;r>t;t++)d[n[t]]=e});var h={propertychange:!0},f=t&&function(){for(var n=3,r=t.createElement("div"),i=r.getElementsByTagName("i");r.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->",i[0];);return n>4?n:e}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(e,n){for(var t=0,r=e.length;r>t;t++)n(e[t],t)},m:function(e,n){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n);for(var t=0,r=e.length;r>t;t++)if(e[t]===n)return t;return-1},qb:function(e,n,t){for(var r=0,i=e.length;i>r;r++)if(n.call(t,e[r],r))return e[r];return null},ua:function(e,n){var t=p.a.m(e,n);t>0?e.splice(t,1):0===t&&e.shift()},rb:function(e){e=e||[];for(var n=[],t=0,r=e.length;r>t;t++)0>p.a.m(n,e[t])&&n.push(e[t]);return n},Da:function(e,n){e=e||[];for(var t=[],r=0,i=e.length;i>r;r++)t.push(n(e[r],r));return t},ta:function(e,n){e=e||[];for(var t=[],r=0,i=e.length;i>r;r++)n(e[r],r)&&t.push(e[r]);return t},ga:function(e,n){if(n instanceof Array)e.push.apply(e,n);else for(var t=0,r=n.length;r>t;t++)e.push(n[t]);return e},ea:function(e,n,t){var r=p.a.m(p.a.Xa(e),n);0>r?t&&e.push(n):t||e.splice(r,1)},xa:c,extend:s,za:l,Aa:c?l:s,G:o,na:function(e,n){if(!e)return e;var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=n(e[t],t,e));return r},Ka:function(e){for(;e.firstChild;)p.removeNode(e.firstChild)},oc:function(e){e=p.a.S(e);for(var n=t.createElement("div"),r=0,i=e.length;i>r;r++)n.appendChild(p.R(e[r]));return n},ia:function(e,n){for(var t=0,r=e.length,i=[];r>t;t++){var a=e[t].cloneNode(!0);i.push(n?p.R(a):a)}return i},T:function(e,n){if(p.a.Ka(e),n)for(var t=0,r=n.length;r>t;t++)e.appendChild(n[t])},Lb:function(e,n){var t=e.nodeType?[e]:e;if(0<t.length){for(var r=t[0],i=r.parentNode,a=0,o=n.length;o>a;a++)i.insertBefore(n[a],r);for(a=0,o=t.length;o>a;a++)p.removeNode(t[a])}},ka:function(e,n){if(e.length){for(n=8===n.nodeType&&n.parentNode||n;e.length&&e[0].parentNode!==n;)e.shift();if(1<e.length){var t=e[0],r=e[e.length-1];for(e.length=0;t!==r;)if(e.push(t),t=t.nextSibling,!t)return;e.push(r)}}return e},Nb:function(e,n){7>f?e.setAttribute("selected",n):e.selected=n},cb:function(n){return null===n||n===e?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(e,n){return e=e||"",n.length>e.length?!1:e.substring(0,n.length)===n},cc:function(e,n){if(e===n)return!0;if(11===e.nodeType)return!1;if(n.contains)return n.contains(3===e.nodeType?e.parentNode:e);if(n.compareDocumentPosition)return 16==(16&n.compareDocumentPosition(e));for(;e&&e!=n;)e=e.parentNode;return!!e},Ja:function(e){return p.a.cc(e,e.ownerDocument.documentElement)},ob:function(e){return!!p.a.qb(e,p.a.Ja)},t:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(e,n,t){var r=f&&h[n];if(!r&&i)i(e).bind(n,t);else if(r||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var a=function(n){t.call(e,n)},o="on"+n;e.attachEvent(o,a),p.a.w.da(e,function(){e.detachEvent(o,a)})}else e.addEventListener(n,t,!1)},oa:function(e,r){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var a;if("input"===p.a.t(e)&&e.type&&"click"==r.toLowerCase()?(a=e.type,a="checkbox"==a||"radio"==a):a=!1,i&&!a)i(e).trigger(r);else if("function"==typeof t.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");a=t.createEvent(d[r]||"HTMLEvents"),a.initEvent(r,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(a)}else if(a&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+r)}},c:function(e){return p.C(e)?e():e},Xa:function(e){return p.C(e)?e.v():e},Ba:function(e,n,t){if(n){var r=/\S+/g,i=e.className.match(r)||[];p.a.u(n.match(r),function(e){p.a.ea(i,e,t)}),e.className=i.join(" ")}},bb:function(n,t){var r=p.a.c(t);(null===r||r===e)&&(r="");var i=p.f.firstChild(n);!i||3!=i.nodeType||p.f.nextSibling(i)?p.f.T(n,[n.ownerDocument.createTextNode(r)]):i.data=r,p.a.fc(n)},Mb:function(e,n){if(e.name=n,7>=f)try{e.mergeAttributes(t.createElement("<input name='"+e.name+"'/>"),!1)}catch(r){}},fc:function(e){f>=9&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},dc:function(e){if(f){var n=e.style.width;e.style.width=0,e.style.width=n}},sc:function(e,n){e=p.a.c(e),n=p.a.c(n);for(var t=[],r=e;n>=r;r++)t.push(r);return t},S:function(e){for(var n=[],t=0,r=e.length;r>t;t++)n.push(e[t]);return n},yc:6===f,zc:7===f,L:f,xb:function(e,n){for(var t=p.a.S(e.getElementsByTagName("input")).concat(p.a.S(e.getElementsByTagName("textarea"))),r="string"==typeof n?function(e){return e.name===n}:function(e){return n.test(e.name)},i=[],a=t.length-1;a>=0;a--)r(t[a])&&i.push(t[a]);return i},pc:function(e){return"string"==typeof e&&(e=p.a.cb(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},eb:function(e,n,t){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(p.a.c(e),n,t)},qc:function(e,n,r){r=r||{};var i=r.params||{},a=r.includeFields||this.vb,s=e;if("object"==typeof e&&"form"===p.a.t(e))for(var s=e.action,l=a.length-1;l>=0;l--)for(var c=p.a.xb(e,a[l]),u=c.length-1;u>=0;u--)i[c[u].name]=c[u].value;n=p.a.c(n);var d=t.createElement("form");d.style.display="none",d.action=s,d.method="post";for(var h in n)e=t.createElement("input"),e.type="hidden",e.name=h,e.value=p.a.eb(p.a.c(n[h])),d.appendChild(e);o(i,function(e,n){var r=t.createElement("input");r.type="hidden",r.name=e,r.value=n,d.appendChild(r)}),t.body.appendChild(d),r.submitter?r.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}}(),p.b("utils",p.a),p.b("utils.arrayForEach",p.a.u),p.b("utils.arrayFirst",p.a.qb),p.b("utils.arrayFilter",p.a.ta),p.b("utils.arrayGetDistinctValues",p.a.rb),p.b("utils.arrayIndexOf",p.a.m),p.b("utils.arrayMap",p.a.Da),p.b("utils.arrayPushAll",p.a.ga),p.b("utils.arrayRemoveItem",p.a.ua),p.b("utils.extend",p.a.extend),p.b("utils.fieldsIncludedWithJsonPost",p.a.vb),p.b("utils.getFormFields",p.a.xb),p.b("utils.peekObservable",p.a.Xa),p.b("utils.postJson",p.a.qc),p.b("utils.parseJson",p.a.pc),p.b("utils.registerEventHandler",p.a.n),p.b("utils.stringifyJson",p.a.eb),p.b("utils.range",p.a.sc),p.b("utils.toggleDomNodeCssClass",p.a.Ba),p.b("utils.triggerEvent",p.a.oa),p.b("utils.unwrapObservable",p.a.c),p.b("utils.objectForEach",p.a.G),p.b("utils.addOrRemoveItem",p.a.ea),p.b("unwrap",p.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,t=Array.prototype.slice.call(arguments);return e=t.shift(),function(){return n.apply(e,t.concat(Array.prototype.slice.call(arguments)))}}),p.a.e=new function(){function n(n,a){var o=n[r];if(!o||"null"===o||!i[o]){if(!a)return e;o=n[r]="ko"+t++,i[o]={}}return i[o]}var t=0,r="__ko__"+(new Date).getTime(),i={};return{get:function(t,r){var i=n(t,!1);return i===e?e:i[r]},set:function(t,r,i){(i!==e||n(t,!1)!==e)&&(n(t,!0)[r]=i)},clear:function(e){var n=e[r];return n?(delete i[n],e[r]=null,!0):!1},F:function(){return t++ +r}}},p.b("utils.domData",p.a.e),p.b("utils.domData.clear",p.a.e.clear),p.a.w=new function(){function n(n,t){var i=p.a.e.get(n,r);return i===e&&t&&(i=[],p.a.e.set(n,r,i)),i}function t(e){var r=n(e,!1);if(r)for(var r=r.slice(0),i=0;i<r.length;i++)r[i](e);if(p.a.e.clear(e),p.a.w.cleanExternalData(e),o[e.nodeType])for(r=e.firstChild;e=r;)r=e.nextSibling,8===e.nodeType&&t(e)}var r=p.a.e.F(),a={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{da:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");n(e,!0).push(t)},Kb:function(t,i){var a=n(t,!1);a&&(p.a.ua(a,i),0==a.length&&p.a.e.set(t,r,e))},R:function(e){if(a[e.nodeType]&&(t(e),o[e.nodeType])){var n=[];p.a.ga(n,e.getElementsByTagName("*"));for(var r=0,i=n.length;i>r;r++)t(n[r])}return e},removeNode:function(e){p.R(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){i&&"function"==typeof i.cleanData&&i.cleanData([e])}}},p.R=p.a.w.R,p.removeNode=p.a.w.removeNode,p.b("cleanNode",p.R),p.b("removeNode",p.removeNode),p.b("utils.domNodeDisposal",p.a.w),p.b("utils.domNodeDisposal.addDisposeCallback",p.a.w.da),p.b("utils.domNodeDisposal.removeDisposeCallback",p.a.w.Kb),function(){p.a.ba=function(e){var r;if(i){if(i.parseHTML)r=i.parseHTML(e)||[];else if((r=i.clean([e]))&&r[0]){for(e=r[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var a=p.a.cb(e).toLowerCase();for(r=t.createElement("div"),a=a.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!a.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!a.indexOf("<td")||!a.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+a[1]+e+a[2]+"</div>","function"==typeof n.innerShiv?r.appendChild(n.innerShiv(e)):r.innerHTML=e;a[0]--;)r=r.lastChild;r=p.a.S(r.lastChild.childNodes)}return r},p.a.$a=function(n,t){if(p.a.Ka(n),t=p.a.c(t),null!==t&&t!==e)if("string"!=typeof t&&(t=t.toString()),i)i(n).html(t);else for(var r=p.a.ba(t),a=0;a<r.length;a++)n.appendChild(r[a])}}(),p.b("utils.parseHtmlFragment",p.a.ba),p.b("utils.setHtml",p.a.$a),p.D=function(){function n(e,t){if(e)if(8==e.nodeType){var r=p.D.Gb(e.nodeValue);null!=r&&t.push({bc:e,mc:r})}else if(1==e.nodeType)for(var r=0,i=e.childNodes,a=i.length;a>r;r++)n(i[r],t)}var t={};return{Ua:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[n]=e,"<!--[ko_memo:"+n+"]-->"},Rb:function(n,r){var i=t[n];if(i===e)throw Error("Couldn't find any memo with ID "+n+". Perhaps it's already been unmemoized.");try{return i.apply(null,r||[]),!0}finally{delete t[n]}},Sb:function(e,t){var r=[];n(e,r);for(var i=0,a=r.length;a>i;i++){var o=r[i].bc,s=[o];t&&p.a.ga(s,t),p.D.Rb(r[i].mc,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Gb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),p.b("memoization",p.D),p.b("memoization.memoize",p.D.Ua),p.b("memoization.unmemoize",p.D.Rb),p.b("memoization.parseMemoText",p.D.Gb),p.b("memoization.unmemoizeDomNodeAndDescendants",p.D.Sb),p.La={throttle:function(e,n){e.throttleEvaluation=n;var t=null;return p.j({read:e,write:function(r){clearTimeout(t),t=setTimeout(function(){e(r)},n)}})},rateLimit:function(e,n){var t,r,i;"number"==typeof n?t=n:(t=n.timeout,r=n.method),i="notifyWhenChangesStop"==r?u:c,e.Ta(function(e){return i(e,t)})},notify:function(e,n){e.equalityComparer="always"==n?null:l}};var h={undefined:1,"boolean":1,number:1,string:1};p.b("extenders",p.La),p.Pb=function(e,n,t){this.target=e,this.wa=n,this.ac=t,this.Cb=!1,p.A(this,"dispose",this.K)},p.Pb.prototype.K=function(){this.Cb=!0,this.ac()},p.P=function(){p.a.Aa(this,p.P.fn),this.M={}};var f="change",m={U:function(e,n,t){var r=this;t=t||f;var i=new p.Pb(r,n?e.bind(n):e,function(){p.a.ua(r.M[t],i),r.nb&&r.nb()});return r.va&&r.va(t),r.M[t]||(r.M[t]=[]),r.M[t].push(i),i},notifySubscribers:function(e,n){if(n=n||f,this.Ab(n))try{p.k.Ea();for(var t,r=this.M[n].slice(0),i=0;t=r[i];++i)t.Cb||t.wa(e)}finally{p.k.end()}},Ta:function(e){var n,t,r,i=this,a=p.C(i);i.qa||(i.qa=i.notifySubscribers,i.notifySubscribers=function(e,n){n&&n!==f?"beforeChange"===n?i.kb(e):i.qa(e,n):i.lb(e)});var o=e(function(){a&&r===i&&(r=i()),n=!1,i.Pa(t,r)&&i.qa(t=r)});i.lb=function(e){n=!0,r=e,o()},i.kb=function(e){n||(t=e,i.qa(e,"beforeChange"))}},Ab:function(e){return this.M[e]&&this.M[e].length},yb:function(){var e=0;return p.a.G(this.M,function(n,t){e+=t.length}),e},Pa:function(e,n){return!this.equalityComparer||!this.equalityComparer(e,n)},extend:function(e){var n=this;return e&&p.a.G(e,function(e,t){var r=p.La[e];"function"==typeof r&&(n=r(n,t)||n)}),n}};p.A(m,"subscribe",m.U),p.A(m,"extend",m.extend),p.A(m,"getSubscriptionsCount",m.yb),p.a.xa&&p.a.za(m,Function.prototype),p.P.fn=m,p.Db=function(e){return null!=e&&"function"==typeof e.U&&"function"==typeof e.notifySubscribers},p.b("subscribable",p.P),p.b("isSubscribable",p.Db),p.Y=p.k=function(){function e(e){r.push(t),t=e}function n(){t=r.pop()}var t,r=[],i=0;return{Ea:e,end:n,Jb:function(e){if(t){if(!p.Db(e))throw Error("Only subscribable things can act as dependencies");t.wa(e,e.Vb||(e.Vb=++i))}},B:function(t,r,i){try{return e(),t.apply(r,i||[])}finally{n()}},la:function(){return t?t.s.la():void 0},ma:function(){return t?t.ma:void 0}}}(),p.b("computedContext",p.Y),p.b("computedContext.getDependenciesCount",p.Y.la),p.b("computedContext.isInitial",p.Y.ma),p.b("computedContext.isSleeping",p.Y.Ac),p.p=function(e){function n(){return 0<arguments.length?(n.Pa(t,arguments[0])&&(n.X(),t=arguments[0],n.W()),this):(p.k.Jb(n),t)}var t=e;return p.P.call(n),p.a.Aa(n,p.p.fn),n.v=function(){return t},n.W=function(){n.notifySubscribers(t)},n.X=function(){n.notifySubscribers(t,"beforeChange")},p.A(n,"peek",n.v),p.A(n,"valueHasMutated",n.W),p.A(n,"valueWillMutate",n.X),n},p.p.fn={equalityComparer:l};var v=p.p.rc="__ko_proto__";p.p.fn[v]=p.p,p.a.xa&&p.a.za(p.p.fn,p.P.fn),p.Ma=function(n,t){return null===n||n===e||n[v]===e?!1:n[v]===t?!0:p.Ma(n[v],t)},p.C=function(e){return p.Ma(e,p.p)},p.Ra=function(e){return"function"==typeof e&&e[v]===p.p||"function"==typeof e&&e[v]===p.j&&e.hc?!0:!1},p.b("observable",p.p),p.b("isObservable",p.C),p.b("isWriteableObservable",p.Ra),p.b("isWritableObservable",p.Ra),p.aa=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=p.p(e),p.a.Aa(e,p.aa.fn),e.extend({trackArrayChanges:!0})},p.aa.fn={remove:function(e){for(var n=this.v(),t=[],r="function"!=typeof e||p.C(e)?function(n){return n===e}:e,i=0;i<n.length;i++){var a=n[i];r(a)&&(0===t.length&&this.X(),t.push(a),n.splice(i,1),i--)}return t.length&&this.W(),t},removeAll:function(n){if(n===e){var t=this.v(),r=t.slice(0);return this.X(),t.splice(0,t.length),this.W(),r}return n?this.remove(function(e){return 0<=p.a.m(n,e)}):[]},destroy:function(e){var n=this.v(),t="function"!=typeof e||p.C(e)?function(n){return n===e}:e;this.X();for(var r=n.length-1;r>=0;r--)t(n[r])&&(n[r]._destroy=!0);this.W()},destroyAll:function(n){return n===e?this.destroy(function(){return!0}):n?this.destroy(function(e){return 0<=p.a.m(n,e)}):[]},indexOf:function(e){var n=this();return p.a.m(n,e)},replace:function(e,n){var t=this.indexOf(e);t>=0&&(this.X(),this.v()[t]=n,this.W())}},p.a.u("pop push reverse shift sort splice unshift".split(" "),function(e){p.aa.fn[e]=function(){var n=this.v();return this.X(),this.sb(n,e,arguments),n=n[e].apply(n,arguments),this.W(),n}}),p.a.u(["slice"],function(e){p.aa.fn[e]=function(){var n=this();return n[e].apply(n,arguments)}}),p.a.xa&&p.a.za(p.aa.fn,p.p.fn),p.b("observableArray",p.aa);var g="arrayChange";p.La.trackArrayChanges=function(e){function n(){if(!t){t=!0;var n=e.notifySubscribers;e.notifySubscribers=function(e,t){return t&&t!==f||++i,n.apply(this,arguments)};var a=[].concat(e.v()||[]);r=null,e.U(function(n){if(n=[].concat(n||[]),e.Ab(g)){var t;(!r||i>1)&&(r=p.a.Fa(a,n,{sparse:!0})),t=r,t.length&&e.notifySubscribers(t,g)}a=n,r=null,i=0})}}if(!e.sb){var t=!1,r=null,i=0,a=e.U;e.U=e.subscribe=function(e,t,r){return r===g&&n(),a.apply(this,arguments)},e.sb=function(e,n,a){function o(e,n,t){return s[s.length]={status:e,value:n,index:t}}if(t&&!i){var s=[],l=e.length,c=a.length,u=0;switch(n){case"push":u=l;case"unshift":for(n=0;c>n;n++)o("added",a[n],u+n);break;case"pop":u=l-1;case"shift":l&&o("deleted",e[u],u);break;case"splice":n=Math.min(Math.max(0,0>a[0]?l+a[0]:a[0]),l);for(var l=1===c?l:Math.min(n+(a[1]||0),l),c=n+c-2,u=Math.max(l,c),d=[],h=[],f=2;u>n;++n,++f)l>n&&h.push(o("deleted",e[n],n)),c>n&&d.push(o("added",a[f],n));p.a.wb(h,d);break;default:return}r=s}}}},p.s=p.j=function(n,t,r){function i(){p.a.G(C,function(e,n){n.K()}),C={}}function a(){i(),S=0,v=!0,h=!1}function o(){var e=l.throttleEvaluation;e&&e>=0?(clearTimeout(T),T=setTimeout(s,e)):l.ib?l.ib():s()}function s(n){if(f){if(b)throw Error("A 'pure' computed must not be called recursively")}else if(!v){if(k&&k()){if(!m)return void N()}else m=!1;if(f=!0,w)try{var r={};p.k.Ea({wa:function(e,n){r[n]||(r[n]=1,++S)},s:l,ma:e}),S=0,d=g.call(t)}finally{p.k.end(),f=!1}else try{var i=C,a=S;p.k.Ea({wa:function(e,n){v||(a&&i[n]?(C[n]=i[n],++S,delete i[n],--a):C[n]||(C[n]=e.U(o),++S))},s:l,ma:b?e:!S}),C={},S=0;try{var s=t?g.call(t):g()}finally{p.k.end(),a&&p.a.G(i,function(e,n){n.K()}),h=!1}l.Pa(d,s)&&(l.notifySubscribers(d,"beforeChange"),d=s,!0!==n&&l.notifySubscribers(d))}finally{f=!1}S||N()}}function l(){if(0<arguments.length){if("function"!=typeof y)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return y.apply(t,arguments),this}return p.k.Jb(l),h&&s(!0),d}function c(){return h&&!S&&s(!0),d}function u(){return h||S>0}var d,h=!0,f=!1,m=!1,v=!1,g=n,b=!1,w=!1;if(g&&"object"==typeof g?(r=g,g=r.read):(r=r||{},g||(g=r.read)),"function"!=typeof g)throw Error("Pass a function that returns the value of the ko.computed");var y=r.write,M=r.disposeWhenNodeIsRemoved||r.o||null,x=r.disposeWhen||r.Ia,k=x,N=a,C={},S=0,T=null;t||(t=r.owner),p.P.call(l),p.a.Aa(l,p.j.fn),l.v=c,l.la=function(){return S},l.hc="function"==typeof r.write,l.K=function(){N()},l.Z=u;var R=l.Ta;return l.Ta=function(e){R.call(l,e),l.ib=function(){l.kb(d),h=!0,l.lb(l)}},r.pure?(w=b=!0,l.va=function(){w&&(w=!1,s(!0))},l.nb=function(){l.yb()||(i(),w=h=!0)}):r.deferEvaluation&&(l.va=function(){c(),delete l.va}),p.A(l,"peek",l.v),p.A(l,"dispose",l.K),p.A(l,"isActive",l.Z),p.A(l,"getDependenciesCount",l.la),M&&(m=!0,M.nodeType&&(k=function(){return!p.a.Ja(M)||x&&x()})),w||r.deferEvaluation||s(),M&&u()&&M.nodeType&&(N=function(){p.a.w.Kb(M,N),a()},p.a.w.da(M,N)),l},p.jc=function(e){return p.Ma(e,p.j)},m=p.p.rc,p.j[m]=p.p,p.j.fn={equalityComparer:l},p.j.fn[m]=p.j,p.a.xa&&p.a.za(p.j.fn,p.P.fn),p.b("dependentObservable",p.j),p.b("computed",p.j),p.b("isComputed",p.jc),p.Ib=function(e,n){return"function"==typeof e?p.s(e,n,{pure:!0}):(e=p.a.extend({},e),e.pure=!0,p.s(e,n))},p.b("pureComputed",p.Ib),function(){function n(i,a,o){if(o=o||new r,i=a(i),"object"!=typeof i||null===i||i===e||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var s=i instanceof Array?[]:{};return o.save(i,s),t(i,function(t){var r=a(i[t]);switch(typeof r){case"boolean":case"number":case"string":case"function":s[t]=r;break;case"object":case"undefined":var l=o.get(r);s[t]=l!==e?l:n(r,a,o)}}),s}function t(e,n){if(e instanceof Array){for(var t=0;t<e.length;t++)n(t);"function"==typeof e.toJSON&&n("toJSON")}else for(t in e)n(t)}function r(){this.keys=[],this.hb=[]}p.Qb=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return n(e,function(e){for(var n=0;p.C(e)&&10>n;n++)e=e();return e})},p.toJSON=function(e,n,t){return e=p.Qb(e),p.a.eb(e,n,t)},r.prototype={save:function(e,n){var t=p.a.m(this.keys,e);t>=0?this.hb[t]=n:(this.keys.push(e),this.hb.push(n))},get:function(n){return n=p.a.m(this.keys,n),n>=0?this.hb[n]:e}}}(),p.b("toJS",p.Qb),p.b("toJSON",p.toJSON),function(){p.i={q:function(n){switch(p.a.t(n)){case"option":return!0===n.__ko__hasDomDataOptionValue__?p.a.e.get(n,p.d.options.Va):7>=p.a.L?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return 0<=n.selectedIndex?p.i.q(n.options[n.selectedIndex]):e;default:return n.value}},ca:function(n,t,r){switch(p.a.t(n)){case"option":switch(typeof t){case"string":p.a.e.set(n,p.d.options.Va,e),"__ko__hasDomDataOptionValue__"in n&&delete n.__ko__hasDomDataOptionValue__,n.value=t;break;default:p.a.e.set(n,p.d.options.Va,t),n.__ko__hasDomDataOptionValue__=!0,n.value="number"==typeof t?t:""}break;case"select":(""===t||null===t)&&(t=e);for(var i,a=-1,o=0,s=n.options.length;s>o;++o)if(i=p.i.q(n.options[o]),i==t||""==i&&t===e){a=o;break}(r||a>=0||t===e&&1<n.size)&&(n.selectedIndex=a);break;default:(null===t||t===e)&&(t=""),n.value=t}}}}(),p.b("selectExtensions",p.i),p.b("selectExtensions.readValue",p.i.q),p.b("selectExtensions.writeValue",p.i.ca),p.h=function(){function e(e){e=p.a.cb(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var n,t,o=[],s=e.match(r),l=0;if(s){s.push(",");for(var c,u=0;c=s[u];++u){var d=c.charCodeAt(0);if(44===d){if(0>=l){n&&o.push(t?{key:n,value:t.join("")}:{unknown:n}),n=t=l=0;continue}}else if(58===d){if(!t)continue}else if(47===d&&u&&1<c.length)(d=s[u-1].match(i))&&!a[d[0]]&&(e=e.substr(e.indexOf(c)+1),s=e.match(r),s.push(","),u=-1,c="/");else if(40===d||123===d||91===d)++l;else if(41===d||125===d||93===d)--l;else if(!n&&!t){n=34===d||39===d?c.slice(1,-1):c;continue}t?t.push(c):t=[c]}}return o}var n=["true","false","null","undefined"],t=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),i=/[\])"'A-Za-z0-9_$]+$/,a={"in":1,"return":1,"typeof":1},o={};return{ha:[],V:o,Wa:e,ya:function(r,i){function a(e,r){var i;if(!u){var d=p.getBindingHandler(e);if(d&&d.preprocess&&!(r=d.preprocess(r,e,a)))return;(d=o[e])&&(i=r,0<=p.a.m(n,i)?i=!1:(d=i.match(t),i=null===d?!1:d[1]?"Object("+d[1]+")"+d[2]:i),d=i),d&&l.push("'"+e+"':function(_z){"+i+"=_z}")}c&&(r="function(){return "+r+" }"),s.push("'"+e+"':"+r)}i=i||{};var s=[],l=[],c=i.valueAccessors,u=i.bindingParams,d="string"==typeof r?e(r):r;return p.a.u(d,function(e){a(e.key||e.unknown,e.value)}),l.length&&a("_ko_property_writers","{"+l.join(",")+" }"),s.join(",")},lc:function(e,n){for(var t=0;t<e.length;t++)if(e[t].key==n)return!0;return!1},pa:function(e,n,t,r,i){e&&p.C(e)?!p.Ra(e)||i&&e.v()===r||e(r):(e=n.get("_ko_property_writers"))&&e[t]&&e[t](r)}}}(),p.b("expressionRewriting",p.h),p.b("expressionRewriting.bindingRewriteValidators",p.h.ha),p.b("expressionRewriting.parseObjectLiteral",p.h.Wa),p.b("expressionRewriting.preProcessBindings",p.h.ya),p.b("expressionRewriting._twoWayBindings",p.h.V),p.b("jsonExpressionRewriting",p.h),p.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",p.h.ya),function(){function e(e){return 8==e.nodeType&&o.test(a?e.text:e.nodeValue)}function n(e){return 8==e.nodeType&&s.test(a?e.text:e.nodeValue)}function r(t,r){for(var i=t,a=1,o=[];i=i.nextSibling;){if(n(i)&&(a--,0===a))return o;o.push(i),e(i)&&a++}if(!r)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function i(e,n){var t=r(e,n);return t?0<t.length?t[t.length-1].nextSibling:e.nextSibling:null}var a=t&&"<!--test-->"===t.createComment("test").text,o=a?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=a?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};p.f={Q:{},childNodes:function(n){return e(n)?r(n):n.childNodes},ja:function(n){if(e(n)){n=p.f.childNodes(n);for(var t=0,r=n.length;r>t;t++)p.removeNode(n[t])}else p.a.Ka(n)},T:function(n,t){if(e(n)){p.f.ja(n);for(var r=n.nextSibling,i=0,a=t.length;a>i;i++)r.parentNode.insertBefore(t[i],r)}else p.a.T(n,t)},Hb:function(n,t){e(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},Bb:function(n,t,r){r?e(n)?n.parentNode.insertBefore(t,r.nextSibling):r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):p.f.Hb(n,t)},firstChild:function(t){return e(t)?!t.nextSibling||n(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return e(t)&&(t=i(t)),t.nextSibling&&n(t.nextSibling)?null:t.nextSibling},gc:e,xc:function(e){return(e=(a?e.text:e.nodeValue).match(o))?e[1]:null},Fb:function(t){if(l[p.a.t(t)]){var r=t.firstChild;if(r)do if(1===r.nodeType){var a;a=r.firstChild;var o=null;if(a)do if(o)o.push(a);else if(e(a)){var s=i(a,!0);s?a=s:o=[a]}else n(a)&&(o=[a]);while(a=a.nextSibling);if(a=o)for(o=r.nextSibling,s=0;s<a.length;s++)o?t.insertBefore(a[s],o):t.appendChild(a[s])}while(r=r.nextSibling)}}}}(),p.b("virtualElements",p.f),p.b("virtualElements.allowedBindings",p.f.Q),p.b("virtualElements.emptyNode",p.f.ja),p.b("virtualElements.insertAfter",p.f.Bb),p.b("virtualElements.prepend",p.f.Hb),p.b("virtualElements.setDomNodeChildren",p.f.T),function(){p.J=function(){this.Yb={}},p.a.extend(p.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||p.g.getComponentNameForNode(e);case 8:return p.f.gc(e);default:return!1}},getBindings:function(e,n){var t=this.getBindingsString(e,n),t=t?this.parseBindingsString(t,n,e):null;return p.g.mb(t,e,n,!1)},getBindingAccessors:function(e,n){var t=this.getBindingsString(e,n),t=t?this.parseBindingsString(t,n,e,{valueAccessors:!0}):null;return p.g.mb(t,e,n,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return p.f.xc(e);default:return null}},parseBindingsString:function(e,n,t,r){try{var i,a=this.Yb,o=e+(r&&r.valueAccessors||"");if(!(i=a[o])){var s,l="with($context){with($data||{}){return{"+p.h.ya(e,r)+"}}}";s=new Function("$context","$element",l),i=a[o]=s}return i(n,t)}catch(c){throw c.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+c.message,c}}}),p.J.instance=new p.J}(),p.b("bindingProvider",p.J),function(){function t(e){return function(){return e}}function r(e){return e()}function a(e){return p.a.na(p.k.B(e),function(n,t){return function(){return e()[t]}})}function o(e,n){return a(this.getBindings.bind(this,e,n))}function s(e,n,t){var r,i=p.f.firstChild(n),a=p.J.instance,o=a.preprocessNode;if(o){for(;r=i;)i=p.f.nextSibling(r),o.call(a,r);i=p.f.firstChild(n)}for(;r=i;)i=p.f.nextSibling(r),l(e,r,t)}function l(e,n,t){var r=!0,i=1===n.nodeType;i&&p.f.Fb(n),(i&&t||p.J.instance.nodeHasBindings(n))&&(r=u(n,null,e,t).shouldBindDescendants),r&&!h[p.a.t(n)]&&s(e,n,!i)}function c(e){var n=[],t={},r=[];return p.a.G(e,function i(a){if(!t[a]){var o=p.getBindingHandler(a);o&&(o.after&&(r.push(a),p.a.u(o.after,function(n){if(e[n]){if(-1!==p.a.m(r,n))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(n)}}),r.length--),n.push({key:a,zb:o})),t[a]=!0}}),n}function u(n,t,i,a){var s=p.a.e.get(n,f);if(!t){if(s)throw Error("You cannot apply bindings multiple times to the same element.");p.a.e.set(n,f,!0)}!s&&a&&p.Ob(n,i);
var l;if(t&&"function"!=typeof t)l=t;else{var u=p.J.instance,d=u.getBindingAccessors||o,h=p.j(function(){return(l=t?t(i,n):d.call(u,n,i))&&i.I&&i.I(),l},null,{o:n});l&&h.Z()||(h=null)}var m;if(l){var v=h?function(e){return function(){return r(h()[e])}}:function(e){return l[e]},g=function(){return p.a.na(h?h():l,r)};g.get=function(e){return l[e]&&r(v(e))},g.has=function(e){return e in l},a=c(l),p.a.u(a,function(t){var r=t.zb.init,a=t.zb.update,o=t.key;if(8===n.nodeType&&!p.f.Q[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof r&&p.k.B(function(){var t=r(n,v(o),g,i.$data,i);if(t&&t.controlsDescendantBindings){if(m!==e)throw Error("Multiple bindings ("+m+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");m=o}}),"function"==typeof a&&p.j(function(){a(n,v(o),g,i.$data,i)},null,{o:n})}catch(s){throw s.message='Unable to process binding "'+o+": "+l[o]+'"\nMessage: '+s.message,s}})}return{shouldBindDescendants:m===e}}function d(e){return e&&e instanceof p.N?e:new p.N(e)}p.d={};var h={script:!0};p.getBindingHandler=function(e){return p.d[e]},p.N=function(n,t,r,i){var a,o=this,s="function"==typeof n&&!p.C(n),l=p.j(function(){var e=s?n():n,a=p.a.c(e);return t?(t.I&&t.I(),p.a.extend(o,t),l&&(o.I=l)):(o.$parents=[],o.$root=a,o.ko=p),o.$rawData=e,o.$data=a,r&&(o[r]=a),i&&i(o,t,a),o.$data},null,{Ia:function(){return a&&!p.a.ob(a)},o:!0});l.Z()&&(o.I=l,l.equalityComparer=null,a=[],l.Tb=function(n){a.push(n),p.a.w.da(n,function(n){p.a.ua(a,n),a.length||(l.K(),o.I=l=e)})})},p.N.prototype.createChildContext=function(e,n,t){return new p.N(e,this,n,function(e,n){e.$parentContext=n,e.$parent=n.$data,e.$parents=(n.$parents||[]).slice(0),e.$parents.unshift(e.$parent),t&&t(e)})},p.N.prototype.extend=function(e){return new p.N(this.I||this.$data,this,null,function(n,t){n.$rawData=t.$rawData,p.a.extend(n,"function"==typeof e?e():e)})};var f=p.a.e.F(),m=p.a.e.F();p.Ob=function(e,n){return 2!=arguments.length?p.a.e.get(e,m):(p.a.e.set(e,m,n),void(n.I&&n.I.Tb(e)))},p.ra=function(e,n,t){return 1===e.nodeType&&p.f.Fb(e),u(e,n,d(t),!0)},p.Wb=function(e,n,r){return r=d(r),p.ra(e,"function"==typeof n?a(n.bind(null,r,e)):p.a.na(n,t),r)},p.Ca=function(e,n){1!==n.nodeType&&8!==n.nodeType||s(d(e),n,!0)},p.pb=function(e,t){if(!i&&n.jQuery&&(i=n.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,l(d(e),t,!0)},p.Ha=function(n){switch(n.nodeType){case 1:case 8:var t=p.Ob(n);if(t)return t;if(n.parentNode)return p.Ha(n.parentNode)}return e},p.$b=function(n){return(n=p.Ha(n))?n.$data:e},p.b("bindingHandlers",p.d),p.b("applyBindings",p.pb),p.b("applyBindingsToDescendants",p.Ca),p.b("applyBindingAccessorsToNode",p.ra),p.b("applyBindingsToNode",p.Wb),p.b("contextFor",p.Ha),p.b("dataFor",p.$b)}(),function(e){function n(n,r){var o,s=i.hasOwnProperty(n)?i[n]:e;s||(s=i[n]=new p.P,t(n,function(e){a[n]=e,delete i[n],o?s.notifySubscribers(e):setTimeout(function(){s.notifySubscribers(e)},0)}),o=!0),s.U(r)}function t(e,n){r("getConfig",[e],function(t){t?r("loadComponent",[e,t],function(e){n(e)}):n(null)})}function r(n,t,i,a){a||(a=p.g.loaders.slice(0));var o=a.shift();if(o){var s=o[n];if(s){var l=!1;if(s.apply(o,t.concat(function(e){l?i(null):null!==e?i(e):r(n,t,i,a)}))!==e&&(l=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else r(n,t,i,a)}else i(null)}var i={},a={};p.g={get:function(t,r){var i=a.hasOwnProperty(t)?a[t]:e;i?setTimeout(function(){r(i)},0):n(t,r)},tb:function(e){delete a[e]},jb:r},p.g.loaders=[],p.b("components",p.g),p.b("components.get",p.g.get),p.b("components.clearCachedDefinition",p.g.tb)}(),function(){function e(e,n,t,r){function i(){0===--s&&r(a)}var a={},s=2,l=t.template;t=t.viewModel,l?o(n,l,function(n){p.g.jb("loadTemplate",[e,n],function(e){a.template=e,i()})}):i(),t?o(n,t,function(n){p.g.jb("loadViewModel",[e,n],function(e){a[u]=e,i()})}):i()}function r(e,n,t){if("function"==typeof n)t(function(e){return new n(e)});else if("function"==typeof n[u])t(n[u]);else if("instance"in n){var i=n.instance;t(function(){return i})}else"viewModel"in n?r(e,n.viewModel,t):e("Unknown viewModel value: "+n)}function i(e){switch(p.a.t(e)){case"script":return p.a.ba(e.text);case"textarea":return p.a.ba(e.value);case"template":if(a(e.content))return p.a.ia(e.content.childNodes)}return p.a.ia(e.childNodes)}function a(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,t,r){"string"==typeof t.require?s||n.require?(s||n.require)([t.require],r):e("Uses require, but no AMD loader is present"):r(t)}function l(e){return function(n){throw Error("Component '"+e+"': "+n)}}var c={};p.g.tc=function(e,n){if(!n)throw Error("Invalid configuration for "+e);if(p.g.Qa(e))throw Error("Component "+e+" is already registered");c[e]=n},p.g.Qa=function(e){return e in c},p.g.wc=function(e){delete c[e],p.g.tb(e)},p.g.ub={getConfig:function(e,n){n(c.hasOwnProperty(e)?c[e]:null)},loadComponent:function(n,t,r){var i=l(n);o(i,t,function(t){e(n,i,t,r)})},loadTemplate:function(e,r,o){if(e=l(e),"string"==typeof r)o(p.a.ba(r));else if(r instanceof Array)o(r);else if(a(r))o(p.a.S(r.childNodes));else if(r.element)if(r=r.element,n.HTMLElement?r instanceof HTMLElement:r&&r.tagName&&1===r.nodeType)o(i(r));else if("string"==typeof r){var s=t.getElementById(r);s?o(i(s)):e("Cannot find element with ID "+r)}else e("Unknown element type: "+r);else e("Unknown template value: "+r)},loadViewModel:function(e,n,t){r(l(e),n,t)}};var u="createViewModel";p.b("components.register",p.g.tc),p.b("components.isRegistered",p.g.Qa),p.b("components.unregister",p.g.wc),p.b("components.defaultLoader",p.g.ub),p.g.loaders.push(p.g.ub),p.g.Ub=c}(),function(){function e(e,t){var r=e.getAttribute("params");if(r){var r=n.parseBindingsString(r,t,e,{valueAccessors:!0,bindingParams:!0}),r=p.a.na(r,function(n){return p.s(n,null,{o:e})}),i=p.a.na(r,function(n){return n.Z()?p.s(function(){return p.a.c(n())},null,{o:e}):n.v()});return i.hasOwnProperty("$raw")||(i.$raw=r),i}return{$raw:{}}}p.g.getComponentNameForNode=function(e){return e=p.a.t(e),p.g.Qa(e)&&e},p.g.mb=function(n,t,r,i){if(1===t.nodeType){var a=p.g.getComponentNameForNode(t);if(a){if(n=n||{},n.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:a,params:e(t,r)};n.component=i?function(){return o}:o}}return n};var n=new p.J;9>p.a.L&&(p.g.register=function(e){return function(n){return t.createElement(n),e.apply(this,arguments)}}(p.g.register),t.createDocumentFragment=function(e){return function(){var n,t=e(),r=p.g.Ub;for(n in r)r.hasOwnProperty(n)&&t.createElement(n);return t}}(t.createDocumentFragment))}(),function(){var e=0;p.d.component={init:function(n,t,r,i,a){function o(){var e=s&&s.dispose;"function"==typeof e&&e.call(s),l=null}var s,l;return p.a.w.da(n,o),p.s(function(){var r,i,c=p.a.c(t());if("string"==typeof c?r=c:(r=p.a.c(c.name),i=p.a.c(c.params)),!r)throw Error("No component name specified");var u=l=++e;p.g.get(r,function(e){if(l===u){if(o(),!e)throw Error("Unknown component '"+r+"'");var t=e.template;if(!t)throw Error("Component '"+r+"' has no template");t=p.a.ia(t),p.f.T(n,t);var t=i,c=e.createViewModel;e=c?c.call(e,t,{element:n}):t,t=a.createChildContext(e),s=e,p.Ca(t,n)}})},null,{o:n}),{controlsDescendantBindings:!0}}},p.f.Q.component=!0}();var b={"class":"className","for":"htmlFor"};p.d.attr={update:function(n,t){var r=p.a.c(t())||{};p.a.G(r,function(t,r){r=p.a.c(r);var i=!1===r||null===r||r===e;i&&n.removeAttribute(t),8>=p.a.L&&t in b?(t=b[t],i?n.removeAttribute(t):n[t]=r):i||n.setAttribute(t,r.toString()),"name"===t&&p.a.Mb(n,i?"":r.toString())})}},function(){p.d.checked={after:["value","attr"],init:function(n,t,r){function i(){var e=n.checked,i=d?o():e;if(!p.Y.ma()&&(!l||e)){var a=p.k.B(t);c?u!==i?(e&&(p.a.ea(a,i,!0),p.a.ea(a,u,!1)),u=i):p.a.ea(a,i,e):p.h.pa(a,r,"checked",i,!0)}}function a(){var e=p.a.c(t());n.checked=c?0<=p.a.m(e,o()):s?e:o()===e}var o=p.Ib(function(){return r.has("checkedValue")?p.a.c(r.get("checkedValue")):r.has("value")?p.a.c(r.get("value")):n.value}),s="checkbox"==n.type,l="radio"==n.type;if(s||l){var c=s&&p.a.c(t())instanceof Array,u=c?o():e,d=l||c;l&&!n.name&&p.d.uniqueName.init(n,function(){return!0}),p.s(i,null,{o:n}),p.a.n(n,"click",i),p.s(a,null,{o:n})}}},p.h.V.checked=!0,p.d.checkedValue={update:function(e,n){e.value=p.a.c(n())}}}(),p.d.css={update:function(e,n){var t=p.a.c(n());"object"==typeof t?p.a.G(t,function(n,t){t=p.a.c(t),p.a.Ba(e,n,t)}):(t=String(t||""),p.a.Ba(e,e.__ko__cssValue,!1),e.__ko__cssValue=t,p.a.Ba(e,t,!0))}},p.d.enable={update:function(e,n){var t=p.a.c(n());t&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}},p.d.disable={update:function(e,n){p.d.enable.update(e,function(){return!p.a.c(n())})}},p.d.event={init:function(e,n,t,r,i){var a=n()||{};p.a.G(a,function(a){"string"==typeof a&&p.a.n(e,a,function(e){var o,s=n()[a];if(s){try{var l=p.a.S(arguments);r=i.$data,l.unshift(r),o=s.apply(r,l)}finally{!0!==o&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===t.get(a+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},p.d.foreach={Eb:function(e){return function(){var n=e(),t=p.a.Xa(n);return t&&"number"!=typeof t.length?(p.a.c(n),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:p.O.Oa}):{foreach:n,templateEngine:p.O.Oa}}},init:function(e,n){return p.d.template.init(e,p.d.foreach.Eb(n))},update:function(e,n,t,r,i){return p.d.template.update(e,p.d.foreach.Eb(n),t,r,i)}},p.h.ha.foreach=!1,p.f.Q.foreach=!0,p.d.hasfocus={init:function(e,n,t){function r(r){e.__ko_hasfocusUpdating=!0;var i=e.ownerDocument;if("activeElement"in i){var a;try{a=i.activeElement}catch(o){a=i.body}r=a===e}i=n(),p.h.pa(i,t,"hasfocus",r,!0),e.__ko_hasfocusLastValue=r,e.__ko_hasfocusUpdating=!1}var i=r.bind(null,!0),a=r.bind(null,!1);p.a.n(e,"focus",i),p.a.n(e,"focusin",i),p.a.n(e,"blur",a),p.a.n(e,"focusout",a)},update:function(e,n){var t=!!p.a.c(n());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),p.k.B(p.a.oa,null,[e,t?"focusin":"focusout"]))}},p.h.V.hasfocus=!0,p.d.hasFocus=p.d.hasfocus,p.h.V.hasFocus=!0,p.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){p.a.$a(e,n())}},d("if"),d("ifnot",!1,!0),d("with",!0,!1,function(e,n){return e.createChildContext(n)});var w={};p.d.options={init:function(e){if("select"!==p.a.t(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(n,t,r){function i(){return p.a.ta(n.options,function(e){return e.selected})}function a(e,n,t){var r=typeof n;return"function"==r?n(e):"string"==r?e[n]:t}function o(e,t){if(d.length){var r=0<=p.a.m(d,p.i.q(t[0]));p.a.Nb(t[0],r),h&&!r&&p.k.B(p.a.oa,null,[n,"change"])}}var s=0!=n.length&&n.multiple?n.scrollTop:null,l=p.a.c(t()),c=r.get("optionsIncludeDestroyed");t={};var u,d;d=n.multiple?p.a.Da(i(),p.i.q):0<=n.selectedIndex?[p.i.q(n.options[n.selectedIndex])]:[],l&&("undefined"==typeof l.length&&(l=[l]),u=p.a.ta(l,function(n){return c||n===e||null===n||!p.a.c(n._destroy)}),r.has("optionsCaption")&&(l=p.a.c(r.get("optionsCaption")),null!==l&&l!==e&&u.unshift(w)));var h=!1;t.beforeRemove=function(e){n.removeChild(e)},l=o,r.has("optionsAfterRender")&&(l=function(n,t){o(0,t),p.k.B(r.get("optionsAfterRender"),null,[t[0],n!==w?n:e])}),p.a.Za(n,u,function(t,i,o){return o.length&&(d=o[0].selected?[p.i.q(o[0])]:[],h=!0),i=n.ownerDocument.createElement("option"),t===w?(p.a.bb(i,r.get("optionsCaption")),p.i.ca(i,e)):(o=a(t,r.get("optionsValue"),t),p.i.ca(i,p.a.c(o)),t=a(t,r.get("optionsText"),o),p.a.bb(i,t)),[i]},t,l),p.k.B(function(){r.get("valueAllowUnset")&&r.has("value")?p.i.ca(n,p.a.c(r.get("value")),!0):(n.multiple?d.length&&i().length<d.length:d.length&&0<=n.selectedIndex?p.i.q(n.options[n.selectedIndex])!==d[0]:d.length||0<=n.selectedIndex)&&p.a.oa(n,"change")}),p.a.dc(n),s&&20<Math.abs(s-n.scrollTop)&&(n.scrollTop=s)}},p.d.options.Va=p.a.e.F(),p.d.selectedOptions={after:["options","foreach"],init:function(e,n,t){p.a.n(e,"change",function(){var r=n(),i=[];p.a.u(e.getElementsByTagName("option"),function(e){e.selected&&i.push(p.i.q(e))}),p.h.pa(r,t,"selectedOptions",i)})},update:function(e,n){if("select"!=p.a.t(e))throw Error("values binding applies only to SELECT elements");var t=p.a.c(n());t&&"number"==typeof t.length&&p.a.u(e.getElementsByTagName("option"),function(e){var n=0<=p.a.m(t,p.i.q(e));p.a.Nb(e,n)})}},p.h.V.selectedOptions=!0,p.d.style={update:function(n,t){var r=p.a.c(t()||{});p.a.G(r,function(t,r){r=p.a.c(r),(null===r||r===e||!1===r)&&(r=""),n.style[t]=r})}},p.d.submit={init:function(e,n,t,r,i){if("function"!=typeof n())throw Error("The value for a submit binding must be a function");p.a.n(e,"submit",function(t){var r,a=n();try{r=a.call(i.$data,e)}finally{!0!==r&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},p.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){p.a.bb(e,n())}},p.f.Q.text=!0,function(){if(n&&n.navigator)var t=function(e){return e?parseFloat(e[1]):void 0},r=n.opera&&n.opera.version&&parseInt(n.opera.version()),i=n.navigator.userAgent,a=t(i.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=t(i.match(/Firefox\/([^ ]*)/));if(10>p.a.L)var s=p.a.e.F(),l=p.a.e.F(),c=function(e){var n=this.activeElement;(n=n&&p.a.e.get(n,l))&&n(e)},u=function(e,n){var t=e.ownerDocument;p.a.e.get(t,s)||(p.a.e.set(t,s,!0),p.a.n(t,"selectionchange",c)),p.a.e.set(e,l,n)};p.d.textInput={init:function(n,t,i){function s(e,t){p.a.n(n,e,t)}function l(){var r=p.a.c(t());(null===r||r===e)&&(r=""),f!==e&&r===f?setTimeout(l,4):n.value!==r&&(m=r,n.value=r)}function c(){h||(f=n.value,h=setTimeout(d,4))}function d(){clearTimeout(h),f=h=e;var r=n.value;m!==r&&(m=r,p.h.pa(t(),i,"textInput",r))}var h,f,m=n.value;10>p.a.L?(s("propertychange",function(e){"value"===e.propertyName&&d()}),8==p.a.L&&(s("keyup",d),s("keydown",d)),8<=p.a.L&&(u(n,d),s("dragend",c))):(s("input",d),5>a&&"textarea"===p.a.t(n)?(s("keydown",c),s("paste",c),s("cut",c)):11>r?s("keydown",c):4>o&&(s("DOMAutoComplete",d),s("dragdrop",d),s("drop",d))),s("change",d),p.s(l,null,{o:n})}},p.h.V.textInput=!0,p.d.textinput={preprocess:function(e,n,t){t("textInput",e)}}}(),p.d.uniqueName={init:function(e,n){if(n()){var t="ko_unique_"+ ++p.d.uniqueName.Zb;p.a.Mb(e,t)}}},p.d.uniqueName.Zb=0,p.d.value={after:["options","foreach"],init:function(e,n,t){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var r=["change"],i=t.get("valueUpdate"),a=!1,o=null;i&&("string"==typeof i&&(i=[i]),p.a.ga(r,i),r=p.a.rb(r));var s=function(){o=null,a=!1;var r=n(),i=p.i.q(e);p.h.pa(r,t,"value",i)};!p.a.L||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=p.a.m(r,"propertychange")||(p.a.n(e,"propertychange",function(){a=!0}),p.a.n(e,"focus",function(){a=!1}),p.a.n(e,"blur",function(){a&&s()})),p.a.u(r,function(n){var t=s;p.a.vc(n,"after")&&(t=function(){o=p.i.q(e),setTimeout(s,0)},n=n.substring(5)),p.a.n(e,n,t)});var l=function(){var r=p.a.c(n()),i=p.i.q(e);if(null!==o&&r===o)setTimeout(l,0);else if(r!==i)if("select"===p.a.t(e)){var a=t.get("valueAllowUnset"),i=function(){p.i.ca(e,r,a)};i(),a||r===p.i.q(e)?setTimeout(i,0):p.k.B(p.a.oa,null,[e,"change"])}else p.i.ca(e,r)};p.s(l,null,{o:e})}else p.ra(e,{checkedValue:n})},update:function(){}},p.h.V.value=!0,p.d.visible={update:function(e,n){var t=p.a.c(n()),r="none"!=e.style.display;t&&!r?e.style.display="":!t&&r&&(e.style.display="none")}},function(e){p.d[e]={init:function(n,t,r,i,a){return p.d.event.init.call(this,n,function(){var n={};return n[e]=t(),n},r,i,a)}}}("click"),p.H=function(){},p.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},p.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},p.H.prototype.makeTemplateSource=function(e,n){if("string"==typeof e){n=n||t;var r=n.getElementById(e);if(!r)throw Error("Cannot find template with ID "+e);return new p.r.l(r)}if(1==e.nodeType||8==e.nodeType)return new p.r.fa(e);throw Error("Unknown template type: "+e)},p.H.prototype.renderTemplate=function(e,n,t,r){return e=this.makeTemplateSource(e,r),this.renderTemplateSource(e,n,t)},p.H.prototype.isTemplateRewritten=function(e,n){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(e,n).data("isRewritten")},p.H.prototype.rewriteTemplate=function(e,n,t){e=this.makeTemplateSource(e,t),n=n(e.text()),e.text(n),e.data("isRewritten",!0)},p.b("templateEngine",p.H),p.fb=function(){function e(e,n,t,r){e=p.h.Wa(e);for(var i=p.h.ha,a=0;a<e.length;a++){var o=e[a].key;if(i.hasOwnProperty(o)){var s=i[o];if("function"==typeof s){if(o=s(e[a].value))throw Error(o)}else if(!s)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return t="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+p.h.ya(e,{valueAccessors:!0})+" } })()},'"+t.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(t)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,t=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(e,n,t){n.isTemplateRewritten(e,t)||n.rewriteTemplate(e,function(e){return p.fb.nc(e,n)},t)},nc:function(r,i){return r.replace(n,function(n,t,r,a,o){return e(o,t,r,i)}).replace(t,function(n,t){return e(t,"<!-- ko -->","#comment",i)})},Xb:function(e,n){return p.D.Ua(function(t,r){var i=t.nextSibling;i&&i.nodeName.toLowerCase()===n&&p.ra(i,e,r)})}}}(),p.b("__tr_ambtns",p.fb.Xb),function(){p.r={},p.r.l=function(e){this.l=e},p.r.l.prototype.text=function(){var e=p.a.t(this.l),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.l[e];var n=arguments[0];"innerHTML"===e?p.a.$a(this.l,n):this.l[e]=n};var n=p.a.e.F()+"_";p.r.l.prototype.data=function(e){return 1===arguments.length?p.a.e.get(this.l,n+e):void p.a.e.set(this.l,n+e,arguments[1])};var t=p.a.e.F();p.r.fa=function(e){this.l=e},p.r.fa.prototype=new p.r.l,p.r.fa.prototype.text=function(){if(0==arguments.length){var n=p.a.e.get(this.l,t)||{};return n.gb===e&&n.Ga&&(n.gb=n.Ga.innerHTML),n.gb}p.a.e.set(this.l,t,{gb:arguments[0]})},p.r.l.prototype.nodes=function(){return 0==arguments.length?(p.a.e.get(this.l,t)||{}).Ga:void p.a.e.set(this.l,t,{Ga:arguments[0]})},p.b("templateSources",p.r),p.b("templateSources.domElement",p.r.l),p.b("templateSources.anonymousTemplate",p.r.fa)}(),function(){function n(e,n,t){var r;for(n=p.f.nextSibling(n);e&&(r=e)!==n;)e=p.f.nextSibling(r),t(r,e)}function t(e,t){if(e.length){var r=e[0],i=e[e.length-1],a=r.parentNode,o=p.J.instance,s=o.preprocessNode;if(s){if(n(r,i,function(e,n){var t=e.previousSibling,a=s.call(o,e);a&&(e===r&&(r=a[0]||n),e===i&&(i=a[a.length-1]||t))}),e.length=0,!r)return;r===i?e.push(r):(e.push(r,i),p.a.ka(e,a))}n(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||p.pb(t,e)}),n(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||p.D.Sb(e,[t])}),p.a.ka(e,a)}}function r(e){return e.nodeType?e:0<e.length?e[0]:null}function i(e,n,i,o,s){s=s||{};var l=e&&r(e),l=l&&l.ownerDocument,c=s.templateEngine||a;if(p.fb.ec(i,c,l),i=c.renderTemplate(i,o,s,l),"number"!=typeof i.length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,n){case"replaceChildren":p.f.T(e,i),l=!0;break;case"replaceNode":p.a.Lb(e,i),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return l&&(t(i,o),s.afterRender&&p.k.B(s.afterRender,null,[i,o.$data])),i}var a;p.ab=function(n){if(n!=e&&!(n instanceof p.H))throw Error("templateEngine must inherit from ko.templateEngine");a=n},p.Ya=function(n,t,o,s,l){if(o=o||{},(o.templateEngine||a)==e)throw Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",s){var c=r(s);return p.j(function(){var e=t&&t instanceof p.N?t:new p.N(p.a.c(t)),a=p.C(n)?n():"function"==typeof n?n(e.$data,e):n,e=i(s,l,a,e,o);"replaceNode"==l&&(s=e,c=r(s))},null,{Ia:function(){return!c||!p.a.Ja(c)},o:c&&"replaceNode"==l?c.parentNode:c})}return p.D.Ua(function(e){p.Ya(n,t,o,e,"replaceNode")})},p.uc=function(n,r,a,o,s){function l(e,n){t(n,u),a.afterRender&&a.afterRender(n,e)}function c(e,t){u=s.createChildContext(e,a.as,function(e){e.$index=t});var r=p.C(n)?n():"function"==typeof n?n(e,u):n;return i(null,"ignoreTargetNode",r,u,a)}var u;return p.j(function(){var n=p.a.c(r)||[];"undefined"==typeof n.length&&(n=[n]),n=p.a.ta(n,function(n){return a.includeDestroyed||n===e||null===n||!p.a.c(n._destroy)}),p.k.B(p.a.Za,null,[o,n,c,a,l])},null,{o:o})};var o=p.a.e.F();p.d.template={init:function(e,n){var t=p.a.c(n());return"string"==typeof t||t.name?p.f.ja(e):(t=p.f.childNodes(e),t=p.a.oc(t),new p.r.fa(e).nodes(t)),{controlsDescendantBindings:!0}},update:function(n,t,r,i,a){var s,l=t();t=p.a.c(l),r=!0,i=null,"string"==typeof t?t={}:(l=t.name,"if"in t&&(r=p.a.c(t["if"])),r&&"ifnot"in t&&(r=!p.a.c(t.ifnot)),s=p.a.c(t.data)),"foreach"in t?i=p.uc(l||n,r&&t.foreach||[],t,n,a):r?(a="data"in t?a.createChildContext(s,t.as):a,i=p.Ya(l||n,a,t,n)):p.f.ja(n),a=i,(s=p.a.e.get(n,o))&&"function"==typeof s.K&&s.K(),p.a.e.set(n,o,a&&a.Z()?a:e)}},p.h.ha.template=function(e){return e=p.h.Wa(e),1==e.length&&e[0].unknown||p.h.lc(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},p.f.Q.template=!0}(),p.b("setTemplateEngine",p.ab),p.b("renderTemplate",p.Ya),p.a.wb=function(e,n,t){if(e.length&&n.length){var r,i,a,o,s;for(r=i=0;(!t||t>r)&&(o=e[i]);++i){for(a=0;s=n[a];++a)if(o.value===s.value){o.moved=s.index,s.moved=o.index,n.splice(a,1),r=a=0;break}r+=a}}},p.a.Fa=function(){function e(e,n,t,r,i){var a,o,s,l,c,u=Math.min,d=Math.max,h=[],f=e.length,m=n.length,v=m-f||1,g=f+m+1;for(a=0;f>=a;a++)for(l=s,h.push(s=[]),c=u(m,a+v),o=d(0,a-1);c>=o;o++)s[o]=o?a?e[a-1]===n[o-1]?l[o-1]:u(l[o]||g,s[o-1]||g)+1:o+1:a+1;for(u=[],d=[],v=[],a=f,o=m;a||o;)m=h[a][o]-1,o&&m===h[a][o-1]?d.push(u[u.length]={status:t,value:n[--o],index:o}):a&&m===h[a-1][o]?v.push(u[u.length]={status:r,value:e[--a],index:a}):(--o,--a,i.sparse||u.push({status:"retained",value:n[o]}));return p.a.wb(d,v,10*f),u.reverse()}return function(n,t,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},n=n||[],t=t||[],n.length<=t.length?e(n,t,"added","deleted",r):e(t,n,"deleted","added",r)}}(),p.b("utils.compareArrays",p.a.Fa),function(){function n(n,t,r,i,a){var o=[],s=p.j(function(){var e=t(r,a,p.a.ka(o,n))||[];0<o.length&&(p.a.Lb(o,e),i&&p.k.B(i,null,[r,e,a])),o.length=0,p.a.ga(o,e)},null,{o:n,Ia:function(){return!p.a.ob(o)}});return{$:o,j:s.Z()?s:e}}var t=p.a.e.F();p.a.Za=function(r,i,a,o,s){function l(e,n){y=d[n],g!==n&&(k[e]=y),y.Na(g++),p.a.ka(y.$,r),m.push(y),w.push(y)}function c(e,n){if(e)for(var t=0,r=n.length;r>t;t++)n[t]&&p.a.u(n[t].$,function(r){e(r,t,n[t].sa)})}i=i||[],o=o||{};var u=p.a.e.get(r,t)===e,d=p.a.e.get(r,t)||[],h=p.a.Da(d,function(e){return e.sa}),f=p.a.Fa(h,i,o.dontLimitMoves),m=[],v=0,g=0,b=[],w=[];i=[];for(var y,M,x,k=[],h=[],N=0;M=f[N];N++)switch(x=M.moved,M.status){case"deleted":x===e&&(y=d[v],y.j&&y.j.K(),b.push.apply(b,p.a.ka(y.$,r)),o.beforeRemove&&(i[N]=y,w.push(y))),v++;break;case"retained":l(N,v++);break;case"added":x!==e?l(N,x):(y={sa:M.value,Na:p.p(g++)},m.push(y),w.push(y),u||(h[N]=y))}c(o.beforeMove,k),p.a.u(b,o.beforeRemove?p.R:p.removeNode);for(var C,N=0,u=p.f.firstChild(r);y=w[N];N++){for(y.$||p.a.extend(y,n(r,a,y.sa,s,y.Na)),v=0;f=y.$[v];u=f.nextSibling,C=f,v++)f!==u&&p.f.Bb(r,f,C);!y.ic&&s&&(s(y.sa,y.$,y.Na),y.ic=!0)}c(o.beforeRemove,i),c(o.afterMove,k),c(o.afterAdd,h),p.a.e.set(r,t,m)}}(),p.b("utils.setDomNodeChildrenFromArrayMapping",p.a.Za),p.O=function(){this.allowTemplateRewriting=!1},p.O.prototype=new p.H,p.O.prototype.renderTemplateSource=function(e){var n=(9>p.a.L?0:e.nodes)?e.nodes():null;return n?p.a.S(n.cloneNode(!0).childNodes):(e=e.text(),p.a.ba(e))},p.O.Oa=new p.O,p.ab(p.O.Oa),p.b("nativeTemplateEngine",p.O),function(){p.Sa=function(){var e=this.kc=function(){if(!i||!i.tmpl)return 0;try{if(0<=i.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,r,a){if(a=a||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=n.data("precompiled");return o||(o=n.text()||"",o=i.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),n.data("precompiled",o)),n=[r.$data],r=i.extend({koBindingContext:r},a.templateOptions),r=i.tmpl(o,n,r),r.appendTo(t.createElement("div")),i.fragments={},r},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,n){t.write("<script type='text/html' id='"+e+"'>"+n+"</script>")},e>0&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},p.Sa.prototype=new p.H;var e=new p.Sa;0<e.kc&&p.ab(e),p.b("jqueryTmplTemplateEngine",p.Sa)}()})}()}(),function(e,n){"function"==typeof define&&define.amd?define("postal",["lodash"],function(t){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(require("lodash"),this):e.postal=n(e._,e)}(this,function(e,n,t){function r(e,n){return function(){if(console.warn||console.log){var t="Warning, the "+e+" method has been deprecated. Please use "+n+" instead.";console.warn?console.warn(t):console.log(t)}return p.prototype[n].apply(this,arguments)}}function i(){for(;M.length;)c.unsubscribe(M.shift())}function a(e,n,t){return function(r,i,a){r===e&&a.splice(i,1),0===a.length&&delete t[n]}}function o(e,n,t,r,i){return function(a){e.resolver.compare(a.topic,n)&&(t.push(a),a.cacheKeys.push(r),i&&i(a))}}function s(e,n){return{channel:c.configuration.SYSTEM_CHANNEL,topic:"subscription."+e,data:{event:"subscription."+e,channel:n.channel,topic:n.topic}}}function l(n,t){return"function"==typeof n?n:n?function(r){var i=0,a=0;return e.each(n,function(e,o){i+=1,("topic"===o&&t.compare(r.topic,n.topic)||"context"===o&&n.context===r._context||r[o]===n[o])&&(a+=1)}),i===a}:function(){return!0}}var c,u=n.postal,d=function(e,n){this.bus=n,this.channel=e||c.configuration.DEFAULT_CHANNEL};d.prototype.subscribe=function(){return this.bus.subscribe({channel:this.channel,topic:1===arguments.length?arguments[0].topic:arguments[0],callback:1===arguments.length?arguments[0].callback:arguments[1]})},d.prototype.publish=function(){var e=1===arguments.length?"[object String]"===Object.prototype.toString.call(arguments[0])?{topic:arguments[0]}:arguments[0]:{topic:arguments[0],data:arguments[1]};e.channel=this.channel,this.bus.publish(e)};var p=function(e,n,r){if(3!==arguments.length)throw new Error("You must provide a channel, topic and callback when creating a SubscriptionDefinition instance.");if(0===n.length)throw new Error("Topics cannot be empty");this.channel=e,this.topic=n,this.callback=r,this.pipeline=[],this.cacheKeys=[],this._context=t},h=function(){var n;return function(t){var r=!1;return e.isString(t)?(r=t===n,n=t):(r=e.isEqual(t,n),n=e.clone(t)),!r}},f=function(){var n=[];return function(t){var r=!e.any(n,function(n){return e.isObject(t)||e.isArray(t)?e.isEqual(t,n):t===n});return r&&n.push(t),r}};p.prototype={"catch":function(e){var n=this.callback,t=function(){try{n.apply(this,arguments)}catch(t){e(t,arguments[0])}};return this.callback=t,this},defer:function(){return this.withDelay(0)},disposeAfter:function(n){if(!e.isNumber(n)||0>=n)throw new Error("The value provided to disposeAfter (maxCalls) must be a number greater than zero.");var t=this,r=e.after(n,e.bind(function(){t.unsubscribe()}));return t.pipeline.push(function(e,n,t){t(e,n),r()}),t},distinct:function(){return this.withConstraint(new f)},distinctUntilChanged:function(){return this.withConstraint(new h)},invokeSubscriber:function(e,n){if(!this.inactive){var t=this,r=t.pipeline,i=r.length,a=t._context,o=-1;if(i){r=r.concat([t.callback]);var s=function l(e,n){o+=1,i>o?r[o].call(a,e,n,l):t.callback.call(a,e,n)};s(e,n,0)}else t.callback.call(a,e,n)}},logError:function(){if(console){var e;e=console.warn?console.warn:console.log,this["catch"](e)}return this},once:function(){return this.disposeAfter(1)},subscribe:function(e){return this.callback=e,this},unsubscribe:function(){this.inactive||c.unsubscribe(this)},constraint:function(n){if(!e.isFunction(n))throw new Error("Predicate constraint must be a function");return this.pipeline.push(function(e,t,r){n.call(this,e,t)&&r(e,t)}),this},constraints:function(n){var t=this;return e.isArray(n)&&e.each(n,function(e){t.withConstraint(e)}),t},context:function(e){return this._context=e,this},debounce:function(n,t){if(!e.isNumber(n))throw new Error("Milliseconds must be a number");return this.pipeline.push(e.debounce(function(e,n,t){t(e,n)},n,!!t)),this},delay:function(n){if(!e.isNumber(n))throw new Error("Milliseconds must be a number");var t=this;return t.pipeline.push(function(e,t,r){setTimeout(function(){r(e,t)},n)}),this},throttle:function(n){if(!e.isNumber(n))throw new Error("Milliseconds must be a number");var t=function(e,n,t){t(e,n)};return this.pipeline.push(e.throttle(t,n)),this}};for(var m=["withConstraint","withConstraints","withContext","withDebounce","withDelay","withThrottle"],v=["constraint","constraints","context","debounce","delay","throttle"],g=0;6>g;g++){var b=m[g];p.prototype[b]=r(b,v[g])}var w={cache:{},regex:{},compare:function(n,t){var r,i,a,o=this.cache[t+"-"+n];return o===!0?o:-1===n.indexOf("#")&&-1===n.indexOf("*")?o=this.cache[t+"-"+n]=t===n:((i=this.regex[n])||(r="^"+e.map(n.split("."),function(e){var n="";return a&&(n="#"!==a?"\\.\\b":"\\b"),n+="#"===e?"[\\s\\S]*":"*"===e?"[^.]+":e,a=e,n}).join("")+"$",i=this.regex[n]=new RegExp(r)),o=this.cache[t+"-"+n]=i.test(t))},reset:function(){this.cache={},this.regex={}}},y=0,M=[],x=s.bind(this,"created"),k=s.bind(this,"removed");if(c={cache:{},configuration:{resolver:w,DEFAULT_CHANNEL:"/",SYSTEM_CHANNEL:"postal",enableSystemMessages:!0,cacheKeyDelimiter:"|"},subscriptions:{},wireTaps:[],ChannelDefinition:d,SubscriptionDefinition:p,channel:function(e){return new d(e,this)},addWireTap:function(e){var n=this;return n.wireTaps.push(e),function(){var t=n.wireTaps.indexOf(e);-1!==t&&n.wireTaps.splice(t,1)}},noConflict:function(){if("undefined"==typeof window||"undefined"!=typeof window&&"function"==typeof define&&define.amd)throw new Error("noConflict can only be used in browser clients which aren't using AMD modules");return n.postal=u,this},getSubscribersFor:function(n){var t=[],r=this;return e.each(r.subscriptions,function(i){e.each(i,function(i){t=t.concat(e.filter(i,l(n,r.configuration.resolver)))})}),t},publish:function(n){++y;var t=this.configuration,r=n.channel=n.channel||t.DEFAULT_CHANNEL,a=n.topic;n.timeStamp=new Date,this.wireTaps.length&&e.each(this.wireTaps,function(e){e(n.data,n,y)});var s=r+t.cacheKeyDelimiter+a,l=this.cache[s];if(l)e.each(l,function(e){e.invokeSubscriber(n.data,n)});else{l=this.cache[s]=[];var c=o(t,a,l,s,function(e){e.invokeSubscriber(n.data,n)});e.each(this.subscriptions[r],function(n){e.each(n,c)})}0===--y&&i()},reset:function(){this.unsubscribeFor(),this.configuration.resolver.reset(),this.subscriptions={}},subscribe:function(n){var t,r=this.subscriptions,i=new p(n.channel||this.configuration.DEFAULT_CHANNEL,n.topic,n.callback),a=r[i.channel],s=i.channel.length,l=this.configuration;return a||(a=r[i.channel]={}),t=r[i.channel][i.topic],t||(t=r[i.channel][i.topic]=[]),t.push(i),e.each(this.cache,function(e,n){n.substr(0,s)===i.channel&&o(l,n.split(l.cacheKeyDelimiter)[1],e,n)(i)
}),this.configuration.enableSystemMessages&&this.publish(x(i)),i},unsubscribe:function(){for(var n,t,r,i,o=arguments.length,s=0;o>s;s++){if(n=arguments[s],n.inactive=!0,y)return void M.push(n);if(t=this.subscriptions[n.channel],r=t&&t[n.topic]){var l=r.length;for(i=0;l>i;){if(r[i]===n){r.splice(i,1);break}i+=1}if(n.cacheKeys&&n.cacheKeys.length)for(var c;c=n.cacheKeys.pop();)e.each(this.cache[c],a(n,c,this.cache));0===r.length&&(delete t[n.topic],e.isEmpty(t)&&delete this.subscriptions[n.channel])}this.configuration.enableSystemMessages&&this.publish(k(n))}},unsubscribeFor:function(e){var n=[];this.subscriptions&&(n=this.getSubscribersFor(e),this.unsubscribe.apply(this,n))}},c.subscriptions[c.configuration.SYSTEM_CHANNEL]={},n&&Object.prototype.hasOwnProperty.call(n,"__postalReady__")&&e.isArray(n.__postalReady__))for(;n.__postalReady__.length;)n.__postalReady__.shift().onReady(c);return c}),function(e,n){"function"==typeof define&&define.amd?define("footwork",["lodash","knockout","postal"],n):"object"==typeof exports?module.exports=n(require("lodash"),require("knockout"),require("postal")):e.fw=n(e._,e.ko,e.postal)}(this,function(e,n,t){var r=window;return window.require="undefined"!=typeof require?require:void 0,window.define="undefined"!=typeof define?define:void 0,function(){var i={},a=void 0,o=void 0;Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=Array.prototype.slice.call(arguments,1),t=this,r=function(){},i=function(){return t.apply(this instanceof r&&e?this:e,n.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),e.extend(i,{_:e,ko:n,postal:t}),function(){!function(e,n){"object"==typeof o&&o.exports?o.exports=n(require("lodash")):"function"==typeof a&&a.amd?a(["lodash"],function(t){return n(t,e)}):e.riveter=n(e._,e)}(this,function(e){var n=Array.prototype.slice,t=function(){for(var e=n.call(arguments,0);e.length;)t.rivet(e.shift())};return t.rivet=function(e){e.hasOwnProperty("extend")||(e.extend=function(n,r){return t.extend(e,n,r)}),e.hasOwnProperty("compose")||(e.compose=function(){return t.compose.apply(this,[e].concat(n.call(arguments,0)))}),e.hasOwnProperty("inherits")||(e.inherits=function(n,r){t.inherits(e,n,r)}),e.hasOwnProperty("mixin")||(e.mixin=function(){t.mixin.apply(this,[e].concat(n.call(arguments,0)))})},t.inherits=function(n,r,i){var a,o=function(){},s=function(){r.apply(this,arguments)};return"object"==typeof n?(n.hasOwnProperty("constructor")&&(s=n.constructor),a=n):(s=n,a=n.prototype),t.rivet(s),e.defaults(s,r,i),o.prototype=r.prototype,s.prototype=new o,e.extend(s.prototype,a,{constructor:s}),s.__super=r,s.__super__=r.prototype,s},t.extend=function(e,n,r){return t.inherits(n,e,r)},t.compose=function(){var r=n.call(arguments,0),i=r.shift();t.rivet(i);var a=e.reduce(r,function(e,n){return n.hasOwnProperty("_preInit")&&e.preInit.push(n._preInit),n.hasOwnProperty("_postInit")&&e.postInit.push(n._postInit),n=n.mixin||n,e.items.push(n),e},{items:[],preInit:[],postInit:[]}),o=i.extend({constructor:function(){var t=n.call(arguments,0);e.each(a.preInit,function(e){e.apply(this,t)},this),i.prototype.constructor.apply(this,t),e.each(a.postInit,function(e){e.apply(this,t)},this)}});return t.rivet(o),e.defaults(o.prototype,e.extend.apply(null,[{}].concat(a.items))),o},t.mixin=function(){var r=n.call(arguments,0),i=r.shift();t.rivet(i),e.defaults(i.prototype,e.extend.apply(null,[{}].concat(r)))},t})}.call(i),"undefined"==typeof i.postal.preserve&&function(){!function(e,n){"object"==typeof o&&o.exports?o.exports=function(e){n(require("lodash"),e,this)}:"function"==typeof a&&a.amd?a(["lodash","postal"],function(t,r){return n(t,r,e)}):e.postal=n(e._,e.postal,e)}(this,function(e,n){function t(){for(var n=new Date,t=e.filter(r.expiring,function(e){return e.expires<n});t.length;)t.pop().purge()}{var r=n.preserve={store:{},expiring:[]},i=(n.channel(n.configuration.SYSTEM_CHANNEL),function(e,n){return n.expires-e.expires});n.addWireTap(function(n,t){var a=t.channel,o=t.topic;t.headers&&t.headers.preserve&&(r.store[a]=r.store[a]||{},r.store[a][o]=r.store[a][o]||[],r.store[a][o].push(t),t.headers.expires&&(r.expiring.push({expires:t.headers.expires,purge:function(){r.store[a][o]=e.without(r.store[a][o],t),r.expiring=e.without(r.expiring,this)}}),r.expiring.sort(i)))})}return n.SubscriptionDefinition.prototype.enlistPreserved=function(){var i=this.channel,a=this.topic,o=this;return t(!0),r.store[i]&&e.each(r.store[i],function(t,r){n.configuration.resolver.compare(a,r)&&e.each(t,function(e){o.callback.call(o.context||o.callback.context&&o.callback.context()||this,e.data,e)})}),this},n})}.call(i);var s=["riveter"];return function(e,n,t,r,i,a){function o(e){return $.test(e)}function s(e){return q.test(e)}function l(e,n){return e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))}function c(e,n){l(e,n)||(e.className+=(e.className.length?" ":"")+n)}function u(e,n){if(l(e,n)){var t=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(t," ")}}function d(e){for(var n=d.options,t=n.parser[n.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[n.key[i]]=t[i]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(e,t,i){t&&(r[n.q.name][t]=i)}),r}function p(e,n){return Q(bn[e])?bn[e]=0:bn[e]++,e+(n===!0?bn[e]:"")}function h(e,n,t){var r={topic:e,data:n};return Q(t)||(r.headers={preserve:!0},t instanceof Date&&(r.expires=t)),r}function f(e,n,t){return this.publish(h("event."+e,n,t)),this}function m(e,n,t){Q(t)||(n=n.bind(t));var r=this.subscribeToTopic("event."+e,n).enlistPreserved();return this.eventHandlers.push(r),r}function v(e){return e.unsubscribe(),this}function g(e,n,t){return this.publish(h("command."+e,n,t)),this}function b(e,n,t){Q(t)||(n=n.bind(t));var r=this.subscribeToTopic("command."+e,n).enlistPreserved();return this.commandHandlers.push(r),r}function w(e,n,t){var r,i=void 0;return r=this.subscribeToTopic("request."+e+".response",function(e){Q(i)?i=t?[e]:e:t&&i.push(e)}),this.publish(h("request."+e,n)),r.unsubscribe(),i}function y(e,n,t){Q(t)||(n=n.bind(t));var r=function(t){var r=n(t);this.publish(h("request."+e+".response",r))}.bind(this),i=this.subscribeToTopic("request."+e,r);return this.requestHandlers.push(i),i}function M(){var e=this;return en(["requestHandlers","commandHandlers","eventHandlers","subscriptions"],function(n){tn(e[n],"unsubscribe")}),this}function x(){return this.channel}function k(e){(Mn(e)||P(e)||C(e)||N(e)||V(e))&&U(e.dispose)&&e.dispose()}function N(e){return z(e)&&!!e.__isReceivable}function C(e){return z(e)&&!!e.__isBroadcastable}function S(e){return Z({id:ln("route")},qn,e)}function T(e){return e=e.replace(_n,"\\$&").replace(En,"(?:$1)?").replace(An,function(e,n){return n?e:"([^/]+)"}).replace(Ln,"(.*?)"),new RegExp("^"+e+("/"!==e?"(\\/.*)*$":"$"),Dn?void 0:"i")}function R(){var e=on(History,"Adapter");return e&&Q(History.Adapter.unbind)&&(History.Adapter.unbind=function(e){en(History.Adapter.handlers,function(n){n.statechange=nn(n.statechange,function(n){return n!==e})})}),e}function j(e){return z(e)&&!!e.__isNullRouter}function P(e){return z(e)&&!!e.__isRouter}function E(e){return z(e)&&!!e.__isRoute}function A(e){var n=In;return z(e)&&(z(e.$data)&&P(e.$data.$router)?n=e.$data.$router:(z(e.$parentContext)||z(e.$data)&&z(e.$data.$parentContext))&&(n=A(e.$parentContext||e.$data.$parentContext))),n}function L(e){return U(e)&&!!e.__isViewModelCtor}function _(e){return z(e)&&!!e.__isViewModel}function H(e,n){if(_(e)){var t=e.__getConfigParams();n=n||document.body,e.$element=n,e.$context=elementContext=F.contextFor(n),U(t.afterBinding)&&t.afterBinding.call(e,n),P(e.$router)&&e.$router.context(elementContext),Q(n)||F.utils.domNodeDisposal.addDisposeCallback(n,function(){e.dispose()})}}function O(e,n,t){var r;r=U(t)?new t(hn.params):t,r.$parentContext=F.contextFor(e.parentElement||e.parentNode),en(e.children,function(e){Gn(r,e)}),H(r,e),P(r.$router)&&r.$router.context(F.contextFor(e))}function D(e){return-1!==pn(it,e)}function I(e,n){if(_(n)){var t=n.__getConfigParams();U(t.afterBinding)&&t.afterBinding.call(n,e)}}var F=r;F.footworkVersion="0.8.0pre",F.embed=e;var $=/\/$/i,q=/^\//i,B=function(){},V=F.isObservable,U=t.isFunction,z=t.isObject,W=t.isString,J=t.isBoolean,K=t.isNumber,Q=t.isUndefined,G=t.isArray,Y=t.isNull,X=t.contains,Z=t.extend,en=(t.pick,t.each),nn=t.filter,tn=(t.bind,t.invoke),rn=t.clone,an=t.reduce,on=t.has,sn=(t.where,t.result),ln=t.uniqueId,cn=t.map,un=t.find,dn=t.omit,pn=t.indexOf,hn=t.values,fn=t.reject,mn=t.findWhere,vn=(t.once,t.last),gn=[];d.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var bn={},wn=[],yn=F.namespace=function(e,n){Q(n)||(W(n)?e=n+"."+e:Q(n.channel)||(e=n.channel+"."+e));var t=i.channel(e),r=t.subscriptions=[],a=t.subscribeToTopic=t.subscribe;return t.subscribe=function(e,n){var i=a.call(t,e,n);return r.push(i),i},t.unsubscribe=v,t.__isNamespace=!0,t.dispose=M.bind(t),t.commandHandlers=[],t.command=g.bind(t),t.command.handler=b.bind(t),t.command.unregister=v,t.requestHandlers=[],t.request=w.bind(t),t.request.handler=y.bind(t),t.request.unregister=v,t.eventHandlers=[],t.event=t.trigger=f.bind(t),t.event.handler=m.bind(t),t.event.unregister=v,t.getName=x.bind(t),t.enter=function(){return Cn(this)},t.exit=function(){return xn()===this.getName()?Sn():void 0},t},Mn=F.isNamespace=function(e){return!Q(e)&&!!e.__isNamespace},xn=F.currentNamespaceName=function(){return wn[0]},kn=F.currentNamespace=function(){return yn(xn())},Nn=F.enterNamespaceName=function(e){kn();return wn.unshift(e),yn(xn())},Cn=F.enterNamespace=function(e){return wn.unshift(e.getName()),e},Sn=F.exitNamespace=function(){return wn.shift(),kn()};gn.push({runBeforeInit:!0,_preInit:function(){var e=this.__getConfigParams();this.$namespace=Nn(p(e.namespace||e.name||t.uniqueId("namespace"),e.autoIncrement)),this.$globalNamespace=yn()},mixin:{getNamespaceName:function(){return this.$namespace.getName()}},_postInit:function(){Sn()}});var Tn=yn();F.start=function(e){e=e||n.document.body,Gn({},e)},F.subscribable.fn.receiveFrom=function(e,n){var t=this,r=this,i=[],a=!1;if(W(e)&&(e=yn(e),a=!0),!Mn(e))throw"Invalid namespace provided for receiveFrom() observable.";r=F.computed({read:t,write:function(t){e.publish("__change."+n,t)}}),r.refresh=function(){return e.publish("__refresh."+n),this},i.push(e.subscribe(n,function(e){t(e)}));var o=r.dispose;return r.dispose=r.dispose=function(){tn(i,"unsubscribe"),a&&e.dispose(),o.call(r)},r.__isReceivable=!0,r.refresh()},F.subscribable.fn.broadcastAs=function(e,n){var t,r=this,i=[],a=[],o=!1;if(n=z(e)?e:J(n)?{name:e,writable:n}:z(n)?Z({name:e},n):{name:e},t=n.namespace||kn(),W(t)&&(t=yn(t),o=!0),!Mn(t))throw"Invalid namespace provided for broadcastAs() observable.";return n.writable&&a.push(t.subscribe("__change."+n.name,function(e){r(e)})),r.broadcast=function(){return t.publish(n.name,r()),this},a.push(t.subscribe("__refresh."+n.name,function(){t.publish(n.name,r())})),i.push(r.subscribe(function(e){t.publish(n.name,e)})),r.dispose=r.dispose=function(){tn(a,"unsubscribe"),tn(i,"dispose"),o&&t.dispose()},r.__isBroadcastable=!0,r.broadcast()};var Rn=function(){return!0},jn=function(){return""},Pn={namespace:"$router",baseRoute:null,isRelative:!0,activate:!0,routes:[]},En=/\((.*?)\)/g,An=/(\(\?)?:\w+/g,Ln=/\*\w*/g,_n=/[\-{}\[\]+?.,\\\^$|#\s]/g,Hn=/(^\/#)/,On=/(^[a-z]+:\/\/|^\/\/)/i,Dn=!0,In=Z({},Fn,{childRouters:Z(B.bind(),{push:B}),path:function(){return""},isRelative:function(){return!1},__isNullRouter:!0}),Fn={path:jn,segment:jn,childRouters:F.observableArray(),context:B,__isRouter:!0},$n={controller:B,indexedParams:[],namedParams:{},__isRoute:!0},qn={filter:Rn,__isRouteDesc:!0},Bn="_noComponentSelected",Vn=function(e,n,t){t=t||{},U(t)&&(t={onComplete:t});var r=t.params,i=t.onComplete,a=this.outlets;e=F.unwrap(e),V(a[e])||(a[e]=F.observable({name:Bn,params:{},__getOnCompleteCallback:function(){return B}}));var o=a[e],s=o(),l=!1,c=o().name===Bn;if(Q(n)||(s.name=n,l=!0),Q(r)||(s.params=r,l=!0),l){if(U(i)){var u=c?0:1;s.__getOnCompleteCallback=function(){var e=0===u;return u--,e?i:B}}else s.__getOnCompleteCallback=function(){return B};o.valueHasMutated()}return o};F.outlets={registerView:function(e,n){Zn(e,{template:n})},registerViewLocation:function(e,n){ft(e,{template:n}),nt(e)}};var Un=F.isFullURL=function(e){return W(e)&&On.test(e)},zn=F.routers={baseRoute:F.observable(""),activeRouteClassName:F.observable("active"),disableHistory:F.observable(!1).broadcastAs({name:"disableHistory",namespace:Tn}),getNearestParent:function(e){var n=A(e);return j(n)?null:n},getAll:function(e){return Q(e)||G(e)||(e=[e]),an(Tn.request("__router_reference",void 0,!0),function(n,t){var r=Mn(t.$namespace)?t.$namespace.getName():null;return Q(t.$viewModel)||(r=t.$viewModel.$namespace.getName()),Y(r)||(Q(e)||X(e,r))&&(Q(n[r])?n[r]=t:(G(n[r])||(n[r]=[n[r]]),n[r].push(t))),n},{})}};F.router=function(e,n,t){return new Wn(e,n,t)},F.bindingHandlers.$route={init:function(e,n,t,i,a){function o(n){var t=g.url(),r=t||e.getAttribute("href")||"";return Y(t)?null:(Q(t)&&(t=r),Un(r)||(s(r)||(r="/"+r),n&&!j(h)&&(r=h.parentRouter().path()+r)),r)}function d(n,t){var r=zn.activeRouteClassName();"/"===n&&(n=""),!Y(t)&&t.segment===n&&W(r)&&r.length?c(e,r):l(e,r)&&u(e,r)}function p(){var n=y();"a"===e.tagName.toLowerCase()&&(e.href=w()),z(v)&&v.dispose(),v=h.currentRoute.subscribe(d.bind(null,n)),m===!1&&(m=!0,d(n,h.currentRoute()),F.utils.registerEventHandler(e,g.on,function(e){var n=y(),t=g.handler.call(i,e,n);t&&(W(t)&&(n=t),W(n)&&!Un(n)&&h.setState(n))}))}var h=A(a),f=n(),m=!1,v=null,g={on:"click",url:function(){return null},handler:function(e,n){return Un(n)||2===e.which?!1:(e.preventDefault(),!0)}};if(V(f)||U(f)||W(f))g.url=f;else if(z(f))Z(g,f);else{if(f)throw"Unknown type of url value provided to $route ["+typeof f+"]";g.url=e.getAttribute("href")}var b=g.url;U(b)||(g.url=function(){return b});var w=o.bind(null,!0),y=o.bind(null,!1);V(g.url)&&h.subscriptions.push(g.url.subscribe(p)),p(),r.utils.domNodeDisposal.addDisposeCallback(e,function(){z(v)&&v.dispose()})}};var Wn=function(e,n,t){Z(this,Fn);var r,i=this.subscriptions=[];_(n)&&(r=n.getNamespaceName());var a=this.$globalNamespace=yn();this.id=ln("router"),this.$namespace=yn(e.namespace||r+"Router"),this.$namespace.enter(),this.$namespace.command.handler("setState",this.setState,this),this.$namespace.request.handler("currentRoute",function(){return this.currentRoute()},this),this.$namespace.request.handler("urlParts",function(){return this.urlParts()},this),this.$viewModel=n,this.urlParts=F.observable(),this.childRouters=F.observableArray(),this.parentRouter=F.observable(In),this.context=F.observable(),this.historyIsEnabled=F.observable(!1),this.disableHistory=F.observable().receiveFrom(a,"disableHistory"),this.currentState=F.observable("").broadcastAs("currentState"),this.config=e=Z({},Pn,e),this.config.baseRoute=F.routers.baseRoute()+(sn(e,"baseRoute")||""),this.isRelative=F.computed(function(){return e.isRelative&&!j(this.parentRouter())},this),this.currentRoute=F.computed(function(){return this.getRouteForURL(this.normalizeURL(this.currentState()))},this),this.path=F.computed(function(){var e=this.currentRoute(),n=(this.parentRouter(),this.parentRouter().path());return E(e)&&(n+=e.segment),n},this);var o=In;i.push(this.parentRouter.subscribe(function(e){j(o)||o===e||o.childRouters.remove(this),e.childRouters.push(this),o=e},this)),i.push(this.currentRoute.subscribe(function(e){this.getActionForRoute(e)()},this));var s=this;this.$globalNamespace.request.handler("__router_reference",function(){return s}),this.outlets={},this.$outlet=Vn.bind(this),this.$outlet.reset=function(){en(this.outlets,function(e){e({name:Bn,params:{}})})}.bind(this),Q(e.unknownRoute)||(U(e.unknownRoute)&&(e.unknownRoute={controller:e.unknownRoute}),e.routes.push(Z(e.unknownRoute,{unknown:!0}))),this.setRoutes(e.routes),e.activate===!0&&i.push(this.context.subscribe(function(e){z(e)&&this.activate(e)},this)),this.context(n.$context||t),this.$namespace.exit()};Wn.prototype.setRoutes=function(e){return this.routeDescriptions=[],this.addRoutes(e),this},Wn.prototype.addRoutes=function(e){return this.routeDescriptions=this.routeDescriptions.concat(cn(G(e)?e:[e],S)),this},Wn.prototype.activate=function(e,n){return this.startup(e,n),""===this.currentState()&&this.setState(),this};Wn.prototype.setState=function(e){if(this.historyIsEnabled()&&!this.disableHistory())if(W(e)){var n=!0;try{n=History.pushState(null,"",this.parentRouter().path()+e)}catch(t){n=!1}finally{if(n)return}}else this.currentState(this.normalizeURL(History.getState().url));else W(e)&&this.currentState(this.normalizeURL(e))},Wn.prototype.startup=function(e,t){return t=t||In,j(t)?z(e)&&(t=A(e),t.id!==this.id&&this.parentRouter(t)):this.parentRouter(t),this.historyIsEnabled()||(R()&&!this.disableHistory()?(History.Adapter.bind(n,"popstate",this.stateChangeHandler=function(){this.currentState(this.normalizeURL(n.location.pathname+n.location.hash))}.bind(this)),this.historyIsEnabled(!0)):this.historyIsEnabled(!1)),this},Wn.prototype.dispose=function(){var e=this.parentRouter();j(e)||e.childRouters.remove(this),this.historyIsEnabled()&&R()&&History.Adapter.unbind(this.stateChangeHandler),this.$namespace.dispose(),this.$globalNamespace.dispose(),tn(this.subscriptions,"dispose"),en(dn(this,function(e){return _(e)}),k)},Wn.prototype.normalizeURL=function(e){var n=d(e);return this.urlParts(n),e=n.path,Y(this.config.baseRoute)||0!==e.indexOf(this.config.baseRoute)||(e=e.substr(this.config.baseRoute.length),e.length>1&&(e=e.replace(Hn,"/"))),e},Wn.prototype.getUnknownRoute=function(){var e=mn((this.getRouteDescriptions()||[]).reverse(),{unknown:!0})||null;return Y(e)||(e=Z({},$n,{id:e.id,controller:e.controller,title:e.title,segment:""})),e},Wn.prototype.getRouteForURL=function(e){var n=null,t=this.parentRouter().path()||"",r=this.getUnknownRoute(),i=this;this.isRelative()&&t.length>0&&0===(routeIndex=e.indexOf(t+"/"))&&(e=e.substr(t.length));var a=[];if(un(this.getRouteDescriptions(),function(t){var r=t.route,o=[];return W(r)&&(o=e.match(T(r)),!Y(o)&&t.filter.call(i,o,i.urlParts())&&a.push({routeString:r,specificity:r.replace(An,"*").length,routeDescription:t,routeParams:o})),n}),a.length){var o=an(a,function(e,n){return(Y(e)||n.specificity>e.specificity)&&(e=n),e},null),s=o.routeDescription,l=o.routeString,c=rn(o.routeParams),u=c.pop()||"",d=cn(l.match(An),function(e){return e.replace(":","")}),p=an(d,function(e,n,t){return e[n]=c[t+1],e},{});n=Z({},$n,{id:s.id,controller:s.controller,title:s.title,url:e,segment:e.substr(0,e.length-u.length),indexedParams:c,namedParams:p})}return n||r},Wn.prototype.getActionForRoute=function(e){var n=function(){delete this.__currentRouteDescription,this.$outlet.reset()}.bind(this);return E(e)&&(n=function(){Q(e.title)||(document.title=U(e.title)?e.title.call(this,e.namedParams,this.urlParts()):e.title),(Q(this.__currentRouteDescription)||this.__currentRouteDescription.id!==e.id)&&(e.controller.call(this,e.namedParams),this.__currentRouteDescription=e)}.bind(this)),n},Wn.prototype.getRouteDescriptions=function(){return this.routeDescriptions};var Jn={includeOutlets:!1};F.viewModels={};var Kn=(F.viewModels.getAll=function(e,n){return n=n||{},(W(e)||G(e))&&(n.namespaceName=e),an(Tn.request("__model_reference",Z({},Jn,n),!0),function(e,n){if(!Q(n)){var t=Mn(n.$namespace)?n.$namespace.getName():null;Y(t)||(Q(e[t])?e[t]=n:(G(e[t])||(e[t]=[e[t]]),e[t].push(n)))}return e},{})},{namespace:void 0,name:void 0,autoRegister:!1,autoIncrement:!1,mixins:void 0,params:void 0,initialize:B,afterInit:B,afterBinding:B,onDispose:B}),Qn=F.viewModel=function(e){e=e||{};var n=B,t=B,r=e.parent;Q(e)||(n=e.viewModel||e.initialize||B,t=e.afterInit||B),t={_postInit:t},e=Z({},Kn,e);var i={_preInit:function(){z(e.router)&&(this.$router=new Wn(e.router,this))},mixin:{__isViewModel:!0,$params:sn(e,"params"),__getConfigParams:function(){return e},dispose:function(){this._isDisposed||(this._isDisposed=!0,e.onDispose!==B&&e.onDispose.call(this),en(this,k))}},_postInit:function(){this.__assertPresence!==!1&&this.$globalNamespace.request.handler("__model_reference",function(e){if(!this.__isOutlet||z(e)&&e.includeOutlets){if(!W(e.namespaceName)&&!G(e.namespaceName))return this;if(G(e.namespaceName)&&-1!==pn(e.namespaceName,this.getNamespaceName()))return this;if(W(e.namespaceName)&&e.namespaceName===this.getNamespaceName())return this}}.bind(this))}};if(L(n))c=n;else{var o=[n],s=fn(gn,l),l=nn(gn,l);l.length&&(o=o.concat(l)),o=o.concat(i),s.length&&(o=o.concat(s)),o=o.concat(t),Q(e.mixins)||(o=o.concat(e.mixins)),en(o,function(e){Q(e.runBeforeInit)||delete e.runBeforeInit});var c=a.compose.apply(void 0,o);c.__isViewModelCtor=!0,c.__configParams=e}if(Q(r)||c.inherits(r),e.autoRegister){var u=e.namespace||e.name;if(Nt(u)){if(Ct(u)!==c)throw"namespace ["+u+"] already registered using a different viewModel, autoRegister failed."}else kt(u,c)}return c},Gn=F.applyBindings,Yn=(F.applyBindings=function(e,n){Gn(e,n),H(e,n)},F.bindingHandlers.component.init);F.bindingHandlers.component.init=function(e,n,t,r,i){var a=n;if(W(e.tagName)){var s=e.tagName.toLowerCase();if("viewmodel"===s){var l=n(),c=(Q(l.params)?void 0:F.unwrap(l.params.name))||e.getAttribute("module")||e.getAttribute("data-module"),u=O.bind(null,e,l.params);if(!Q(c)){var d=null;if(d=Nt(c)?Ct(c):U(require)&&U(require.defined)&&require.defined(c)?c:Tt(c),W(d)){if(!U(require))throw"Uses require, but no AMD loader is present";o(d)&&(d+=bt(c)),require([d],u)}else U(d)?u(d):z(d)&&(z(d.instance)?u(d.instance):U(d.createViewModel)&&u(d.createViewModel(l.params,{element:e})))}return{controlsDescendantBindings:!0}}if("outlet"===s){var p=e.getAttribute("name")||e.getAttribute("data-name");p&&(a=function(){var e=n();return!Q(e.params)&&Q(e.params.name)&&(e.params.name=p),e})}}return Yn(e,a,t,r,i)};var Xn=F.components.register,Zn=F.components.register=function(e,n){var t=n.initialize||n.viewModel;if(!W(e))throw"Components must be provided a componentName.";U(t)&&!L(t)&&(n.namespace=e,t=Qn(n)),Xn(e,{viewModel:t||F.viewModel(),template:n.template})};F.components.getNormalTagList=function(){return tt.splice(0)},F.components.getComponentNameForNode=function(e){var n=W(e.tagName)&&e.tagName.toLowerCase();return F.components.isRegistered(n)||rt(n)?n:null};var et=(F.component=function(e){var n=e.viewModel;return U(n)&&!L(n)&&(e.viewModel=Qn(dn(e,"template"))),e},[]),nt=F.components.isTemplateOnly=function(e,n){return n=Q(n)?!0:n,G(e)&&en(e,function(e){nt(e,n)}),et[e]=n,G(e)?void 0:et[e]||"normal"},tt=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","footer","form","frameset","g","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","polygon","path","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","xmp","rect","image","lineargradient","stop","line"],rt=F.components.tagIsComponent=function(e,n){return Q(n)?-1===pn(tt,e):(G(e)&&en(e,function(e){rt(e,n)}),void(n!==!0?X(tt,e)===!1&&tt.push(e):tt=nn(tt,function(n){return n!==e})))},it=["outlet"];F.virtualElements.allowedBindings.$life=!0,F.bindingHandlers.$life={init:function(e,n,t,r){F.utils.domNodeDisposal.addDisposeCallback(e,function(){_(r)&&r.dispose()})},update:function(e,n,t,r,i){var a=i.$parent;z(a)&&a.__isOutlet&&a.$route().__getOnCompleteCallback()(e.parentElement||e.parentNode),I(e.parentElement||e.parentNode,i.$data)}};var at="<!-- ko $life -->COMPONENT_MARKUP<!-- /ko -->";F.components.loaders.unshift(F.components.componentWrapper={loadTemplate:function(e,n,t){if(D(e))t(null);else{if(!W(n))throw"Unhandled config type "+typeof n+".";n=at.replace(/COMPONENT_MARKUP/,n),F.components.defaultLoader.loadTemplate(e,n,t)}},loadViewModel:function(e,n,t){var r=n.viewModel||n;t(D(e)?null:function(e,n){var t=n.element,i=8===t.nodeType?t.parentElement||t.parentNode:t,a=F.contextFor(i),o=r;return U(r)?(L(r)||(r=Qn({initialize:r})),new(o=r.compose({_preInit:function(){this.$context=a,this.$element=i}}))(e)):o})}}),F.components.loaders.push(F.components.requireLoader={getConfig:function(e,n){var t,r,i,a=ut(e,"combined"),s=ut(e,"viewModel"),l=ut(e,"template"),c=mt(e),u=null;if(U(require))if(require.defined(e))u={require:e};else if(W(c.combined))i=c.combined,o(i)&&(i+=a),u={require:i};else{t=c.viewModels,r="text!"+c.templates,o(t)&&(t+=s),o(r)&&(r+=l);var d={require:t};et[e]&&(d={instance:{}}),u={viewModel:d,template:{require:r}}}n(u)}});var ot={getNamespaceName:function(){return"NO-VIEWMODEL-IN-CONTEXT"}};F.virtualElements.allowedBindings.$bind=!0,F.bindingHandlers.$bind={init:function(e,n,t,r,i){var a=z(i)?i.$parent||ot:ot,o=A(i),s=r.outletName;if(!P(o))throw"Outlet ["+s+"] defined inside of viewModel ["+a.getNamespaceName()+"] but no router was defined.";r.$route=o.$outlet(s)}},Zn("outlet",{autoIncrement:!0,viewModel:function(e){this.outletName=F.unwrap(e.name),this.__isOutlet=!0},template:"<!-- ko $bind, component: $route --><!-- /ko -->"}),Zn("_noComponentSelected",{viewModel:function(){this.__assertPresence=!1},template:'<div class="no-component-selected"></div>'}),Zn("error",{viewModel:function(e){this.message=F.observable(e.message),this.errors=e.errors,this.__assertPresence=!1},template:'    <div class="component error" data-bind="foreach: errors">      <div class="error">        <span class="number" data-bind="text: $index() + 1"></span>        <span class="message" data-bind="text: $data"></span>      </div>    </div>'});var st={combined:".js",viewModel:".js",template:".html"},lt=F.components.fileExtensions=F.observable(rn(st)),ct=F.components.isRegistered,ut=F.components.getFileName=function(e,n){var t=lt(),r=e;if(ct(e))return null;switch(U(t)?r+=t(e)[n]:z(t)&&(r+=U(t[n])?t[n](e):t[n]||""),n){case"viewModel":n="viewModels";break;case"template":n="templates"}if(!Q(pt[e])){var i=pt[e];if(!Q(i[n])&&!o(i[n])){if(!W(i[n]))return null;r=vn(i[n].split("/"))}}return r},dt={combined:null,viewModels:"/viewModel/",templates:"/component/"},pt=F.components.resourceLocations={},ht=F.components.defaultLocation=function(e,n){var t=Q(n)||n===!0?dt:rn(dt);return z(e)?Z(t,an(e,function(e,n,t){return"viewModel"===t?(e.viewModels=n,delete e.viewModel):"template"===t?(e.templates=n,delete e.template):e[t]=n,e},{})):W(e)&&(t={combined:rootURL,viewModels:null,templates:null}),t},ft=F.components.registerLocation=function(e,n){G(e)&&en(e,function(e){ft(e,n)}),pt[e]=ht(n,!1)},mt=F.components.getResourceLocation=function(e){return Q(e)?pt:pt[e]||dt},vt=".js",gt=F.viewModels.fileExtensions=F.observable(vt),bt=F.viewModels.getFileName=function(e){var n=gt(),t=e;if(U(n)?t+=n(e):W(n)&&(t+=n),!Q(yt[e])){var r=yt[e];W(r)&&!o(r)&&(t=vn(r.split("/")))}return t},wt="/viewModel/",yt=F.viewModels.resourceLocations={},Mt=F.viewModels.defaultLocation=function(e,n){var t=wt;return W(e)&&(t=e),n&&(wt=t),t},xt={},kt=F.viewModels.register=function(e,n){xt[e]=n},Nt=F.viewModels.isRegistered=function(e){return!Q(xt[e])},Ct=F.viewModels.getRegistered=function(e){return xt[e]},St=F.viewModels.registerLocation=function(e,n){G(e)&&en(e,function(e){St(e,n)}),yt[e]=Mt(n,!1)},Tt=F.viewModels.getResourceLocation=function(e){return Q(e)?yt:yt[e]||mt(e).viewModels||wt};return F.extenders.debounce=function(e,n){K(n)&&(n={timeout:n,when:function(){return!0}}),e.throttleEvaluation=n.timeout;var t=null,r=F.computed({read:e,write:function(r){n.when(r)?(clearTimeout(t),t=setTimeout(function(){e(r)},n.timeout)):(clearTimeout(t),e(r))}});r.force=function(n){clearTimeout(t),e(n)};var i=r.dispose;return U(e.dispose)&&(r.dispose=function(){e.dispose(),i.call(r)}),r},F.extenders.autoDisable=function(e,n){return e.extend({delayTrigger:{delay:n||0,trigger:function(e){e(!1)}}})},F.extenders.autoEnable=function(e,n){return e.extend({delayTrigger:{delay:n||0,trigger:function(e){e(!0)}}})},F.extenders.delayTrigger=function(e,n){var t,r=300,i=B;z(n)?(r=!isNaN(n.delay)&&parseInt(n.delay,10)||r,i=n.trigger||i):r=!isNaN(n)&&parseInt(n,10)||r;var a=function(){clearTimeout(t),t=void 0},o=F.computed({read:e,write:function(r){e(r),Q(t)||a(),t=setTimeout(function(){i(e,n)}.bind(e),o.triggerDelay)}});o.clearTrigger=a,o.triggerDelay=r;var s=o.dispose;return U(e.dispose)&&(o.dispose=function(){e.dispose(),s.call(o)}),o},F.extenders.delayWrite=function(e,n){var t,r=300;z(n)?(r=!isNaN(n.delay)&&parseInt(n.delay,10)||r,t=n.filter||function(){return!0}):r=!isNaN(n)&&parseInt(n,10)||r;var i=F.computed({read:e,write:function(n){t(n)?(e._delayWriteTimer&&clearTimeout(this._delayWriteTimer),e._delayWriteTimer=setTimeout(function(){e(n)},r)):e(n)}}),a=i.dispose;return U(e.dispose)&&(i.dispose=function(){e.dispose(),a.call(i)}),i},r}(i._.pick(i,s),r,i._,i.ko,i.postal,i.riveter)}()}),function(){function e(e,n){return function(e,t){function r(e,t){return null===e?"null"===t:e===n?"undefined"===t:e.is&&e instanceof c?"element"===t:Object.prototype.toString.call(e).toLowerCase().indexOf(t)>7}function i(e){var n,t,a,o,s,l,c,u,h;if(e instanceof i)return e;for(r(e,"array")||(e=String(e).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g)),n=0,t=e.length;t>n;++n){for(r(e[n],"array")||(e[n]=String(e[n]).match(/(?:\+\/|[^\/])+/g)),l=[],a=e[n].length;a--;){for(c=e[n][a],s={jwertyCombo:String(c),shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1},r(c,"array")||(c=String(c).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g)),o=c.length;o--;)"++"===c[o]&&(c[o]="+"),c[o]in p.mods?s[d[p.mods[c[o]]]]=!0:c[o]in p.keys?s.keyCode=p.keys[c[o]]:u=c[o].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/);if(r(s.keyCode,"undefined"))if(u&&u[1]in p.keys&&u[2]in p.keys){for(u[2]=p.keys[u[2]],u[1]=p.keys[u[1]],h=u[1];h<u[2];++h)l.push({altKey:s.altKey,shiftKey:s.shiftKey,metaKey:s.metaKey,ctrlKey:s.ctrlKey,keyCode:h,jwertyCombo:String(c)});s.keyCode=h}else s.keyCode=0;l.push(s)}this[n]=l}return this.length=n,this}var a,o,s,l=e.document,c=e.jQuery||e.Zepto||e.ender||l,u="keydown";c===l?(a=function(e,n){return e?c.querySelector(e,n||c):c},o=function(e,n){e.addEventListener(u,n,!1)},s=function(e,n){var t,r=l.createEvent("Event");r.initEvent(u,!0,!0);for(t in n)r[t]=n[t];return(e||c).dispatchEvent(r)}):(a=function(e,n){return c(e||l,n)},o=function(e,n){c(e).bind(u+".jwerty",n)},s=function(e,n){c(e||l).trigger(c.Event(u,n))});for(var d={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},p={mods:{"":16,shift:16,"":17,ctrl:17,"":18,alt:18,option:18,"":91,meta:91,cmd:91,"super":91,win:91},keys:{"":8,backspace:8,"":9,"":9,tab:9,"":13,"return":13,enter:13,"":13,pause:19,"pause-break":19,"":20,caps:20,"caps-lock":20,"":27,escape:27,esc:27,space:32,"":33,pgup:33,"page-up":33,"":34,pgdown:34,"page-down":34,"":35,end:35,"":36,home:36,ins:45,insert:45,del:46,"delete":46,"":37,left:37,"arrow-left":37,"":38,up:38,"arrow-up":38,"":39,right:39,"arrow-right":39,"":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"num-.":110,"num-period":110,"num-dot":110,"num-full-stop":110,"num-delete":110,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostraphe:222}},h=47,f=0;++h<106;)p.keys[f]=h,p.keys["num-"+f]=h+48,++f;
for(h=111,f=1;++h<136;)p.keys["f"+f]=h,++f;for(h=64;++h<91;)p.keys[String.fromCharCode(h).toLowerCase()]=h;var m=t.jwerty={event:function(e,n,t){if(r(n,"boolean")){var a=n;n=function(){return a}}e=new i(e);var o,s,l=0,c=e.length-1;return function(r){return(s=m.is(e,r,l))?c>l?void++l:(o=n.call(t||this,r,s),o===!1&&r.preventDefault(),void(l=0)):void(l=m.is(e,r)?1:0)}},is:function(e,n,t){e=new i(e),t=t||0,e=e[t],n=n.originalEvent||n;for(var r=e.length,a=!1;r--;){a=e[r].jwertyCombo;for(var o in e[r])"jwertyCombo"!==o&&n[o]!=e[r][o]&&(a=!1);if(a!==!1)return a}return a},key:function(n,t,i,s,l){var c=r(i,"element")||r(i,"string")?i:s,u=c===i?e:i,d=c===i?s:l;o(r(c,"element")?c:a(c,d),m.event(n,t,u))},fire:function(e,n,t,o){e=new i(e);var l=r(t,"number")?t:o;s(r(n,"element")?n:a(n,t),e[l||0][0])},KEYS:p};return m}({jQuery:e,document:document},"undefined"!=typeof module&&module.exports?module.exports:this)}"function"==typeof define&&define.amd?define("jwerty",["jquery"],function(n){return e(n)}):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery||$)}.call(this),define("app/viewModel/Contributors",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"Contributors",initialize:function(){this.contributors=n.map(footworkBuild.contributors,function(e){return e.contribution=n.isArray(e.contribution)?e.contribution.join(", "):e.contribution,e})}})}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!app/template/contributors.html",[],function(){return'<div class="contributors">\r\n  <h2>Current contributors</h2>\r\n  <ul data-bind="foreach: contributors">\r\n    <li class="contributor">\r\n      <div class="name"><span data-bind="text: name"></span> (<em data-bind="text: contribution"></em>)</div>\r\n      <div class="email"><a data-bind="attr: { href: \'mailto:\' + email }, text: email"></a></div>\r\n      <div class="urls" data-bind="foreach: urls">\r\n        <div class="url"><a data-bind="attr: { href: url }, text: url" target="_blank"></a></div>\r\n      </div>\r\n    </li>\r\n  </ul>  \r\n</div>'}),define("text!app/template/showversion.html",[],function(){return'<span class="version" data-bind="text: version"></span>'}),define("app/viewModel/Releases",["jquery","lodash","footwork"],function(e,n,t){var r="http://",i="footworkjs.com",a="-docs."+i,o=RegExp("^[0-9]+"),s=!0;return t.observable(!1).receiveFrom("Configuration","initialized").subscribe(function(e){e&&(s=t.namespace().request("isRunningLocally"),s||(i=window.location.hostname.match("(.+)-docs.([0-9a-zA-Z-.]+)")[2],a="-docs."+i))}),t.viewModel({namespace:"Releases",initialize:function(){this.menuActive=t.observable(!1),this.thisRelease="v"+window.footworkBuild.version,this.headerContentHeight=t.observable().receiveFrom("Header","contentHeight"),this.releaseList=t.observableArray(["latest"]),this.myURL=t.observable(r+window.footworkBuild.version+a),this.releases=t.computed(function(){return n.reduce(this.releaseList(),function(e,n){return e.push({version:(o.test(n)?"v":"")+n,href:r+n+a,myRelease:n===window.footworkBuild.version}),e},[])},this),this.toggleMenu=function(n,t){this.menuActive(!this.menuActive()),t.stopPropagation();var r=e(t.currentTarget).parent();return r.hasClass("aside")||r.hasClass("drop-down")?void 0:!0},this.$globalNamespace.subscribe("clear",n.bind(function(){this.menuActive(!1)},this)),s||e.get("/release/listAll").done(function(e){this.releaseList(e)}.bind(this))}})}),define("text!app/template/releases.html",[],function(){return'<div class="releases">\r\n  <div class="aside menu-item" data-bind="css: { active: menuActive }">\r\n    <div class="title" data-bind="click: toggleMenu, style: { lineHeight: headerContentHeight }">\r\n      <a data-bind="attr: { href: myURL }"><span class="icon icon-chevron-down"></span> <span data-bind="text: thisRelease"></span></a>\r\n    </div>\r\n    <div class="drop-down">\r\n      <div class="title" data-bind="click: toggleMenu, style: { lineHeight: headerContentHeight }">\r\n        <a data-bind="attr: { href: myURL }"><span class="icon icon-chevron-up"></span> <span data-bind="text: thisRelease"></span></a>\r\n      </div>\r\n\r\n      <div class="content" data-bind="foreach: releases">\r\n        <a class="row" data-bind="css: { isMyRelease: myRelease }, attr: { href: href }">\r\n          <span class="item" data-bind="text: version"></span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),function(e){function n(){try{return o in e&&e[o]}catch(n){return!1}}function t(e){return e.replace(/^d/,"___$&").replace(p,"___")}var r,i={},a=e.document,o="localStorage",s="script";if(i.disabled=!1,i.version="1.3.17",i.set=function(){},i.get=function(){},i.has=function(e){return void 0!==i.get(e)},i.remove=function(){},i.clear=function(){},i.transact=function(e,n,t){null==t&&(t=n,n=null),null==n&&(n={});var r=i.get(e,n);t(r),i.set(e,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(n){return e||void 0}},n())r=e[o],i.set=function(e,n){return void 0===n?i.remove(e):(r.setItem(e,i.serialize(n)),n)},i.get=function(e,n){var t=i.deserialize(r.getItem(e));return void 0===t?n:t},i.remove=function(e){r.removeItem(e)},i.clear=function(){r.clear()},i.getAll=function(){var e={};return i.forEach(function(n,t){e[n]=t}),e},i.forEach=function(e){for(var n=0;n<r.length;n++){var t=r.key(n);e(t,i.get(t))}};else if(a.documentElement.addBehavior){var l,c;try{c=new ActiveXObject("htmlfile"),c.open(),c.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),c.close(),l=c.w.frames[0].document,r=l.createElement("div")}catch(u){r=a.createElement("div"),l=a.body}var d=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(r),l.appendChild(r),r.addBehavior("#default#userData"),r.load(o);var t=e.apply(i,n);return l.removeChild(r),t}},p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");i.set=d(function(e,n,r){return n=t(n),void 0===r?i.remove(n):(e.setAttribute(n,i.serialize(r)),e.save(o),r)}),i.get=d(function(e,n,r){n=t(n);var a=i.deserialize(e.getAttribute(n));return void 0===a?r:a}),i.remove=d(function(e,n){n=t(n),e.removeAttribute(n),e.save(o)}),i.clear=d(function(e){var n=e.XMLDocument.documentElement.attributes;e.load(o);for(var t,r=0;t=n[r];r++)e.removeAttribute(t.name);e.save(o)}),i.getAll=function(){var e={};return i.forEach(function(n,t){e[n]=t}),e},i.forEach=d(function(e,n){for(var t,r=e.XMLDocument.documentElement.attributes,a=0;t=r[a];++a)n(t.name,i.deserialize(e.getAttribute(t.name)))})}try{var h="__storejs__";i.set(h,h),i.get(h)!=h&&(i.disabled=!0),i.remove(h)}catch(u){i.disabled=!0}i.enabled=!i.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=i:"function"==typeof define&&define.amd?define("storage",i):e.store=i}(Function("return this")()),define("app/viewModel/config/Configuration",["jquery","lodash","footwork","storage"],function(e,n,t,r){return t.viewModel({namespace:"Configuration",initialize:function(){var i,a,o,s,l=35,c=t.observable({revision:6,header:{min:{height:l},max:{height:60},contentMaxHeight:80,limit:{height:320},borderWidth:5,autoHide:!1},links:{min:{width:155},max:{width:195}},pane:{min:{width:161},max:{width:340},collapsed:"mobile"===t.namespace("ViewPort").request("layoutMode"),accentPadding:20},dialog:{help:!0,notice:!0},transitions:!0});return this.scrollPosition=t.observable(0).receiveFrom("ViewPort","scrollPosition"),this.headerFixed=t.observable(!1).receiveFrom("Header","fixed"),this.headerClosed=t.observable(!1).receiveFrom("Header","closed"),this.headerMoving=t.observable(!1).receiveFrom("Header","moving"),this.navReflowing=t.observable(!1).receiveFrom("Navigation","reflowing"),this.paneAbsoluteMaxWidth=t.observable().receiveFrom("Pane","maxWidth"),this.paneAnimate3d=t.observable().receiveFrom("Pane","animate3d"),this.paneMoving=t.observable().receiveFrom("Pane","moving"),this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortSmall=t.observable().receiveFrom("ViewPort","isSmall"),this.currentTheme=t.observable().receiveFrom("Themes","currentTheme"),this.saveSession=t.observable(r.get("saveSession")).broadcastAs("saveSession",!0),this.config=t.observable(this.saveSession()===!0&&r.get("configuration")||e.extend(!0,{},c())),this.savePulse=t.observable(!1).extend({autoDisable:1e3}).broadcastAs("savePulse"),this.throttledConfig=this.config.extend({throttle:300}),this.throttledConfig.extend({throttle:300}).subscribe(o=function(e){e=e||this.config(),this.saveSession()===!0&&(r.set("configuration",e),this.savePulse(!0))}.bind(this)),this.initialized=t.observable(!1).broadcastAs("initialized"),this.visible=t.observable(!1).broadcastAs("visible",!0),this.heightMutable=t.computed(function(){return this.visible()&&(!this.headerFixed()||0===this.scrollPosition())},this).broadcastAs("heightMutable"),this.isMobile=t.observable(r.get("viewPortIsMobile")||window.isMobile).broadcastAs("isMobile",!0),this.mobileWidthCutoff=t.observable(515).broadcastAs("mobileWidthCutoff"),this.defaultHeaderMaxHeight=t.computed(function(){return c().header.max.height},this).broadcastAs("defaultHeaderMaxHeight"),this.defaultPaneMaxWidth=t.computed(function(){return c().pane.max.width},this).broadcastAs("defaultPaneMaxWidth"),this.transitionsEnabled=t.computed({read:function(){return this.config().transitions},write:function(e){i({transitions:e})}},this).broadcastAs("transitionsEnabled",!0),this.headerMinHeight=t.computed({read:function(){return this.config().header.min.height},write:function(e){i({header:{min:{height:e}}})}},this).broadcastAs("headerMinHeight",!0),this.headerMaxHeight=t.computed({read:function(){return"desktop"===this.viewPortLayoutMode()||"tablet"===this.viewPortLayoutMode()?this.config().header.max.height:this.config().header.min.height},write:function(e){i({header:{max:{height:e}}})}},this).broadcastAs("headerMaxHeight",!0),this.headerContentMaxHeight=t.computed({read:function(){return this.config().header.contentMaxHeight},write:function(e){i({header:{contentMaxHeight:e}})}},this).broadcastAs("headerContentMaxHeight",!0),this.headerBorderWidth=t.computed({read:function(){return this.config().header.borderWidth},write:function(e){i({header:{borderWidth:e}})}},this).broadcastAs("headerBorderWidth",!0),this.headerLimitHeight=t.computed({read:function(){return this.config().header.limit.height},write:function(e){i({header:{limit:{height:e}}})}},this).broadcastAs("headerLimitHeight",!0),this.paneMinWidth=t.computed({read:function(){return this.config().pane.min.width},write:function(e){i({pane:{min:{width:e}}})}},this).broadcastAs("paneMinWidth",!0),this.paneMaxWidth=t.computed({read:function(){return this.config().pane.max.width},write:function(e){i({pane:{max:{width:e}}})}},this).broadcastAs("paneMaxWidth",!0),this.paneCollapsed=t.computed({read:function(){return this.config().pane.collapsed},write:function(e){((this.navReflowing()===!0||this.reflowing()===!0)&&this.paneAnimate3d()===!0)==!1?i({pane:{collapsed:e}}):this.$namespace.publish("paneCollapsed",!e)}},this).broadcastAs("paneCollapsed",!0),this.paneAccentPadding=t.computed({read:function(){return this.config().pane.accentPadding},write:function(e){i({pane:{accentPadding:e}})}},this).broadcastAs("paneAccentPadding",!0),this.linksMinWidth=t.computed({read:function(){return this.config().links.min.width},write:function(e){i({links:{min:{width:e}}})}},this).broadcastAs("linksMinWidth",!0),this.linksMaxWidth=t.computed({read:function(){return this.config().links.max.width},write:function(e){i({links:{min:{width:e}}})}},this).broadcastAs("linksMaxWidth",!0),this.helpDialog=t.computed({read:function(){return this.config().dialog.help},write:function(e){i({dialog:{help:e}})}},this).broadcastAs("helpDialog",!0),this.noticeDialog=t.computed({read:function(){return this.config().dialog.notice},write:function(e){i({dialog:{notice:e}})}},this).broadcastAs("noticeDialog",!0),this.autoHideHeader=t.computed({read:function(){return this.config().header.autoHide},write:function(e){i({header:{autoHide:e}})}},this).broadcastAs("autoHideHeader",!0),this.reflowing=t.observable(!1).broadcastAs("reflowing"),i=this.setConfig=function(n){this.config(e.extend(!0,{},this.config(),n))}.bind(this),this.updateSession=function(){clearTimeout(s),this.saveSession()===!0&&"object"==typeof this.currentTheme()&&(s=setTimeout(function(){var t={},r=this.currentTheme();"object"!=typeof r||n.isUndefined(r.params)||(t.theme=r.params()),n.size(t)>0&&e.post("/session/update",t)}.bind(this),3e3))}.bind(this),this.$namespace.subscribe("updateSession",this.updateSession).context(this),this.$namespace.subscribe("reset",a=function(n){if(this.navReflowing()===!0||this.paneMoving()===!0||this.headerMoving()===!0)return!1;this.headerClosed(!1);var t=this.defaultPaneMaxWidth(),r=this.paneAbsoluteMaxWidth(),a=this.paneCollapsed()===!1?this.paneMaxWidth():0,o={header:this.headerMaxHeight(),pane:a>r?r:a},s={header:this.defaultHeaderMaxHeight(),pane:t>r?r:t},l={header:{max:{height:o.header}},pane:{max:{width:o.pane}}},u=e.extend(!0,{},c());(this.viewPortSmall()||"desktop"!==this.viewPortLayoutMode())&&(s.pane=t,u.pane.collapsed=this.paneCollapsed()),i(e.extend(!0,{},u,l)),this.$globalNamespace.publish("configReset"),this.reflowing(!0),e(o).animate(s,{duration:n===!0?0:1e3,specialEasing:{header:"easeOutElastic",pane:"easeOutElastic"},step:function(e,n){"header"===n.prop?this.headerMaxHeight(parseInt(e,10)):this.paneMaxWidth(parseInt(e,10))}.bind(this),complete:function(){this.paneMaxWidth(t),this.reflowing(!1)}.bind(this)})}.bind(this)),this.configVersionCheck=t.computed(function(){(this.config().revision||0)!==c().revision&&a(!0)},this),this.isMobile.subscribe(function(e){r.set("viewPortIsMobile",e)},this),this.saveSession.subscribe(function(e){r.set("saveSession",e),e&&(o(),this.updateSession())},this),(this.isMobile()===!0||this.viewPortSmall()===!0)&&this.paneCollapsed(!0),this.initialized(!0),this}})}),define("text!app/template/config/configuration.html",[],function(){return'<div class="configuration" data-bind="css: { visible: visible }">\r\n  <layoutcontrol></layoutcontrol>\r\n  <configmanagement></configmanagement>\r\n</div>'}),define("app/viewModel/config/ConfigManagement",["footwork","lodash"],function(e){return e.viewModel({namespace:"ConfigManagement",initialize:function(){var n=e.namespace("Configuration");return this.transitionsEnabled=e.observable().receiveFrom("Configuration","transitionsEnabled"),this.helpDialog=e.observable({}).receiveFrom("Configuration","helpDialog"),this.noticeDialog=e.observable({}).receiveFrom("Configuration","noticeDialog"),this.autoHideHeader=e.observable(!1).receiveFrom("Configuration","autoHideHeader"),this.savePulse=e.observable().receiveFrom("Configuration","savePulse"),this.paneCollapsed=e.observable().receiveFrom("Configuration","paneCollapsed"),this.saveSession=e.observable().receiveFrom("Configuration","saveSession"),this.configVisible=e.observable().receiveFrom("Configuration","visible"),this.headerControlMutable=e.observable().receiveFrom("LayoutControl","headerMutable"),this.visibleHeaderHeight=e.observable(60).receiveFrom("Header","visibleHeight"),this.headerFixed=e.observable(60).receiveFrom("Header","fixed"),this.headerClosed=e.observable(60).receiveFrom("Header","closed"),this.pastHeaderClosePoint=e.observable(!1).receiveFrom("Header","pastClosePoint"),this.headerMoving=e.observable(!1).receiveFrom("Header","moving"),this.headerTopOffset=e.observable().receiveFrom("Header","topOffset"),this.headerClosedTransform=e.observable().receiveFrom("Header","closedTransform"),this.navReflowing=e.observable(!1).receiveFrom("Navigation","reflowing"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.viewScrolling=e.observable(!1).receiveFrom("ViewPort","scrolling"),this.pulse=this.savePulse,this.helpVisible=this.helpDialog,this.noTransition=e.computed(function(){return(this.viewScrolling()||this.navReflowing())&&this.headerMoving()===!1},this),this.containerTop=e.computed(function(){return parseInt(this.visibleHeaderHeight(),10)+parseInt(this.headerTopOffset(),10)+"px"},this),this.containerMarginLeft=e.computed(function(){return parseInt(this.columnWidth(),10)+5+"px"},this),this.autoHideHeaderState=e.computed(function(){return this.autoHideHeader()?"checked":"unchecked"},this),this.paneState=e.computed(function(){return this.paneCollapsed()?"checked":"unchecked"},this),this.transitionState=e.computed(function(){return this.transitionsEnabled()?"checked":"unchecked"},this),this.saveSessionState=e.computed(function(){return this.saveSession()===!0?"partial":"unchecked"},this),this.togglePane=function(){this.paneCollapsed(!this.paneCollapsed())},this.toggleTransitions=function(){this.transitionsEnabled(!this.transitionsEnabled())},this.toggleConfiguration=function(){this.configVisible(!this.configVisible())}.bind(this),this.toggleSaveSession=function(){this.saveSession(!this.saveSession())}.bind(this),this.toggleAutoHideHeader=function(){this.autoHideHeader()===!0?this.headerClosed(!1):this.pastHeaderClosePoint()&&this.headerClosed(!0),this.autoHideHeader(!this.autoHideHeader())},this.reset=function(){n.publish("reset")}.bind(this),this}})}),define("text!app/template/config/configmanagement.html",[],function(){return'<div class="management has-layout-trans" data-bind="css: { noTransition: noTransition }, style: { top: containerTop }, transform: headerClosedTransform">\r\n  <div class="content has-layout-trans" data-bind="style: { marginLeft: containerMarginLeft }, css: { headerControlVisible: headerControlMutable }">\r\n    <div class="manage dialog has-trans">\r\n      <div class="header">\r\n        <div class="title">Settings</div>\r\n        <a class="toggle-config control icon-close" data-bind="click: toggleConfiguration"></a>\r\n        <div class="save-notice has-trans" data-bind="css: { pulse: pulse }">\r\n          <span class="icon icon-download"></span> session saved ...\r\n        </div>\r\n      </div>\r\n\r\n      <div class="content">\r\n        <div class="row">\r\n          <label data-bind="click: togglePane">Collapse Panel</label>\r\n          <div class="checkbox" data-bind="class: paneState, click: togglePane">\r\n            <div class="checked icon-checkbox-checked icon"></div>\r\n            <div class="unchecked icon-checkbox-unchecked icon"></div>\r\n          </div>\r\n          <span class="shortcut" data-bind="click: togglePane">ctrl + z</span>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <label data-bind="click: toggleAutoHideHeader">Auto-hide header</label>\r\n          <div class="checkbox" data-bind="class: autoHideHeaderState, click: toggleAutoHideHeader">\r\n            <div class="checked icon-checkbox-checked icon"></div>\r\n            <div class="unchecked icon-checkbox-unchecked icon"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <label data-bind="click: toggleTransitions">Animations</label>\r\n          <div class="checkbox" data-bind="class: transitionState, click: toggleTransitions">\r\n            <div class="checked icon-checkbox-checked icon"></div>\r\n            <div class="unchecked icon-checkbox-unchecked icon"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="bottom row">\r\n          <button class="button" data-bind="click: toggleConfiguration"><span>Done</span></button>\r\n\r\n          <div class="utility-row">\r\n            <div class="auto-save">\r\n              <div class="checkbox" data-bind="class: saveSessionState, click: toggleSaveSession">\r\n                <div class="partial icon-checkbox-partial icon"></div>\r\n                <div class="unchecked icon-checkbox-unchecked icon"></div>\r\n              </div>\r\n              <label data-bind="click: toggleSaveSession">Preserve settings</label>\r\n            </div>\r\n            <a data-bind="click: reset"><span>Reset Interface</span><span class="shortcut">alt + r</span></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("app/viewModel/config/LayoutControl",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"LayoutControl",initialize:function(){return this.active={header:e.observable(),column:e.observable(),corner:e.observable()},this.defaultPaneMaxWidth=e.observable().receiveFrom("Configuration","defaultPaneMaxWidth"),this.transitionsEnabled=e.observable().receiveFrom("Configuration","transitionsEnabled"),this.headerMinHeight=e.observable().receiveFrom("Configuration","headerMinHeight"),this.headerMaxHeight=e.observable().receiveFrom("Configuration","headerMaxHeight"),this.configPaneMinWidth=e.observable().receiveFrom("Configuration","paneMinWidth"),this.configPaneMaxWidth=e.observable().receiveFrom("Configuration","paneMaxWidth"),this.headerLimitHeight=e.observable().receiveFrom("Configuration","headerLimitHeight"),this.heightMutable=e.observable().receiveFrom("Configuration","heightMutable"),this.reflowing=e.observable().receiveFrom("Configuration","reflowing"),this.visible=e.observable(!1).receiveFrom("Configuration","visible"),this.visibleHeaderHeight=e.observable(0).receiveFrom("Header","visibleHeight"),this.paneCollapsed=e.observable(0).receiveFrom("Configuration","paneCollapsed"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.paneMaxWidth=e.observable(0).receiveFrom("Pane","maxWidth"),this.scrollPosition=e.observable(!1).receiveFrom("ViewPort","scrollPosition"),this.viewPortHas3dTransforms=e.observable(!1).receiveFrom("ViewPort","has3dTransforms"),this.enabled=e.computed(function(){return this.active.header()||this.active.column()||this.active.corner()},this).broadcastAs("enabled"),this.currentControl=e.observable(!1).broadcastAs("currentControl"),this.headerMutable=this.heightMutable.broadcastAs("headerMutable"),this.containerTop=e.observable(),this.containerMarginLeft=e.observable(),this.columnMutable=e.computed(function(){return this.paneCollapsed()===!1&&this.visible()},this),this.cornerMutable=e.computed(function(){return this.headerMutable()&&this.columnMutable()},this),this.headerTopOffset=e.computed(function(){return this.headerMaxHeight()-this.scrollPosition()+"px"},this),this.headerTopPos=e.computed(function(){var e="0px";return this.viewPortHas3dTransforms()===!1&&(e=this.headerTopOffset()),e},this),this.headerTopTransform=e.computed(function(){var e="none";return this.viewPortHas3dTransforms()===!0&&(e="translateY("+this.headerTopOffset()+")"),e},this),this.columnLeftOffset=e.computed(function(){return parseInt(this.columnWidth(),10)-10+"px"},this),this.columnLeftPos=e.computed(function(){var e="0px";return this.viewPortHas3dTransforms()===!1&&(e=this.columnLeftOffset()),e},this),this.columnTransform=e.computed(function(){var e="none";return this.viewPortHas3dTransforms()===!0&&(e="translateX("+this.columnLeftOffset()+")"),e},this),this.cornerTopOffset=e.computed(function(){return this.headerMaxHeight()-this.scrollPosition()-5+"px"},this),this.cornerLeftOffset=e.computed(function(){return parseInt(this.columnWidth())-15+"px"},this),this.cornerTopPos=e.computed(function(){var e="0px";return this.viewPortHas3dTransforms()===!1&&(e=this.cornerTopOffset()),e},this),this.cornerLeftPos=e.computed(function(){var e="0px";return this.viewPortHas3dTransforms()===!1&&(e=this.cornerLeftOffset()),e},this),this.cornerTransform=e.computed(function(){var e="none";return this.viewPortHas3dTransforms()===!0&&(e="translate3d("+this.cornerLeftOffset()+","+this.cornerTopOffset()+",0px)"),e},this),this.mutate={column:function(e){var n=this.paneMaxWidth(),t=this.configPaneMinWidth();e.x+=this._mouseOffset&&this._mouseOffset.left||0,e.x>=n&&(e.x=this.defaultPaneMaxWidth()>n?this.defaultPaneMaxWidth():n),e.x<t&&(e.x=t),this.configPaneMaxWidth(e.x)}.bind(this),header:function(e){var n=this.headerMinHeight(),t=this.headerLimitHeight();e.y+=this._mouseOffset&&this._mouseOffset.top||0,e.y<n?e.y=n:e.y>t&&(e.y=t),this.headerMaxHeight(e.y)}.bind(this),corner:function(e){this.mutate.column(e),this.mutate.header(e)}.bind(this)},this.mutateControl=function(e){this.mutate[this.currentControl()]({x:e.pageX,y:e.pageY})}.bind(this),this.enable=function(e,t){if(this.reflowing()===!1){var r=t.target.getAttribute("data-control");this._mouseOffset={left:parseInt(this.columnWidth(),10)-t.pageX,top:this.headerMaxHeight()-t.pageY},n.each(this.active,function(e,n){e(n===r?!0:!1)}),this.currentControl(r),this.$globalNamespace.publish("enableControl",this.mutateControl)}}.bind(this),this.disable=function(){this._mouseOffset={left:0,top:0},n.each(this.active,function(e){e(!1)}),this.currentControl(!1),this.$globalNamespace.publish("disableControl",this.mutateControl)}.bind(this),this.$namespace.subscribe("disableControl",function(){this.disable()}).context(this),this}})}),define("text!app/template/config/layoutcontrol.html",[],function(){return'<div class="layout-controls">\r\n  <div class="header has-layout-trans" data-bind="css: { mutable: headerMutable, focused: active.header }, style: { top: headerTopPos }, transform: headerTopTransform">\r\n    <div class="panel gripper has-layout-trans" data-bind="event: { mousedown: enable }, style: { width: cornerLeftOffset }" data-control="header"></div>\r\n    <div class="nav gripper" data-bind="event: { mousedown: enable }, style: { paddingLeft: cornerLeftOffset }" data-control="header"></div>\r\n  </div>\r\n  <div class="corner has-layout-trans" data-bind="css: { mutable: cornerMutable, focused: active.corner }, transform: cornerTransform, style: { top: cornerTopPos, left: cornerLeftPos }">\r\n    <div class="gripper" data-bind="event: { mousedown: enable }" data-control="corner"></div>\r\n  </div>\r\n  <div class="column has-layout-trans" data-bind="css: { mutable: columnMutable, focused: active.column }, style: { left: columnLeftPos }, transform: columnTransform">\r\n    <div class="header gripper" data-bind="event: { mousedown: enable }, style: { height: visibleHeaderHeight }, css: { visible: headerMutable }" data-control="column"></div>\r\n    <div class="body gripper" data-bind="event: { mousedown: enable }, style: { paddingTop: visibleHeaderHeight }" data-control="column"></div>\r\n  </div>\r\n</div>\r\n'}),define("app/viewModel/Pane",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"Pane",afterBinding:function(){this.$namespace.trigger("initialized",!0,!1)},initialize:function(){this.paneMaxWidth=e.observable().receiveFrom("Configuration","paneMaxWidth"),this.paneCollapsed=e.observable().receiveFrom("Configuration","paneCollapsed"),this.paneAccentPadding=e.observable().receiveFrom("Configuration","paneAccentPadding"),this.linksMinWidth=e.observable().receiveFrom("Configuration","linksMinWidth"),this.configReflowing=e.observable().receiveFrom("Configuration","reflowing"),this.viewPortDim=e.observable({}).receiveFrom("ViewPort","dimensions"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortSmall=e.observable(!0).receiveFrom("ViewPort","isSmall"),this.logoWidth=e.observable(161).receiveFrom("ViewPort","logoWidth"),this.viewPortHas3dTransforms=e.observable(!0).receiveFrom("ViewPort","has3dTransforms"),this.headerVisibleHeight=e.observable().receiveFrom("Header","visibleHeight"),this.headerClosed=e.observable().receiveFrom("Header","closed"),this.headerTopOffset=e.observable().receiveFrom("Header","topOffset"),this.headerClosedTopOffset=e.observable().receiveFrom("Header","closedTopOffset"),this.overlapPane=e.observable().receiveFrom("Body","overlapPane"),this.movingTimer=e.observable(!1).extend({autoDisable:400}).broadcastAs("movingTimer",!0),this.maxWidth=e.computed(function(){var e=this.viewPortDim();if(n.isObject(e)&&!n.isUndefined(e.width)){var t=Math.floor(e.width/2.66),r=9e3;return this.viewPortSmall()&&(r=this.logoWidth()+10),r>t?t:r}return 0},this).broadcastAs("maxWidth"),this.columnWidth=e.computed(function(){var e=this.paneMaxWidth(),n=this.maxWidth();return"desktop"!==this.viewPortLayoutMode()&&"tablet"!==this.viewPortLayoutMode()||this.viewPortSmall()?n+"px":n?(e>=n&&this.configReflowing()===!1?n:e)+"px":9e3},this).broadcastAs("columnWidth"),this.shouldBeCollapsed=e.computed(function(){return this.viewPortSmall()},this).broadcastAs("shouldBeCollapsed"),this.narrow=e.computed(function(){return"desktop"===this.viewPortLayoutMode()||"tablet"===this.viewPortLayoutMode()?parseInt(this.columnWidth(),10)-this.logoWidth()-2*this.paneAccentPadding()<=this.linksMinWidth():!0},this).broadcastAs("narrow"),this.collapsed=this.paneCollapsed,this.dragging=e.observable(!1).broadcastAs("dragging",!0),this.dragOffset=e.observable(0).broadcastAs("dragOffset",!0),this.moving=e.computed(function(){return this.movingTimer()===!0&&n.isUndefined(this.transition())},this).broadcastAs("moving"),this.scrolling=e.observable(!1).extend({autoDisable:500}).broadcastAs("scrolling",!0),this.transition=e.observable(void 0).broadcastAs("transition",!0),this.width=e.computed(function(){return this.overlapPane()===!0?this.viewPortDim().width-this.paneAccentPadding()+"px":this.columnWidth()},this).broadcastAs("width"),this.contentMaxHeight=e.computed(function(){var e=this.viewPortDim(),t=parseInt(this.headerVisibleHeight(),10),r=50,i=r;return this.headerClosed()===!1&&(i+=t),"mobile"===this.viewPortLayoutMode()&&(i+=30),n.isUndefined(e)?0:e.height-i},this).broadcastAs("contentMaxHeight"),this.animate3d=e.computed(function(){return this.viewPortHas3dTransforms()===!0&&this.overlapPane()===!0},this).broadcastAs("animate3d"),this.viewPortLayoutMode.subscribe(function(e){this.movingTimer.triggerDelay="mobile"===e?300:500},this),this.collapsed.subscribe(function(){this.dragging()===!1&&this.movingTimer(!0)},this),this.topOffset=e.computed(function(){return this.animate3d()===!0?"0px":this.headerClosed()===!1?parseInt(this.headerVisibleHeight(),10)+parseInt(this.headerTopOffset(),10)+"px":"0px"},this),this.trueLeftOffset=e.computed(function(){var e=0;return this.collapsed()===!0&&(e=parseInt(this.width(),10)-parseInt(this.paneAccentPadding(),10)),this.dragging()===!0&&(e+=this.dragOffset()),e+"px"},this).broadcastAs("trueLeftOffset"),this.leftOffset=e.computed(function(){return this.animate3d()===!0?"0px":"-"+this.trueLeftOffset()},this).broadcastAs("leftOffset"),this.transform=e.computed(function(){var e,n;return this.animate3d()===!0?(n=parseInt(this.headerVisibleHeight(),10),e=parseInt(this.trueLeftOffset(),10),this.headerClosed()===!0&&(n=0),"translate3d(-"+e+"px,"+n+"px,0px)"):"none"},this).broadcastAs("transform"),this.leftTransform=e.computed(function(){return this.animate3d()===!0?"translate3d(-"+this.trueLeftOffset()+",0px,0px)":"none"},this).broadcastAs("leftTransform")}})}),define("text!app/template/pane.html",[],function(){return'<div class="pane has-layout-trans" data-bind="style: { width: width, top: topOffset, left: leftOffset }, transition: transition, transform: transform">\r\n  <div class="mobile-only gripper"></div>\r\n\r\n  <div class="mobile-only page-logo js-only">\r\n    <a data-bind="$route: \'/\'">\r\n      <svg class="page-logo" width="161px" height="30px" viewBox="0 0 161 30">\r\n        <path fill="none" d="M158.2,27.9c-7,0-14,0-21.1,0c0-8.6,0-17.2,0-25.8c7,0,14,0,21.1,0C158.2,10.7,158.2,19.3,158.2,27.9z\r\n           M155.1,16.3c0-1-0.2-1.8-0.5-2.5c-0.5-1.3-1.3-2.4-2.2-3.4c-0.7-0.8-1.4-1.5-2.4-1.9c-0.7-0.3-1.4-0.3-2.2,0.1\r\n          c-0.6,0.3-1,0.8-1.3,1.4c-0.5,0.9-0.5,1.9-0.3,2.9c0.1,0.9,0.4,1.9,0.3,2.8c-0.1,1.4-0.8,2.5-1.9,3.3c-0.7,0.5-1.5,0.6-2.3,0.7\r\n          c-0.8,0.1-1.6,0.2-2.3,0.6c-1.3,0.6-2.1,1.6-2.5,2.9c-0.3,0.7-0.2,1.5,0.1,2.2c0.4,0.8,1,1.3,1.6,1.8c0.5,0.4,1,0.5,1.6,0.5\r\n          c1.3,0.1,2.4-0.5,3.2-1.4c1.1-1.3,2.3-2.3,3.8-3c0.8-0.4,1.6-0.7,2.4-1.1c1.5-0.7,2.8-1.7,3.8-3C154.6,18.4,155.1,17.4,155.1,16.3\r\n          z M149.6,5.4c0,1.3,0.8,1.9,1.9,1.5c1.3-0.5,2.4-2.3,2-3.7c-0.2-0.9-1-1.3-1.8-1C150.6,2.7,149.7,4,149.6,5.4z M155.8,7.1\r\n          c0.1-1.1-0.5-1.6-1.4-1.4c-0.8,0.2-1.6,1.4-1.5,2.3c0.1,0.9,0.8,1.3,1.6,0.9C155.3,8.5,155.7,7.8,155.8,7.1z M157.4,9.3\r\n          c0-0.6-0.4-0.9-1-0.8c-0.8,0.1-1.5,1-1.5,1.8c0,0.6,0.4,1,1,0.8C156.7,11,157.4,10.1,157.4,9.3z M156.7,13c0.6,0,1.2-0.5,1.4-1.1\r\n          c0.1-0.5-0.2-0.9-0.7-0.9c-0.6,0-1.3,0.5-1.4,1.1C155.9,12.6,156.1,13,156.7,13z M156.3,14.3c0,0.4,0.3,0.6,0.7,0.5\r\n          c0.5-0.1,0.9-0.6,0.9-1.1c0-0.4-0.3-0.7-0.7-0.6C156.8,13.3,156.3,13.8,156.3,14.3z"/>\r\n        <g class="foot">\r\n          <path d="M155.1,16.3c0,1-0.4,2.1-1.1,3c-1,1.3-2.3,2.3-3.8,3c-0.8,0.4-1.6,0.7-2.4,1.1c-1.5,0.7-2.7,1.8-3.8,3\r\n            c-0.8,0.9-1.9,1.4-3.2,1.4c-0.6,0-1.1-0.2-1.6-0.5c-0.7-0.5-1.3-1.1-1.6-1.8c-0.4-0.7-0.4-1.5-0.1-2.2c0.5-1.3,1.3-2.3,2.5-2.9\r\n            c0.7-0.4,1.5-0.4,2.3-0.6c0.8-0.1,1.6-0.3,2.3-0.7c1.1-0.8,1.8-1.9,1.9-3.3c0.1-1-0.2-1.9-0.3-2.8c-0.1-1-0.2-2,0.3-2.9\r\n            c0.3-0.6,0.7-1.1,1.3-1.4c0.7-0.4,1.4-0.4,2.2-0.1c1,0.4,1.7,1.1,2.4,1.9c0.9,1,1.7,2.1,2.2,3.4C154.9,14.6,155.1,15.4,155.1,16.3\r\n            z"/>\r\n          <path d="M149.6,5.4c0-1.3,0.9-2.7,2.1-3.1c0.8-0.3,1.6,0.1,1.8,1c0.3,1.3-0.7,3.2-2,3.7C150.4,7.3,149.6,6.6,149.6,5.4z"/>\r\n          <path d="M155.8,7.1c-0.1,0.7-0.5,1.4-1.4,1.8c-0.8,0.4-1.5,0-1.6-0.9c-0.1-0.9,0.7-2,1.5-2.3C155.3,5.5,155.9,6,155.8,7.1z"/>\r\n          <path d="M157.4,9.3c0,0.8-0.7,1.7-1.5,1.8c-0.6,0.1-1-0.2-1-0.8c0-0.8,0.7-1.6,1.5-1.8C157,8.4,157.4,8.7,157.4,9.3z"/>\r\n          <path d="M156.7,13c-0.5,0-0.8-0.4-0.7-0.8c0.1-0.6,0.8-1.1,1.4-1.1c0.5,0,0.8,0.4,0.7,0.9C157.9,12.4,157.3,13,156.7,13z"/>\r\n          <path d="M156.3,14.3c0-0.5,0.4-1.1,0.9-1.1c0.4-0.1,0.7,0.2,0.7,0.6c0,0.5-0.4,1-0.9,1.1C156.6,15,156.3,14.7,156.3,14.3z"/>\r\n          <path d="M111.7,22.1c0-1,0.7-1.8,1.7-1.8c1,0,1.7,0.7,1.7,1.8c0,1-0.6,1.8-1.7,1.8C112.4,23.9,111.7,23.1,111.7,22.1z"/>\r\n        </g>\r\n        <g class="footwork">\r\n          <path d="M6,23.6V11.9H4.1V10H6V9.4c0-1.9,0.4-3.6,1.6-4.7c0.9-0.9,2.2-1.3,3.3-1.3c0.9,0,1.6,0.2,2.1,0.4l-0.3,1.9\r\n            c-0.4-0.2-0.9-0.3-1.6-0.3c-2.1,0-2.6,1.8-2.6,3.9V10h3.3v1.9H8.4v11.7H6z"/>\r\n          <path d="M25.8,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C23.1,9.7,25.8,12.5,25.8,16.7z M15,16.8\r\n            c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2S15,14.3,15,16.8z"/>\r\n          <path d="M41.2,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C38.5,9.7,41.2,12.5,41.2,16.7z M30.4,16.8\r\n            c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2S30.4,14.3,30.4,16.8z"/>\r\n          <path d="M47.2,6.1V10h3.5v1.9h-3.5v7.3c0,1.7,0.5,2.6,1.8,2.6c0.6,0,1.1-0.1,1.4-0.2l0.1,1.8c-0.5,0.2-1.2,0.3-2.2,0.3\r\n            c-1.1,0-2.1-0.4-2.7-1c-0.7-0.7-1-1.9-1-3.5v-7.4h-2.1V10h2.1V6.8L47.2,6.1z"/>\r\n          <path d="M54.8,10l1.8,6.9c0.4,1.5,0.8,2.9,1,4.3h0.1c0.3-1.4,0.8-2.8,1.2-4.3l2.2-6.9h2.1l2.1,6.8c0.5,1.6,0.9,3.1,1.2,4.4h0.1\r\n            c0.2-1.4,0.6-2.8,1-4.4l1.9-6.8h2.4l-4.4,13.6h-2.2l-2.1-6.5c-0.5-1.5-0.9-2.9-1.2-4.5H62c-0.3,1.6-0.8,3-1.2,4.5l-2.2,6.4h-2.2\r\n            L52.2,10H54.8z"/>\r\n          <path d="M86.4,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C83.7,9.7,86.4,12.5,86.4,16.7z M75.6,16.8\r\n            c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2C76.9,11.6,75.6,14.3,75.6,16.8z"/>\r\n          <path d="M89.5,14.3c0-1.6,0-3-0.1-4.2h2.2l0.1,2.7h0.1c0.6-1.8,2.1-3,3.8-3c0.3,0,0.5,0,0.7,0.1v2.3c-0.3-0.1-0.5-0.1-0.8-0.1\r\n            c-1.7,0-3,1.3-3.3,3.2c-0.1,0.3-0.1,0.7-0.1,1.1v7.2h-2.4V14.3z"/>\r\n          <path d="M101.2,16.2L101.2,16.2c0.4-0.5,0.9-1.1,1.3-1.5l4-4.7h3l-5.2,5.6l6,8h-3l-4.7-6.5l-1.3,1.4v5.1h-2.4V3.7h2.4V16.2z"/>\r\n        </g>\r\n        <g class="js">\r\n          <path d="M114.8,27.5c1.1-0.1,2.1-0.4,2.7-1c0.7-0.8,0.9-1.8,0.9-5.1V10h2.5v12.3c0,2.6-0.4,4.3-1.6,5.6c-1.1,1.1-2.9,1.5-4.2,1.5\r\n            L114.8,27.5z M121.1,6.2c0,0.8-0.6,1.5-1.5,1.5c-0.9,0-1.5-0.7-1.5-1.5c0-0.9,0.6-1.5,1.6-1.5C120.5,4.7,121.1,5.3,121.1,6.2z"/>\r\n          <path d="M124.5,21.1c0.7,0.5,2,1,3.2,1c1.8,0,2.6-0.9,2.6-2c0-1.2-0.7-1.8-2.5-2.5c-2.4-0.9-3.6-2.2-3.6-3.8c0-2.2,1.8-4,4.7-4\r\n            c1.4,0,2.6,0.4,3.3,0.8l-0.6,1.8c-0.5-0.3-1.5-0.8-2.8-0.8c-1.5,0-2.3,0.8-2.3,1.8c0,1.1,0.8,1.6,2.6,2.3c2.4,0.9,3.6,2.1,3.6,4.1\r\n            c0,2.4-1.8,4.1-5.1,4.1c-1.5,0-2.9-0.4-3.8-0.9L124.5,21.1z"/>\r\n        </g>\r\n      </svg>\r\n    </a>\r\n  </div>\r\n\r\n  <panelinks></panelinks>\r\n\r\n  <div class="content">\r\n    <navmenu></navmenu>\r\n    <pagesections></pagesections>\r\n  </div>\r\n</div>'
}),define("app/viewModel/pane/PaneLinks",["footwork","lodash","jquery"],function(e,n,t){return e.viewModel({namespace:"PaneLinks",initialize:function(r){var i=e.namespace("PaneElements");this.linksMinWidth=e.observable().receiveFrom("Configuration","linksMinWidth"),this.linksMaxWidth=e.observable().receiveFrom("Configuration","linksMaxWidth"),this.paneAccentPadding=e.observable().receiveFrom("Configuration","paneAccentPadding"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.logoWidth=e.observable(161).receiveFrom("ViewPort","logoWidth"),this.pageHasSections=e.observable().receiveFrom("PageSections","hasSections"),this.headerContentHeight=e.observable().receiveFrom("Header","contentHeight"),this.narrowPane=e.observable().receiveFrom("Pane","narrow"),this.columnWidth=e.observable(null),this.inHeader=e.observable(r.inHeader),r.inHeader===!0&&(this.columnWidth=e.observable().receiveFrom("Pane","columnWidth")),this.height=e.computed(function(){return r.inHeader===!0?this.headerContentHeight():null},this),this.defaultSelection=e.computed(function(){return"mobile"===this.viewPortLayoutMode()?"NavMenu":"PageSections"},this).broadcastAs("defaultSelection"),this.currentSelection=e.observable(this.defaultSelection()).broadcastAs("currentSelection",!0),this.$namespace.request.handler("currentSelection",function(){return this.currentSelection()}),this.width=e.computed(function(){var e=parseInt(this.columnWidth(),10)-this.paneAccentPadding(),n=this.linksMinWidth(),t=this.linksMaxWidth();return e=e>=n?e:n,e=t>=e?e:t,e+"px"},this),this.headerWidth=e.computed(function(){return r.inHeader===!0?parseInt(this.columnWidth(),10)-this.logoWidth()-2*this.paneAccentPadding()+"px":null},this),this.chooseSection=function(e,r){var a=r.target.getAttribute("data-section");n.isNull(a)&&(a=t(r.target).parents("[data-section]")[0].getAttribute("data-section")),this.currentSelection(a||this.defaultSelection()),i.publish("hideAll")}.bind(this)}})}),define("text!app/template/pane/panelinks.html",[],function(){return'<div class="pane-links" data-bind="style: { width: columnWidth }, css: { pageHasSections: pageHasSections }">\r\n  <div class="logo">\r\n    <a data-bind="$route: \'/\'">\r\n      <div class="img-logo no-svg-only"></div>\r\n      <div class="svg-only">\r\n        <svg class="page-logo" width="161px" height="30px" viewBox="0 0 161 30">\r\n          <path fill="none" d="M158.2,27.9c-7,0-14,0-21.1,0c0-8.6,0-17.2,0-25.8c7,0,14,0,21.1,0C158.2,10.7,158.2,19.3,158.2,27.9z\r\n             M155.1,16.3c0-1-0.2-1.8-0.5-2.5c-0.5-1.3-1.3-2.4-2.2-3.4c-0.7-0.8-1.4-1.5-2.4-1.9c-0.7-0.3-1.4-0.3-2.2,0.1\r\n            c-0.6,0.3-1,0.8-1.3,1.4c-0.5,0.9-0.5,1.9-0.3,2.9c0.1,0.9,0.4,1.9,0.3,2.8c-0.1,1.4-0.8,2.5-1.9,3.3c-0.7,0.5-1.5,0.6-2.3,0.7\r\n            c-0.8,0.1-1.6,0.2-2.3,0.6c-1.3,0.6-2.1,1.6-2.5,2.9c-0.3,0.7-0.2,1.5,0.1,2.2c0.4,0.8,1,1.3,1.6,1.8c0.5,0.4,1,0.5,1.6,0.5\r\n            c1.3,0.1,2.4-0.5,3.2-1.4c1.1-1.3,2.3-2.3,3.8-3c0.8-0.4,1.6-0.7,2.4-1.1c1.5-0.7,2.8-1.7,3.8-3C154.6,18.4,155.1,17.4,155.1,16.3\r\n            z M149.6,5.4c0,1.3,0.8,1.9,1.9,1.5c1.3-0.5,2.4-2.3,2-3.7c-0.2-0.9-1-1.3-1.8-1C150.6,2.7,149.7,4,149.6,5.4z M155.8,7.1\r\n            c0.1-1.1-0.5-1.6-1.4-1.4c-0.8,0.2-1.6,1.4-1.5,2.3c0.1,0.9,0.8,1.3,1.6,0.9C155.3,8.5,155.7,7.8,155.8,7.1z M157.4,9.3\r\n            c0-0.6-0.4-0.9-1-0.8c-0.8,0.1-1.5,1-1.5,1.8c0,0.6,0.4,1,1,0.8C156.7,11,157.4,10.1,157.4,9.3z M156.7,13c0.6,0,1.2-0.5,1.4-1.1\r\n            c0.1-0.5-0.2-0.9-0.7-0.9c-0.6,0-1.3,0.5-1.4,1.1C155.9,12.6,156.1,13,156.7,13z M156.3,14.3c0,0.4,0.3,0.6,0.7,0.5\r\n            c0.5-0.1,0.9-0.6,0.9-1.1c0-0.4-0.3-0.7-0.7-0.6C156.8,13.3,156.3,13.8,156.3,14.3z"/>\r\n          <g class="foot">\r\n            <path d="M155.1,16.3c0,1-0.4,2.1-1.1,3c-1,1.3-2.3,2.3-3.8,3c-0.8,0.4-1.6,0.7-2.4,1.1c-1.5,0.7-2.7,1.8-3.8,3\r\n              c-0.8,0.9-1.9,1.4-3.2,1.4c-0.6,0-1.1-0.2-1.6-0.5c-0.7-0.5-1.3-1.1-1.6-1.8c-0.4-0.7-0.4-1.5-0.1-2.2c0.5-1.3,1.3-2.3,2.5-2.9\r\n              c0.7-0.4,1.5-0.4,2.3-0.6c0.8-0.1,1.6-0.3,2.3-0.7c1.1-0.8,1.8-1.9,1.9-3.3c0.1-1-0.2-1.9-0.3-2.8c-0.1-1-0.2-2,0.3-2.9\r\n              c0.3-0.6,0.7-1.1,1.3-1.4c0.7-0.4,1.4-0.4,2.2-0.1c1,0.4,1.7,1.1,2.4,1.9c0.9,1,1.7,2.1,2.2,3.4C154.9,14.6,155.1,15.4,155.1,16.3\r\n              z"/>\r\n            <path d="M149.6,5.4c0-1.3,0.9-2.7,2.1-3.1c0.8-0.3,1.6,0.1,1.8,1c0.3,1.3-0.7,3.2-2,3.7C150.4,7.3,149.6,6.6,149.6,5.4z"/>\r\n            <path d="M155.8,7.1c-0.1,0.7-0.5,1.4-1.4,1.8c-0.8,0.4-1.5,0-1.6-0.9c-0.1-0.9,0.7-2,1.5-2.3C155.3,5.5,155.9,6,155.8,7.1z"/>\r\n            <path d="M157.4,9.3c0,0.8-0.7,1.7-1.5,1.8c-0.6,0.1-1-0.2-1-0.8c0-0.8,0.7-1.6,1.5-1.8C157,8.4,157.4,8.7,157.4,9.3z"/>\r\n            <path d="M156.7,13c-0.5,0-0.8-0.4-0.7-0.8c0.1-0.6,0.8-1.1,1.4-1.1c0.5,0,0.8,0.4,0.7,0.9C157.9,12.4,157.3,13,156.7,13z"/>\r\n            <path d="M156.3,14.3c0-0.5,0.4-1.1,0.9-1.1c0.4-0.1,0.7,0.2,0.7,0.6c0,0.5-0.4,1-0.9,1.1C156.6,15,156.3,14.7,156.3,14.3z"/>\r\n            <path d="M111.7,22.1c0-1,0.7-1.8,1.7-1.8c1,0,1.7,0.7,1.7,1.8c0,1-0.6,1.8-1.7,1.8C112.4,23.9,111.7,23.1,111.7,22.1z"/>\r\n          </g>\r\n          <g class="footwork">\r\n            <path d="M6,23.6V11.9H4.1V10H6V9.4c0-1.9,0.4-3.6,1.6-4.7c0.9-0.9,2.2-1.3,3.3-1.3c0.9,0,1.6,0.2,2.1,0.4l-0.3,1.9\r\n              c-0.4-0.2-0.9-0.3-1.6-0.3c-2.1,0-2.6,1.8-2.6,3.9V10h3.3v1.9H8.4v11.7H6z"/>\r\n            <path d="M25.8,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C23.1,9.7,25.8,12.5,25.8,16.7z M15,16.8\r\n              c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2S15,14.3,15,16.8z"/>\r\n            <path d="M41.2,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C38.5,9.7,41.2,12.5,41.2,16.7z M30.4,16.8\r\n              c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2S30.4,14.3,30.4,16.8z"/>\r\n            <path d="M47.2,6.1V10h3.5v1.9h-3.5v7.3c0,1.7,0.5,2.6,1.8,2.6c0.6,0,1.1-0.1,1.4-0.2l0.1,1.8c-0.5,0.2-1.2,0.3-2.2,0.3\r\n              c-1.1,0-2.1-0.4-2.7-1c-0.7-0.7-1-1.9-1-3.5v-7.4h-2.1V10h2.1V6.8L47.2,6.1z"/>\r\n            <path d="M54.8,10l1.8,6.9c0.4,1.5,0.8,2.9,1,4.3h0.1c0.3-1.4,0.8-2.8,1.2-4.3l2.2-6.9h2.1l2.1,6.8c0.5,1.6,0.9,3.1,1.2,4.4h0.1\r\n              c0.2-1.4,0.6-2.8,1-4.4l1.9-6.8h2.4l-4.4,13.6h-2.2l-2.1-6.5c-0.5-1.5-0.9-2.9-1.2-4.5H62c-0.3,1.6-0.8,3-1.2,4.5l-2.2,6.4h-2.2\r\n              L52.2,10H54.8z"/>\r\n            <path d="M86.4,16.7c0,5-3.5,7.2-6.7,7.2c-3.7,0-6.5-2.7-6.5-7c0-4.5,3-7.2,6.7-7.2C83.7,9.7,86.4,12.5,86.4,16.7z M75.6,16.8\r\n              c0,3,1.7,5.2,4.1,5.2c2.4,0,4.1-2.2,4.1-5.3c0-2.3-1.1-5.2-4.1-5.2C76.9,11.6,75.6,14.3,75.6,16.8z"/>\r\n            <path d="M89.5,14.3c0-1.6,0-3-0.1-4.2h2.2l0.1,2.7h0.1c0.6-1.8,2.1-3,3.8-3c0.3,0,0.5,0,0.7,0.1v2.3c-0.3-0.1-0.5-0.1-0.8-0.1\r\n              c-1.7,0-3,1.3-3.3,3.2c-0.1,0.3-0.1,0.7-0.1,1.1v7.2h-2.4V14.3z"/>\r\n            <path d="M101.2,16.2L101.2,16.2c0.4-0.5,0.9-1.1,1.3-1.5l4-4.7h3l-5.2,5.6l6,8h-3l-4.7-6.5l-1.3,1.4v5.1h-2.4V3.7h2.4V16.2z"/>\r\n          </g>\r\n          <g class="js">\r\n            <path d="M114.8,27.5c1.1-0.1,2.1-0.4,2.7-1c0.7-0.8,0.9-1.8,0.9-5.1V10h2.5v12.3c0,2.6-0.4,4.3-1.6,5.6c-1.1,1.1-2.9,1.5-4.2,1.5\r\n              L114.8,27.5z M121.1,6.2c0,0.8-0.6,1.5-1.5,1.5c-0.9,0-1.5-0.7-1.5-1.5c0-0.9,0.6-1.5,1.6-1.5C120.5,4.7,121.1,5.3,121.1,6.2z"/>\r\n            <path d="M124.5,21.1c0.7,0.5,2,1,3.2,1c1.8,0,2.6-0.9,2.6-2c0-1.2-0.7-1.8-2.5-2.5c-2.4-0.9-3.6-2.2-3.6-3.8c0-2.2,1.8-4,4.7-4\r\n              c1.4,0,2.6,0.4,3.3,0.8l-0.6,1.8c-0.5-0.3-1.5-0.8-2.8-0.8c-1.5,0-2.3,0.8-2.3,1.8c0,1.1,0.8,1.6,2.6,2.3c2.4,0.9,3.6,2.1,3.6,4.1\r\n              c0,2.4-1.8,4.1-5.1,4.1c-1.5,0-2.9-0.4-3.8-0.9L124.5,21.1z"/>\r\n          </g>\r\n        </svg>\r\n      </div>\r\n    </a>\r\n  </div>\r\n  <div class="areas" data-bind="style: { width: headerWidth }, class: currentSelection">\r\n    <!-- ko if: inHeader -->\r\n      <div class="message">\r\n        <p>A solid footing for web applications.</p>\r\n      </div>\r\n    <!-- /ko -->\r\n    <!-- ko ifnot: inHeader -->\r\n      <div class="alternate">\r\n        <div class="PageSections link" title="Page Sections" data-bind="click: chooseSection, style: { lineHeight: height }" data-section="PageSections">\r\n          <div class="content">\r\n            <div class="icon icon-page-sections"></div>\r\n            <div class="label">Page Sections</div>\r\n          </div>\r\n        </div>\r\n        <div class="NavMenu link" title="Main Menu" data-bind="click: chooseSection, style: { lineHeight: height }" data-section="NavMenu">\r\n          <div class="content">\r\n            <div class="icon icon-main-menu"></div>\r\n            <div class="label">Navigation</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    <!-- /ko -->\r\n  </div>\r\n</div>'}),define("app/viewModel/NavMenu",["jquery","lodash","footwork"],function(e,n,t){var r=t.observable().receiveFrom("ViewPort","isMobile"),i=t.viewModel({namespace:"PaneElements",initialize:function(i){this.headerContentHeight=t.observable().receiveFrom("Header","contentHeight"),this.visible=t.observable(null).extend({autoEnable:n.random(200,600)}),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed").extend({debounce:{timeout:200,when:function(e){return e===!1}}}),this.labelText=t.observable(i.label),this.url=t.observable(i.url),this.options=i||{},this.subMenuItems=i.subMenu,this.hasSubMenu=n.isArray(i.subMenu)&&!!i.subMenu.length,this.target=i.target,this.menuActive=t.observable(!1),this.$globalNamespace.subscribe("clear",n.bind(function(){this.menuActive(!1)},this)),this.clickHandler=function(n,i){var a=!1,o=(e(n.target),!1);return this.hasSubMenu?(this.menuActive(!this.menuActive()),o=!0):(r()&&this.paneCollapsed()||(a=!0),t.isFullURL(i)||2===n.which?2===n.which&&(a=!1):o=!0,this.$namespace.publish("collapseSubMenu")),o&&(n.preventDefault(),n.stopPropagation()),a},this.$namespace.subscribe("collapseSubMenu",function(){this.menuActive(!1)}).context(this),this.$namespace.subscribe("hideAll",function(){this.visible(!1)}).context(this),this.visible(!1)}});return t.viewModel({namespace:"NavMenu",initialize:function(e){this.visible=t.observable(!1),this.paneWidth=t.observable().receiveFrom("Pane","width"),this.currentSelection=t.observable().receiveFrom("PaneLinks","currentSelection"),this.paneContentMaxHeight=t.observable().receiveFrom("Pane","contentMaxHeight").extend({units:"px"}),this.headerContentHeight=t.observable().receiveFrom("Header","contentHeight"),this.configVisible=t.observable().receiveFrom("Configuration","visible"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed"),this.inHeader=!!e.inHeader,this.toggleConfigView=function(){this.configVisible(!this.configVisible()),this.configVisible()&&this.paneCollapsed()&&this.paneCollapsed(!1)}.bind(this),this.mobileWidth=t.computed(function(){return parseInt(this.paneWidth(),10)-20+"px"},this),this.visible=t.observable(!1),this.entries=t.observableArray([new i({label:"API Docs",url:"/api",subMenu:[new i({label:"viewModel",url:"/api/viewModel"}),new i({label:"Components",url:"/api/components"}),new i({label:"Namespacing",url:"/api/namespacing"}),new i({label:"Broadcastable / Receivable",url:"/api/broadcastable-receivable"}),new i({label:"Routing",url:"/api/routing"})]}),new i({label:"Tutorials",url:"/tutorials"}),new i({label:"Annotated Source",url:"/annotated"})]),this.checkSelection=function(e){e=e||this.currentSelection(),this.visible(e===this.getNamespaceName())},this.currentSelection.subscribe(this.checkSelection,this),this.checkSelection()}})}),define("text!app/template/navmenu.html",[],function(){return'<!-- ko ifnot: inHeader -->\r\n  <div class="pane-component NavMenu initialized" data-bind="css: { visible: visible }">\r\n    <div class="content" data-bind="style: { height: paneContentMaxHeight }">\r\n      <nav data-bind="style: { width: mobileWidth }, foreach: entries">\r\n        <a data-bind="css: { visible: visible }, attr: { title: labelText, target: target }, $route: { url: url, handler: clickHandler }, text: labelText"></a>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n<!-- /ko -->\r\n\r\n<!-- ko if: inHeader -->\r\n  <div class="header-component">\r\n    <div class="menu-item first js-only initialized-only">\r\n      <div class="icon icon-cog title desktop-only" title="Click to adjust layout" id="settings"\r\n        data-bind="css: { active: configVisible }, style: { lineHeight: headerContentHeight }, click: toggleConfigView"></div>\r\n    </div>\r\n\r\n    <!-- ko foreach: entries -->\r\n      <div class="menu-item" data-bind="css: { visible: visible, aside: options.aside, active: menuActive }, style: { height: headerContentHeight }">\r\n        <div class="title" data-bind="style: { lineHeight: $parent.headerContentHeight }">\r\n          <!-- ko if: hasSubMenu -->\r\n            <a data-bind="$route: { url: url, handler: clickHandler }, attr: { target: target }"><span class="icon icon-chevron-down"></span> <span data-bind="text: labelText"></span></a>\r\n          <!-- /ko -->\r\n          <!-- ko ifnot: hasSubMenu -->\r\n            <a data-bind="$route: { url: url, handler: clickHandler }, attr: { target: target }, text: labelText"></a>\r\n          <!-- /ko -->\r\n        </div>\r\n        <!-- ko if: hasSubMenu -->\r\n          <div class="drop-down">\r\n            <div class="title" data-bind="style: { lineHeight: headerContentHeight }">\r\n              <a data-bind="$route: { url: url, handler: clickHandler }, attr: { target: target }">\r\n                <span class="icon icon-chevron-up"></span> <span data-bind="text: labelText"></span>\r\n              </a>\r\n            </div>\r\n            <div class="content" data-bind="foreach: subMenuItems">\r\n              <a class="row" data-bind="attr: { target: target }, $route: { url: url, handler: clickHandler }">\r\n                <span class="item" data-bind="text: labelText"></span>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        <!-- /ko -->\r\n      </div>\r\n    <!-- /ko -->\r\n    \r\n    <releases></releases>\r\n  </div>\r\n<!-- /ko -->'}),define("app/viewModel/pane/PageSections",["jquery","lodash","footwork"],function(e,n,t){function r(){clearTimeout(i),i=setTimeout(function(){var e=[],t=s.request("position",null,!0),r=l.request("position",null,!0);!n.isUndefined(t)&&t.length&&(e=e.concat(t)),!n.isUndefined(r)&&r.length&&(e=e.concat(r)),m(n.sortBy(e,function(e){return e.position}))},500)}var i,a=t.namespace("Page"),o=t.observable().receiveFrom("PaneLinks","currentSelection"),s=t.namespace("PageSection"),l=t.namespace("PageSubSection"),c=(t.namespace("BodyRouter"),t.observable().receiveFrom("PaneLinks","defaultSelection")),u=t.observable().receiveFrom("ViewPort","layoutMode"),d=t.observable().receiveFrom("Header","height"),p=t.observable().receiveFrom("ViewPort","dimensions"),h=t.observable().receiveFrom("Pane","width"),f=t.observable().receiveFrom("Configuration","paneCollapsed"),m=t.observable([]);return this.layoutModeSub=u.subscribe(r),this.dimensionSub=p.subscribe(r),this.heightSub=d.subscribe(r),this.widthSub=h.subscribe(r),this.collapsedSub=f.subscribe(r),t.viewModel({namespace:"PageSections",afterBinding:function(){this.checkSelection()},initialize:function(){var e=!0,i=null,s=0;this.visible=t.observable(!1),this.description=t.observable(),this.hasDescription=t.computed(function(){var e=this.description();return n.isString(e)&&e.length},this),this.title=t.observable(),this.viewPortScrollPos=t.observable().receiveFrom("ViewPort","scrollPosition"),this.paneContentMaxHeight=t.observable().receiveFrom("Pane","contentMaxHeight").extend({units:"px"}),this.sections=t.observable(),this.chosenSection=t.observable(null).extend({write:function(e,n){e(n),this._chosenRead=!1}.bind(this)}).broadcastAs("chosenSection",!0),this.hasSections=t.observable(function(){var e=this.description()||"",n=this.sections()||[];return n.length||e.length},this).broadcastAs("hasSections"),this.currentSection=t.computed(function(){var e=(this.sections(),this.viewPortScrollPos()),t=this.chosenSection(),r=this._chosenRead;return this._chosenRead=!0,r!==!0&&t||n.reduce(m(),function(n,t){var r=n;return e>=t.position-s-3&&(r=t.anchor),r}.bind(this),!1)},this).broadcastAs("currentSection"),this.loadSections=function(e){e=e||[],this.sections(e),r(),o(this.hasSections()&&"mobile"!==u()?this.getNamespaceName():c())}.bind(this);var l=function(e){e&&(s=e.anchorOffset||0,e.title&&this.title(e.title),e.description&&this.description(e.description),this.loadSections(e.sections))}.bind(this);l(a.request("metaData")),this.anchorSub=m.subscribe(function(t){(e||n.isString(i))&&(e=!1,i=null,n.each(t,function(e){e.anchor===window.location.hash.substring(1)&&window.scrollTo(0,e.position-s)}))}),this.$namespace.command.handler("goToSection",function(e){i=e}),this.$namespace.subscribe("pageMetaData",l).context(this),this.checkSelection=function(e){e=e||o(),this.visible(e===this.getNamespaceName())},this.currentSelSub=o.subscribe(this.checkSelection,this)}})}),define("text!app/template/pane/pagesections.html",[],function(){return'<div class="pageSections pane-component initialized" data-bind="css: { visible: visible }">\r\n  <div class="title no-mobile">\r\n    <span class="label">\r\n      <span class="text" data-bind="text: title"></span>\r\n    </span>\r\n  </div>\r\n  <div class="content" data-bind="css: { hasContent: hasSections }, style: { height: paneContentMaxHeight }">\r\n    <div class="title mobile-only">\r\n      <span class="label">\r\n        <span class="text" data-bind="text: title"></span>\r\n      </span>\r\n    </div>\r\n    <div class="description" data-bind="text: description, css: { visible: hasDescription }"></div>\r\n    <div data-bind="foreach: sections">\r\n      <pagesection params="sectionData: $data"></pagesection>\r\n    </div>\r\n  </div>\r\n</div>'}),function(){function e(e,n){e.fn.pulse=function(t){"number"==typeof t&&(t={duration:t}),t=e.extend({duration:1e3,className:"pulse"},t||{});var r="_pulseNS_"+t.className;return this.each(function(){var i,a=e(this);(i=a.data(r))!==n&&clearTimeout(i),a.data(r,i=a.addClass(t.className)),window.setTimeout(function(){a.removeClass(t.className),clearTimeout(i)},t.duration)}),this}}"function"==typeof define&&define.amd?define("jquery.pulse",["jquery"],function(n){e(n)}):e("function"==typeof require&&"object"==typeof exports&&"object"==typeof module?require("jquery"):jQuery||$)}.call(this),define("app/viewModel/pane/PageSection",["jquery","lodash","footwork","jquery.pulse"],function(e,n,t){var r=t.namespace("PageSections"),i=(t.observable().receiveFrom("ViewPort","dimensions"),t.observable().receiveFrom("Header","height"),t.observable().receiveFrom("Pane","width"),t.observable().receiveFrom("Configuration","paneCollapsed").extend({debounce:200})),a=t.observable().receiveFrom("PageSections","chosenSection");return t.viewModel({namespace:"PageSection",initialize:function(o){var s=o.sectionData||{},l=this.paneElementsNamespace=t.namespace("PaneElements"),c=e("#"+(n.isObject(s)?s.anchor:"")),u=e("[name="+s.anchor+"]"),d=function(){},p=(r.request("anchorOffset"),""),h=function(){this.$globalNamespace.request("isRunningLocally")||(p=window.location.pathname),this.anchorAddress(p+"#"+(s.anchor||""))}.bind(this);this.$namespace.event.handler("resetURL",h),this.anchorAddress=t.observable(),h(),this.currentSection=t.observable().receiveFrom("PageSections","currentSection"),this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.paneIsOverlapping=t.observable().receiveFrom("Body","overlapPane"),this.subSections=t.observable(n.isArray(s.subSections)?s.subSections:[]),this.hasSubSections=t.computed(function(){return this.subSections().length>0},this),this.visible=t.observable(null).extend({autoEnable:n.random(40,300)}),this.title=t.observable(s.title||""),this.hasTitle=t.computed(function(){return n.isString(this.title())&&this.title().length>0},this),this.anchor=s.anchor,this.isCollapsable=t.observable(!!s.collapsable),this.isCollapsed=t.observable(!!s.isCollapsed),this.collapseIcon=t.computed(function(){return this.isCollapsed()?"icon-chevron-down":"icon-chevron-up"},this),this.active=t.computed(function(){var e=this.currentSection()===this.anchor;return e&&(this.isCollapsed(!1),d(!1)),e},this),l.subscribe("hideAll",function(){this.visible(!1)}).context(this),this.toggleCollapse=function(e,t){return this.isCollapsed(!this.isCollapsed()),n.isObject(t)&&n.isFunction(t.stopPropagation)&&t.stopPropagation(),!1},this.chooseSection=function(){return("mobile"===this.viewPortLayoutMode()||this.paneIsOverlapping())&&(this.paneCollapsed()||i(!0)),a(""),a(this.anchor),u.pulse({className:"active",duration:1e3}),!0}.bind(this),this.$namespace.request.handler("position",function(){var e=c.offset()||{top:99999999999};return{anchor:s.anchor,position:e.top}}.bind(this)),this.visible(!1)}})}),define("text!app/template/pane/pagesection.html",[],function(){return'<div class="section-label entry-row" data-bind="css: { visible: visible, isCollapsable: isCollapsable, isCollapsed: isCollapsed, hasTitle: hasTitle, hasSubSections: hasSubSections }">\r\n  <div class="content" data-bind="css: { active: active }">\r\n    <a class="title" data-bind="click: chooseSection, attr: { href: anchorAddress }">\r\n      <span class="label" data-bind="text: title"></span>\r\n      <!-- ko if: isCollapsable -->\r\n        <span class="icon" data-bind="class: collapseIcon, click: toggleCollapse"></span>\r\n      <!-- /ko -->\r\n    </a>\r\n    <div class="arrow"></div>\r\n  </div>\r\n  <!-- ko if: hasSubSections -->\r\n    <div class="sub-sections" data-bind="foreach: subSections">\r\n      <pagesubsection params="sectionData: $data, parent: $parent"></pagesubsection>\r\n    </div>\r\n  <!-- /ko -->\r\n</div>'}),define("app/viewModel/pane/PageSubSection",["jquery","lodash","footwork","jquery.pulse"],function(e,n,t){var r=(t.namespace(),t.observable().receiveFrom("Configuration","paneCollapsed")),i=t.observable().receiveFrom("ViewPort","layoutMode"),a=t.observable().receiveFrom("Body","overlapPane"),o=t.observable().receiveFrom("PageSections","chosenSection");return t.viewModel({namespace:"PageSubSection",initialize:function(s){var l=s.sectionData,c=s.parent,u=e("[name="+l.anchor+"]"),d=e("#"+(n.isObject(l)?l.anchor:"")),p="",h=function(){this.$globalNamespace.request("isRunningLocally")||(p=window.location.pathname),this.anchorAddress(p+"#"+(l.anchor||""))}.bind(this);this.$namespace.event.handler("resetURL",h),this.anchorAddress=t.observable(),h(),this.currentSection=t.observable().receiveFrom("PageSections","currentSection"),this.title=l.title,this.active=t.computed(function(){var e=this.currentSection()===l.anchor;return e&&c.isCollapsed(!1),e},this),this.chooseSection=function(){return("mobile"===i()||a())&&(r()||r(!0)),o(""),o(l.anchor),u.pulse({className:"active",duration:1e3}),!0}.bind(this),this.$namespace.request.handler("position",function(){var e=d.offset()||{top:99999999999};return{anchor:l.anchor,position:e.top}}.bind(this))}})}),define("text!app/template/pane/pagesubsection.html",[],function(){return'<div class="content">\r\n  <div class="sub-section">\r\n    <div class="content" data-bind="css: { active: active }">\r\n      <a class="title" data-bind="click: chooseSection, attr: { href: anchorAddress }">\r\n        <span class="label" data-bind="text: title"></span>\r\n      </a>\r\n      <div class="arrow"></div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("app/viewModel/pane/PaneBackground",["footwork"],function(e){return e.viewModel({namespace:"PaneBackground",initialize:function(){this.leftOffset=e.observable().receiveFrom("Pane","leftOffset"),this.leftTransform=e.observable().receiveFrom("Pane","leftTransform"),this.transition=e.observable().receiveFrom("Pane","transition"),this.width=e.observable().receiveFrom("Pane","width")}})}),define("text!app/template/pane/panebackground.html",[],function(){return'<div class="js-paneBackground pane-bg has-layout-trans"\r\n     data-bind="transition: transition,\r\n                 transform: leftTransform,\r\n                     style: {\r\n                       width: width,\r\n                       left: leftOffset\r\n                     }"></div>'}),define("app/viewModel/Header",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"Header",initialize:function(){var t=!0,r=!1,i=1,a=-1,o=0,s=160;this.headerMinHeight=e.observable().receiveFrom("Configuration","headerMinHeight"),this.headerMaxHeight=e.observable().receiveFrom("Configuration","headerMaxHeight"),this.headerBorderWidth=e.observable().receiveFrom("Configuration","headerBorderWidth"),this.headerContentMaxHeight=e.observable().receiveFrom("Configuration","headerContentMaxHeight"),this.autoHideHeader=e.observable().receiveFrom("Configuration","autoHideHeader"),this.defaultHeaderMaxHeight=e.observable().receiveFrom("Configuration","defaultHeaderMaxHeight"),this.viewPortScrollPosition=e.observable(0).receiveFrom("ViewPort","scrollPosition"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortIsMobile=e.observable().receiveFrom("ViewPort","isMobile"),this.viewPortHas3dTransforms=e.observable(!0).receiveFrom("ViewPort","has3dTransforms"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.paneCollapsed=e.observable().receiveFrom("Configuration","paneCollapsed"),this.paneMoving=e.observable().receiveFrom("Pane","moving"),this.navReflowing=e.observable().receiveFrom("Navigation","reflowing"),this.overlapPane=e.observable().receiveFrom("Body","overlapPane"),this.closable=e.computed(function(){return this.viewPortIsMobile()===!0||this.autoHideHeader()===!0},this),this.animate3d=e.computed(function(){return this.viewPortHas3dTransforms()===!0&&this.overlapPane()===!0},this),this.height=e.computed(function(){return Math.floor(this.headerMaxHeight()+this.headerBorderWidth())+"px"},this).broadcastAs("height"),this.closed=e.observable(!1).broadcastAs("closed",!0),this.closedTransform=e.computed(function(){return this.animate3d()===!0?this.closable()&&this.closed()?"translate3d(0px,-"+this.visibleHeight()+",0px)":"translate3d(0px,0px,0px)":"none"},this).broadcastAs("closedTransform"),this.visibleHeight=e.computed(function(){var e=this.headerMinHeight(),n=this.headerMaxHeight(),t=n-this.viewPortScrollPosition();return t=t>=e?t:e,t=n>=t?t:n,Math.floor(t+this.headerBorderWidth())+"px"},this).broadcastAs("visibleHeight"),this.sourceLinkVisibleMinHeight=e.observable(155).broadcastAs("sourceLinkVisibleMinHeight"),this.closePoint=e.computed(function(){return parseInt(this.height(),10)},this).broadcastAs("closePoint");var l=e.observable(!1).extend({debounce:{timeout:300,when:function(e){return e===!1}}});this.contentHeight=e.computed(function(){var e=this.headerContentMaxHeight(),n=parseInt(this.visibleHeight(),10);return n=n>=e?e:n,n-this.headerBorderWidth()+"px"},this).broadcastAs("contentHeight"),this.minHeight=e.computed(function(){return this.headerMinHeight()+this.headerBorderWidth()},this).broadcastAs("minHeight"),this.outerHeight=e.computed(function(){return this.headerBorderWidth()+parseInt(this.height(),10)+"px"},this).broadcastAs("outerHeight"),this.fixed=e.computed(function(){return this.headerMaxHeight()-this.viewPortScrollPosition()<this.headerMinHeight()},this).broadcastAs("fixed"),this.sourceLinkVisible=e.computed(function(){return parseInt(this.visibleHeight(),10)>=this.sourceLinkVisibleMinHeight()},this).broadcastAs("sourceLinkVisible"),this.pastClosePoint=e.computed(function(){return this.viewPortScrollPosition()>this.closePoint()},this).broadcastAs("pastClosePoint"),this.moving=l.extend({autoDisable:300}).broadcastAs("moving"),this.topOffset=e.computed(function(){return this.animate3d()===!1&&this.closed()===!0?"-"+this.visibleHeight():"0px"},this).broadcastAs("topOffset"),this.closed.subscribe(function(){this.moving(!0)},this),this.viewPortScrollPosition.subscribe(function(e){var l,c,u,d=this.closed(),p={direction:o,position:e,delta:0};if(this.viewPortIsMobile()===!0||this.overlapPane()&&this.paneCollapsed()===!1||this.paneMoving()===!0)return!1;if(this.closable()){if(this.pastClosePoint()===!1)return this.closed(r),!1;c=this._lastVector||n.extend({},p),u=this._lastVectorFlip||n.extend({},p),l={position:e,direction:e-c.position>=0?i:a,delta:Math.abs(u.position-e)},c.direction!==l.direction&&(this._lastVectorFlip=l,l.delta=0),l.delta>=s&&(l.direction===a?d=r:l.direction===i&&(d=t)),this.closed(d),this._lastVector=l}},this),this.fixed.subscribe(function(e){e===!1&&l.force(!1)},this),this.borderWidth=e.computed(function(){return this.headerBorderWidth()+"px"},this),this.sourceLinkHidden=e.computed(function(){return parseInt(this.visibleHeight(),10)<=this.headerContentMaxHeight()},this),this.headerStateCheck=e.computed(function(){var e=this.viewPortLayoutMode();"mobile"!==e?(!this.closable()||this.pastClosePoint()===!1&&this.paneMoving()===!1&&this.paneCollapsed()===!0)&&this.closed(!1):"mobile"===e&&this.closed(!0)},this)}})}),define("LoadProfile",["lodash","jquery","footwork"],function(e,n){return function(t){var r,i,a,o,s,l,c=[[[120,{point:25,duration:120}],[120,{point:35,duration:50}],[200,{point:55,duration:50}],[400,{point:80,duration:50}]],[[120,{point:25,duration:50}],[100,{point:35,duration:50}],[200,{point:65,duration:50}],[400,{point:80,duration:50}]],[[100,{point:30,duration:50}],[200,{point:35,duration:50}],[300,{point:50,duration:50}],[400,{point:80,duration:50}]]];t=e.extend({alwaysNewProfile:!0,adjustment:1,onStep:[],onStart:[],onEnd:[]},t);var u=function(e){var n=2;return"on"!==e.slice(0,n)&&(n=0),e=e.slice(n),"on"+e.charAt(0).toUpperCase()+e.slice(1)},d=function(n,r){e.each(t[u(n)],function(e){"function"==typeof e&&e(r)})},p=function(){var n;if(e.isUndefined(o)&&(o=0),(e.isUndefined(s)||e.isUndefined(s[o]))&&(s=i.shift(),o=0),e.isUndefined(s))d("end");else if(o<s.length){if(n=s[o],"number"==typeof n)n={duration:n};else if(e.isObject(n)===!1)throw"Invalid step definition ["+typeof n+"], can only accept number or object";l=setTimeout(p,Math.floor(n.duration*t.adjustment)),d("step",n),o++}};this.bind=function(e,n){var r=u(e);return t[r]instanceof Array&&t[r].push(n),this},this.unbind=function(n,r){var i=u(n);return e.isUndefined(t[i])||(t[i]=e.reject(t[i],function(e){return e===r})),this};var h=function(){s=void 0,o=void 0,a=0};this.start=function(){return h(),t.alwaysNewProfile&&this.chooseProfile(),i=this.getProfile(),clearTimeout(l),d("start"),p(),this},this.end=function(){clearTimeout(l),d("end",!0)},this.getProfile=function(){return n.extend(!0,[],r)},(this.chooseProfile=function(){return r=c[Math.floor(Math.random()*c.length)],h(),this})()}}),define("LoadState",["jquery","lodash","footwork","LoadProfile"],function(e,n,t,r){var i=!0,a=!1;return function(o){this.watchState=t.observable(),this.loading=t.observable(),this.message=t.observable("[*]"),this.oldState=t.observable(),this.failReason=t.observable(""),this.percentComplete=t.observable(0).extend({read:function(e){return e()+"%"}}),this.stepTransitionDuration=t.observable(0).extend({read:function(e){return e()+"ms"}}),this.stepTransition=t.computed(function(){var e=this.loading();return e===i?"opacity 0ms 20ms linear, width "+this.stepTransitionDuration()+" 0ms linear":"opacity 350ms 500ms linear, width "+this.stepTransitionDuration()+" 0ms linear"},this),n.isUndefined(o)||n.isUndefined(o.ignoreStatus)||o.ignoreStatus instanceof Array!=!1||(o.ignoreStatus=[o.ignoreStatus]),this.options=e.extend(!0,{speed:"normal-load",watchState:this.watchState,exportState:!1,ignoreStatus:[],showFailMessage:!0,messageStates:{ready:"[ready]",busy:"Loading...",success:"Done.",fail:"Error."}},o||{}),this.watchState=this.options.watchState;var s=100,l=(new r).bind("start",function(){this.stepTransitionDuration(0),setTimeout(function(){this.percentComplete(0)}.bind(this),0)}.bind(this)).bind("step",function(e){e.point&&(this.stepTransitionDuration(e.duration>s?e.duration:s),this.percentComplete(e.point))
}.bind(this)).bind("end",function(e){e&&this.percentComplete(100)}.bind(this));this.loading.subscribe(function(e){"function"==typeof this.options.exportState&&this.options.exportState(e),e===i?l.start():l.end()},this),this.loading.toggle=function(){this.loading(!this.loading())}.bind(this),this.loading(this.options.isLoading),this.state=t.computed(function(){var e=[];return"fail"===this.oldState()&&e.push("fail"),e.push(this.loading()?"loading":"loaded"),e.join(" ")},this);var c=function(e){var t=e;"object"==typeof e&&e.join&&(t=e.join(", "));var r="["+t+" - unknown state]";return n.each(this.options.messageStates,function(t,i){("string"==typeof e&&e===i||"object"==typeof e&&-1!==n.indexOf(e,i))&&(r="function"==typeof t?t(this.failReason()):this.options.showFailMessage===!0&&this.failReason().length?this.failReason():t)}.bind(this)),r}.bind(this),u=n.invert({busy:!0,success:!1});return this.setState=function(e){var t=e;switch(n.isUndefined(e)&&(e=this.oldState()),this.oldState(e),"boolean"==typeof e&&(e=u[e]),e){case"busy":case"then":this.loading(i);break;case"ready":case"success":case"done":this.loading(a);break;case"fail":break;default:throw"Unknown load bar state ["+t+"]."}this.message(c(e))},this.options.watchState.subscribe(this.setState,this),this.watch=function(e,n,t){var r=this,i=(new Date).getTime();this.loadTimer&&clearTimeout(this.loadTimer),t=t||function(){},n=n||0,"pending"===e.state()&&(this.loading(!1),this.setState("busy"));var a=function(e){var a=(new Date).getTime()-i;n>a?this.loadTimer=setTimeout(function(){r.setState(e),t()}.bind(this),n-a):r.setState(e)}.bind(this);return e.done(function(){this.failReason(""),a("success")}.bind(this)).fail(function(e){this.failReason("error"===e.statusText?"Unknown error":e.status),a(-1!==this.options.ignoreStatus.indexOf(e.status)?"success":"fail")}.bind(this))},this.setState("ready"),this}}),define("app/viewModel/Navigation",["jquery","lodash","footwork","LoadState"],function(e,n,t,r){return t.viewModel({namespace:"Navigation",initialize:function(){this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.configVisible=t.observable().receiveFrom("Configuration","visible"),this.headerMaxHeight=t.observable().receiveFrom("Configuration","headerMaxHeight"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed"),this.transitionsEnabled=t.observable().receiveFrom("Configuration","transitionsEnabled"),this.defaultHeaderMaxHeight=t.observable().receiveFrom("Configuration","defaultHeaderMaxHeight"),this.configReflowing=t.observable().receiveFrom("Configuration","reflowing"),this.headerFixed=t.observable().receiveFrom("Header","fixed"),this.headerContentHeight=t.computed(function(){return parseInt(this.headerContentHeight(),10)-1+"px"},{headerContentHeight:t.observable().receiveFrom("Header","contentHeight")}),this.toggleButtonMinHeight=t.observable().receiveFrom("Header","sourceLinkVisibleMinHeight"),this.sourceLinkVisible=t.observable().receiveFrom("Header","sourceLinkVisible"),this.loadBarTopPos=t.observable(0).receiveFrom("Header","visibleHeight"),this.headerMoving=t.observable(!1).receiveFrom("Header","moving"),this.offsetMargin=t.observable().receiveFrom("Pane","columnWidth"),this.paneAnimate3d=t.observable().receiveFrom("Pane","animate3d"),this.paneMoving=t.observable().receiveFrom("Pane","moving"),this.overlapPane=t.observable().receiveFrom("Body","overlapPane"),this.pageLoading=t.observable().receiveFrom("mainRouter","pageLoading"),this.reflowing=t.observable(!1).broadcastAs("reflowing"),this.headerOpen=t.observable(!1),this.loader=new r({ignoreStatus:404}),this.$globalNamespace.subscribe("configReset",function(){this.headerOpen(!1)}).context(this);var n=t.namespace("Page");n.subscribe("loadingPage",function(e){this.loader.watch(e,"mobile"===this.viewPortLayoutMode()?400:300,function(){this.$globalNamespace.publish("refreshDocSize")}.bind(this)).fail(function(e){404===e.status&&this.loader.setState("ready")}.bind(this))}).context(this),this.toggleHeader=function(){(this.paneAnimate3d()===!0&&this.paneMoving()===!0||this.configReflowing()===!0||this.headerMoving()===!0)==!1&&this.headerOpen(!this.headerOpen())}.bind(this),this.$namespace.subscribe("toggleHeader",function(){this.toggleHeader()}.bind(this)),this.dropHidden=t.computed(function(){return this.overlapPane()&&this.paneCollapsed()===!1},this),this.headerDropVisible=t.computed(function(){return this.headerFixed()===!0&&this.reflowing()===!1||this.overlapPane()&&this.paneCollapsed()===!1?!1:this.sourceLinkVisible()===!1||this.headerOpen()},this),this.headerOpen.subscribe(function(n){var t,r,i=this.toggleButtonMinHeight(),a=this.transitionsEnabled()?1e3:0;this._headerAnimation&&(this._oldHeaderHeight=this.defaultHeaderMaxHeight(),this._headerAnimation.stop()),this.reflowing(!0),n?(this._oldHeaderHeight=this.headerMaxHeight(),t=this._oldHeaderHeight,r=i):(t=this.headerMaxHeight(),r=this._oldHeaderHeight),this._headerAnimation=e({height:t}).animate({height:r},{duration:a,specialEasing:{height:"easeOutElastic"},step:function(e){this.headerMaxHeight(e)}.bind(this),complete:function(){this.reflowing(!1)}.bind(this)})}.bind(this)),this.arrowIcon=t.computed(function(){return this.headerOpen()&&"icon-arrow-up"||"icon-arrow-down"},this),this.dropInfoText=t.computed(function(){return this.headerOpen()?'Click to <strong>collapse</strong> the header. <span class="shortcut">ctrl + x</span>':'Click to <strong>expand</strong> the header. <span class="shortcut">ctrl + x</span>'},this)}})}),define("app/viewModel/Footer",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"Footer",initialize:function(){this.viewPortDim=e.observable().receiveFrom("ViewPort","dimensions"),this.bottomScrollPosition=e.observable().receiveFrom("ViewPort","bottomScrollPosition"),this.headerClosed=e.observable().receiveFrom("Header","closed"),this.columnWidth=e.observable(0).receiveFrom("Pane","columnWidth"),this.bodyHeight=e.observable(0).receiveFrom("Body","height"),this.viewPortIsMobile=e.observable().receiveFrom("Configuration","isMobile"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortNoTransitions=e.observable().receiveFrom("ViewPort","noTransitions"),this.paneCollapsed=e.observable().receiveFrom("Configuration","paneCollapsed"),this.paneShouldBeCollapsed=e.observable(!1).receiveFrom("Pane","shouldBeCollapsed"),this.paneDefaultSelection=e.observable().receiveFrom("PaneLinks","defaultSelection"),this.paneCurrentSelection=e.observable().receiveFrom("PaneLinks","currentSelection"),this.forceMobileLayout=e.observable(0).receiveFrom("ViewPort","forceMobileLayout"),this.height=e.observable(70).broadcastAs("height"),this.visibleHeight=e.computed(function(){var e=this.viewPortDim(),t=this.bodyHeight(),r=this.bottomScrollPosition();return!n.isUndefined(e)&&!n.isUndefined(r)&&r>=t-this.height()?r-(t-this.height()):0},this).broadcastAs("visibleHeight"),this.setMode=function(e,t){if(!this.forceMobileLayout()){this.viewPortNoTransitions(!0);var r="mobile"===t.target.getAttribute("data-mode");this.viewPortIsMobile(r),r?(this.paneCurrentSelection("NavMenu"),this.paneCollapsed(!0)):("mobile"!==this.viewPortLayoutMode()||"NavMenu"!==this.paneCurrentSelection()&&!n.isUndefined(this.paneCurrentSelection())||this.paneCurrentSelection("PageSections"),this.paneCollapsed(this.paneShouldBeCollapsed()),this.headerClosed(!1)),this._modeChanging&&clearTimeout(this._modeChanging),this._modeChanging=setTimeout(function(){this.viewPortNoTransitions(!1)}.bind(this),50)}}}})}),define("app/viewModel/BuildInfo",["footwork","lodash"],function(e,n){return e.viewModel({namespace:"BuildInfo",initialize:function(){n.extend(this,window.footworkBuild)}})}),define("text!../../pages/index-page.html",[],function(){return'<article id="js-page" class="page-code">\r\n  <a id="post1" class="section-anchor"></a>\r\n  <section name="post1">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <span class="sub title">Welcome to the footworkjs (<showversion></showversion>) documentation.</span>\r\n    </header>\r\n    <div class="content">\r\n      <contributors></contributors>\r\n    </div>\r\n  </section>\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "Documentation Index",\r\n  "description": "The source for documentation, tutorials, and more for footwork.js"\r\n}\r\n</div>'}),define("text!../../pages/not-found-page.html",[],function(){return'<article id="js-page" class="page-404">\r\n  <div class="error404">\r\n    <div class="title">404 - <span>Not Found</span>.</div>\r\n    <div class="message">I am sorry about this, but I can\'t seem to find what you are looking for.</div>\r\n  </div>\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "404",\r\n  "description": "Resource not found."\r\n}\r\n</div>'}),define("text!../../pages/build-page.html",[],function(){return'<article id="js-page" class="page-build-info">\r\n  <a id="buildInfo" class="section-anchor"></a>\r\n  <section name="buildInfo">\r\n    <div class="highlight"></div>\r\n    <viewModel module="BuildInfo">\r\n      <header>\r\n        <span class="sub title">Build Info - footwork v<span data-bind="text: version"></span></span>\r\n      </header>\r\n\r\n      <div data-bind="text: statement"></div>\r\n\r\n      <div class="content">\r\n        <div class="row">\r\n          <label>Version:</label>\r\n          <div class="content" data-bind="text: version"></div>\r\n        </div>\r\n        <div class="row">\r\n          <label>Build Timestamp:</label>\r\n          <div class="content" data-bind="text: timestamp"></div>\r\n        </div>\r\n\r\n        <contributors></contributors>\r\n      </div>\r\n    </viewModel>\r\n  </section>\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": \'Build Info\'\r\n}\r\n</div>'}),define("text!../../pages/annotated-page.html",[],function(){return'<div class="docco" data-bind="stopBinding: true">\r\n  <ul class="sections">\r\n      \r\n        \r\n        <li id="section-1" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="footwork-js">footwork.js</h2>\n\r\n            </div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-2" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>v0.8.0pre</p>\n<p>Copyright (c)2014 Jonathan Newman (<a href="http://staticty.pe">http://staticty.pe</a>).\nDistributed under MIT license</p>\n<p><a href="http://footworkjs.com">http://footworkjs.com</a></p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">/**\n * footwork.js - A solid footing for web applications.\n * Author: Jonathan Newman (http://staticty.pe)\n * Version: v0.8.0pre\n * Url: http://footworkjs.com\n * License(s): MIT\n */</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-3" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="main-js">main.js</h2>\n\r\n            </div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-4" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Map ko to the variable fw internally to make it clear this is the footwork flavored version of knockout we are dealing with.\nFootwork will also map itself to fw on the global object when no script loader is used.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var fw = ko;</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-5" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Record the footwork version as of this build.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.footworkVersion = \'0.8.0pre\';</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-6" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Expose any embedded dependencies</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.embed = embedded;</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-7" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>misc regex patterns</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var hasTrailingSlash = /\\/$/i;\r\nvar hasStartingSlash = /^\\//i;</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-8" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>misc utility functions</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var noop = function() { };\r\n\r\nvar isObservable = fw.isObservable;\r\n\r\nfunction isPath(pathOrFile) {\r\n  return hasTrailingSlash.test(pathOrFile);\r\n};\r\n\r\nfunction hasPathStart(path) {\r\n  return hasStartingSlash.test(path);\r\n};\r\n\r\nfunction hasClass(element, className) {\r\n  return element.className.match( new RegExp(\'(\\\\s|^)\' + className + \'(\\\\s|$)\') );\r\n}\r\n\r\nfunction addClass(element, className) {\r\n  if( !hasClass(element, className) ) {\r\n    element.className += (element.className.length ? \' \' : \'\') + className;\r\n  }\r\n}\r\n\r\nfunction removeClass(element, className) {\r\n  if( hasClass(element, className) ) {\r\n    var classNameRegex = new RegExp(\'(\\\\s|^)\' + className + \'(\\\\s|$)\');\r\n    element.className = element.className.replace(classNameRegex, \' \');\r\n  }\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-9" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Pull out lodash utility function references for better minification and easier implementation swap</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var isFunction = _.isFunction;\r\nvar isObject = _.isObject;\r\nvar isString = _.isString;\r\nvar isBoolean = _.isBoolean;\r\nvar isNumber = _.isNumber;\r\nvar isUndefined = _.isUndefined;\r\nvar isArray = _.isArray;\r\nvar isNull = _.isNull;\r\nvar contains = _.contains;\r\nvar extend = _.extend;\r\nvar pick = _.pick;\r\nvar each = _.each;\r\nvar filter = _.filter;\r\nvar bind = _.bind;\r\nvar invoke = _.invoke;\r\nvar clone = _.clone;\r\nvar reduce = _.reduce;\r\nvar has = _.has;\r\nvar where = _.where;\r\nvar result = _.result;\r\nvar uniqueId = _.uniqueId;\r\nvar map = _.map;\r\nvar find = _.find;\r\nvar omit = _.omit;\r\nvar indexOf = _.indexOf;\r\nvar values = _.values;\r\nvar reject = _.reject;\r\nvar findWhere = _.findWhere;\r\nvar once = _.once;\r\nvar last = _.last;</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-10" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Internal registry which stores the mixins that are automatically added to each viewModel</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var viewModelMixins = [];</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-11" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>parseUri() originally sourced from: <a href="http://blog.stevenlevithan.com/archives/parseuri">http://blog.stevenlevithan.com/archives/parseuri</a></p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function parseUri(str) {\r\n  var options = parseUri.options;\r\n  var matchParts = options.parser[ options.strictMode ? "strict" : "loose" ].exec(str);\r\n  var uri = {};\r\n  var i = 14;\r\n\r\n  while (i--) {\r\n    uri[ options.key[i] ] = matchParts[i] || "";\r\n  }\r\n\r\n  uri[ options.q.name ] = {};\r\n  uri[ options.key[12] ].replace(options.q.parser, function ($0, $1, $2) {\r\n    if($1) {\r\n      uri[options.q.name][$1] = $2;\r\n    }\r\n  });\r\n\r\n  return uri;\r\n};\r\n\r\nparseUri.options = {\r\n  strictMode: false,\r\n  key: ["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],\r\n  q: {\r\n    name:   "queryKey",\r\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g\r\n  },\r\n  parser: {\r\n    strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\r\n    loose:  /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\r\n  }\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-12" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="namespace-js">namespace.js</h2>\n\r\n            </div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-13" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>This counter is used when model options { autoIncrement: true } and more than one model\nhaving the same namespace is instantiated. This is used in the event you do not want\nmultiple copies of the same model to share the same namespace (if they do share a\nnamespace, they receive all of the same events/messages/commands/etc).</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var namespaceNameCounter = {};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-14" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Prepare an empty namespace stack.\nThis is where footwork registers its current working namespace name. Each new namespace is\nunshifted and shifted as they are entered and exited, keeping the most current at\nindex 0.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var namespaceStack = [];</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-15" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Returns a normalized namespace name based off of name. It will register the name counter\nif not present and increment it if it is, then return the name (with the counter appended\nif autoIncrement === true and the counter is &gt; 0).</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function indexedNamespaceName(name, autoIncrement) {\r\n  if( isUndefined(namespaceNameCounter[name]) ) {\r\n    namespaceNameCounter[name] = 0;\r\n  } else {\r\n    namespaceNameCounter[name]++;\r\n  }\r\n  return name + (autoIncrement === true ? namespaceNameCounter[name] : \'\');\r\n}\r\n\r\nfunction createEnvelope(topic, data, expires) {\r\n  var envelope = {\r\n    topic: topic,\r\n    data: data\r\n  };\r\n\r\n  if( !isUndefined(expires) ) {\r\n    envelope.headers = { preserve: true };\r\n    if(expires instanceof Date) {\r\n      envelope.expires = expires;\r\n    }\r\n  }\r\n  \r\n  return envelope;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-16" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Method used to trigger an event on a namespace</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function triggerEventOnNamespace(eventKey, params, expires) {\r\n  this.publish( createEnvelope(\'event.\' + eventKey, params, expires) );\r\n  return this;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-17" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Method used to register an event handler on a namespace</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function registerNamespaceEventHandler(eventKey, callback, context) {\r\n  if( !isUndefined(context) ) {\r\n    callback = callback.bind(context);\r\n  }\r\n\r\n  var handlerSubscription = this.subscribeToTopic(\'event.\' + eventKey, callback).enlistPreserved();\r\n  this.eventHandlers.push(handlerSubscription);\r\n\r\n  return handlerSubscription;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-18" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Method used to unregister an event handler on a namespace</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function unregisterNamespaceHandler(handlerSubscription) {\r\n  handlerSubscription.unsubscribe();\r\n  return this;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-19" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Method used to send a command to a namespace</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function sendCommandToNamespace(commandKey, params, expires) {\r\n  this.publish( createEnvelope(\'command.\' + commandKey, params, expires) );\r\n  return this;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-20" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Method used to register a command handler on a namespace</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function registerNamespaceCommandHandler(commandKey, callback, context) {\r\n  if( !isUndefined(context) ) {\r\n    callback = callback.bind(context);\r\n  }\r\n\r\n  var handlerSubscription = this.subscribeToTopic(\'command.\' + commandKey, callback).enlistPreserved();\r\n  this.commandHandlers.push(handlerSubscription);\r\n\r\n  return handlerSubscription;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-21" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Method used to issue a request for data from a namespace, returning the response (or undefined if no response)\nThis method will return an array of responses if more than one is received.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function requestResponseFromNamespace(requestKey, params, allowMultipleResponses) {\r\n  var response = undefined;\r\n  var responseSubscription;\r\n\r\n  responseSubscription = this.subscribeToTopic(\'request.\' + requestKey + \'.response\', function(reqResponse) {\r\n    if( isUndefined(response) ) {\r\n      response = allowMultipleResponses ? [reqResponse] : reqResponse;\r\n    } else if(allowMultipleResponses) {\r\n      response.push(reqResponse);\r\n    }\r\n  });\r\n\r\n  this.publish( createEnvelope(\'request.\' + requestKey, params) );\r\n  responseSubscription.unsubscribe();\r\n\r\n  return response;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-22" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Method used to register a request handler on a namespace.\nRequests sent using the specified requestKey will be called and passed in any params specified, the return value is passed back to the issuer</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function registerNamespaceRequestHandler(requestKey, callback, context) {\r\n  if( !isUndefined(context) ) {\r\n    callback = callback.bind(context);\r\n  }\r\n\r\n  var requestHandler = function(params) {\r\n    var callbackResponse = callback(params);\r\n    this.publish( createEnvelope(\'request.\' + requestKey + \'.response\', callbackResponse) );\r\n  }.bind(this);\r\n\r\n  var handlerSubscription = this.subscribeToTopic(\'request.\' + requestKey, requestHandler);\r\n  this.requestHandlers.push(handlerSubscription);\r\n\r\n  return handlerSubscription;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-23" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>This effectively shuts down all requests, commands, events, and subscriptions by unsubscribing all handlers on a discreet namespace object</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function disconnectNamespaceHandlers() {\r\n  var namespace = this;\r\n  each([\'requestHandlers\', \'commandHandlers\', \'eventHandlers\', \'subscriptions\'], function(handlers) {\r\n    invoke(namespace[handlers], \'unsubscribe\');\r\n  });\r\n  return this;\r\n}\r\n\r\nfunction getNamespaceName() {\r\n  return this.channel;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-24" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Creates and returns a new namespace instance</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var makeNamespace = fw.namespace = function(namespaceName, $parentNamespace) {\r\n  if( !isUndefined($parentNamespace) ) {\r\n    if( isString($parentNamespace) ) {\r\n      namespaceName = $parentNamespace + \'.\' + namespaceName;\r\n    } else if( !isUndefined($parentNamespace.channel) ) {\r\n      namespaceName = $parentNamespace.channel + \'.\' + namespaceName;\r\n    }\r\n  }\r\n  var namespace = postal.channel(namespaceName);\r\n\r\n  var subscriptions = namespace.subscriptions = [];\r\n  var subscribeToTopic = namespace.subscribeToTopic = namespace.subscribe;\r\n  namespace.subscribe = function(topic, callback) {\r\n    var subscription = subscribeToTopic.call(namespace, topic, callback);\r\n    subscriptions.push( subscription );\r\n    return subscription;\r\n  };\r\n  namespace.unsubscribe = unregisterNamespaceHandler;\r\n\r\n  namespace.__isNamespace = true;\r\n  namespace.dispose = disconnectNamespaceHandlers.bind(namespace);\r\n\r\n  namespace.commandHandlers = [];\r\n  namespace.command = sendCommandToNamespace.bind(namespace);\r\n  namespace.command.handler = registerNamespaceCommandHandler.bind(namespace);\r\n  namespace.command.unregister = unregisterNamespaceHandler;\r\n\r\n  namespace.requestHandlers = [];\r\n  namespace.request = requestResponseFromNamespace.bind(namespace);\r\n  namespace.request.handler = registerNamespaceRequestHandler.bind(namespace);\r\n  namespace.request.unregister = unregisterNamespaceHandler;\r\n\r\n  namespace.eventHandlers = [];\r\n  namespace.event = namespace.trigger = triggerEventOnNamespace.bind(namespace);\r\n  namespace.event.handler = registerNamespaceEventHandler.bind(namespace);\r\n  namespace.event.unregister = unregisterNamespaceHandler;\r\n\r\n  namespace.getName = getNamespaceName.bind(namespace);\r\n  namespace.enter = function() {\r\n    return enterNamespace( this );\r\n  };\r\n  namespace.exit = function() {\r\n    if( currentNamespaceName() === this.getName() ) {\r\n      return exitNamespace();\r\n    }\r\n  };\r\n\r\n  return namespace;\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-25" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Duck type check for a namespace object</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var isNamespace = fw.isNamespace = function(thing) {\r\n  return !isUndefined(thing) && !!thing.__isNamespace;\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-26" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Return the current namespace name.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var currentNamespaceName = fw.currentNamespaceName = function() {\r\n  return namespaceStack[0];\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-27" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Return the current namespace channel.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var currentNamespace = fw.currentNamespace = function() {\r\n  return makeNamespace( currentNamespaceName() );\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-28" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>enterNamespaceName() adds a namespaceName onto the namespace stack at the current index, \nentering into that namespace (it is now the currentNamespace).\nThe namespace object returned from this method also has a pointer to its parent</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var enterNamespaceName = fw.enterNamespaceName = function(namespaceName) {\r\n  var $parentNamespace = currentNamespace();\r\n  namespaceStack.unshift( namespaceName );\r\n  return makeNamespace( currentNamespaceName() );\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-29" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>enterNamespace() uses a current namespace definition as the one to enter into.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var enterNamespace = fw.enterNamespace = function(namespace) {\r\n  namespaceStack.unshift( namespace.getName() );\r\n  return namespace;\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-30" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Called at the after a model constructor function is run. exitNamespace()\nwill shift the current namespace off of the stack, exiting to the\nnext namespace in the stack</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var exitNamespace = fw.exitNamespace = function() {\r\n  namespaceStack.shift();\r\n  return currentNamespace();\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-31" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>mixin provided to viewModels which enables namespace capabilities including pub/sub, cqrs, etc</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">viewModelMixins.push({\r\n  runBeforeInit: true,\r\n  _preInit: function( options ) {\r\n    var $configParams = this.__getConfigParams();\r\n    this.$namespace = enterNamespaceName( indexedNamespaceName($configParams.namespace || $configParams.name || _.uniqueId(\'namespace\'), $configParams.autoIncrement) );\r\n    this.$globalNamespace = makeNamespace();\r\n  },\r\n  mixin: {\r\n    getNamespaceName: function() {\r\n      return this.$namespace.getName();\r\n    }\r\n  },\r\n  _postInit: function( options ) {\r\n    exitNamespace();\r\n  }\r\n});\r\nvar $globalNamespace = makeNamespace();</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-32" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>start up footwork at the targetElement (or document.body by default)</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.start = function(targetElement) {\r\n  targetElement = targetElement || windowObject.document.body;\r\n  originalApplyBindings({}, targetElement);\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-33" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>dispose a known property type</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function propertyDisposal( property, name ) {\r\n  if( (isNamespace(property) || isRouter(property) || isBroadcastable(property) || isReceivable(property) || isObservable(property)) && isFunction(property.dispose) ) {\r\n    property.dispose();  \r\n  }\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-34" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="broadcast-receive-js">broadcast-receive.js</h2>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function isReceivable(thing) {\r\n  return isObject(thing) && !!thing.__isReceivable;\r\n}\r\n\r\nfunction isBroadcastable(thing) {\r\n  return isObject(thing) && !!thing.__isBroadcastable;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-35" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>factory method which turns an observable into a receivable</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.subscribable.fn.receiveFrom = function(namespace, variable) {\r\n  var target = this;\r\n  var observable = this;\r\n  var namespaceSubscriptions = [];\r\n  var isLocalNamespace = false;\r\n\r\n  if( isString(namespace) ) {\r\n    namespace = makeNamespace( namespace );\r\n    isLocalNamespace = true;\r\n  }\r\n\r\n  if( !isNamespace(namespace) ) {\r\n    throw \'Invalid namespace provided for receiveFrom() observable.\';\r\n  }\r\n\r\n  observable = fw.computed({\r\n    read: target,\r\n    write: function( value ) {\r\n      namespace.publish( \'__change.\' + variable, value );\r\n    }\r\n  });\r\n\r\n  observable.refresh = function() {\r\n    namespace.publish( \'__refresh.\' + variable );\r\n    return this;\r\n  };\r\n\r\n  namespaceSubscriptions.push( namespace.subscribe( variable, function( newValue ) {\r\n    target( newValue );\r\n  }) );\r\n\r\n  var observableDispose = observable.dispose;\r\n  observable.dispose = observable.dispose = function() {\r\n    invoke(namespaceSubscriptions, \'unsubscribe\');\r\n    if( isLocalNamespace ) {\r\n      namespace.dispose();\r\n    }\r\n    observableDispose.call(observable);\r\n  };\r\n\r\n  observable.__isReceivable = true;\r\n  return observable.refresh();\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-36" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>factory method which turns an observable into a broadcastable</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.subscribable.fn.broadcastAs = function(varName, option) {\r\n  var observable = this;\r\n  var namespace;\r\n  var subscriptions = [];\r\n  var namespaceSubscriptions = [];\r\n  var isLocalNamespace = false;\r\n\r\n  if( isObject(varName) ) {\r\n    option = varName;\r\n  } else {\r\n    if( isBoolean(option) ) {\r\n      option = {\r\n        name: varName,\r\n        writable: option\r\n      };\r\n    } else if( isObject(option) ) {\r\n      option = extend({\r\n        name: varName\r\n      }, option);\r\n    } else {\r\n      option = {\r\n        name: varName\r\n      };\r\n    }\r\n  }\r\n\r\n  namespace = option.namespace || currentNamespace();\r\n  if( isString(namespace) ) {\r\n    namespace = makeNamespace(namespace);\r\n    isLocalNamespace = true;\r\n  }\r\n\r\n  if( !isNamespace(namespace) ) {\r\n    throw \'Invalid namespace provided for broadcastAs() observable.\';\r\n  }\r\n\r\n  if( option.writable ) {\r\n    namespaceSubscriptions.push( namespace.subscribe( \'__change.\' + option.name, function( newValue ) {\r\n      observable( newValue );\r\n    }) );\r\n  }\r\n\r\n  observable.broadcast = function() {\r\n    namespace.publish( option.name, observable() );\r\n    return this;\r\n  };\r\n\r\n  namespaceSubscriptions.push( namespace.subscribe( \'__refresh.\' + option.name, function() {\r\n    namespace.publish( option.name, observable() );\r\n  }) );\r\n  subscriptions.push( observable.subscribe(function( newValue ) {\r\n    namespace.publish( option.name, newValue );\r\n  }) );\r\n\r\n  observable.dispose = observable.dispose = function() {\r\n    invoke(namespaceSubscriptions, \'unsubscribe\');\r\n    invoke(subscriptions, \'dispose\');\r\n    if( isLocalNamespace ) {\r\n      namespace.dispose();\r\n    }\r\n  };\r\n\r\n  observable.__isBroadcastable = true;\r\n  return observable.broadcast();\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-37" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="router-js">router.js</h2>\n\r\n            </div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-38" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Predicate function that always returns true / pass</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var alwaysPassPredicate = function() { return true; };\r\n\r\nvar emptyStringResult = function() { return \'\'; };\r\n\r\nvar routerDefaultConfig = {\r\n  namespace: \'$router\',\r\n  baseRoute: null,\r\n  isRelative: true,\r\n  activate: true,\r\n  routes: []\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-39" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Regular expressions used to parse a uri</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var optionalParamRegex = /\\((.*?)\\)/g;\r\nvar namedParamRegex = /(\\(\\?)?:\\w+/g;\r\nvar splatParamRegex = /\\*\\w*/g;\r\nvar escapeRegex = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\r\nvar hashMatchRegex = /(^\\/#)/;\r\nvar isFullURLRegex = /(^[a-z]+:\\/\\/|^\\/\\/)/i;\r\nvar routesAreCaseSensitive = true;\r\n\r\nvar invalidRoutePathIdentifier = \'___invalid-route\';\r\n\r\nvar $nullRouter = extend({}, $baseRouter, {\r\n  childRouters: extend( noop.bind(), { push: noop } ),\r\n  path: function() { return \'\'; },\r\n  isRelative: function() { return false; },\r\n  __isNullRouter: true\r\n});\r\n\r\nvar $baseRouter = {\r\n  path: emptyStringResult,\r\n  segment: emptyStringResult,\r\n  childRouters: fw.observableArray(),\r\n  context: noop,\r\n  __isRouter: true\r\n};\r\n\r\nvar baseRoute = {\r\n  controller: noop,\r\n  indexedParams: [],\r\n  namedParams: {},\r\n  __isRoute: true\r\n};\r\n\r\nvar baseRouteDescription = {\r\n  filter: alwaysPassPredicate,\r\n  __isRouteDesc: true\r\n};\r\n\r\nfunction transformRouteConfigToDesc(routeDesc) {\r\n  return extend({ id: uniqueId(\'route\') }, baseRouteDescription, routeDesc );\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-40" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Convert a route string to a regular expression which is then used to match a uri against it and determine\nwhether that uri matches the described route as well as parse and retrieve its tokens</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function routeStringToRegExp(routeString) {\r\n  routeString = routeString\r\n    .replace(escapeRegex, "\\\\$&")\r\n    .replace(optionalParamRegex, "(?:$1)?")\r\n    .replace(namedParamRegex, function(match, optional) {\r\n      return optional ? match : "([^\\/]+)";\r\n    })\r\n    .replace(splatParamRegex, "(.*?)");\r\n\r\n  return new RegExp(\'^\' + routeString + (routeString !== \'/\' ? \'(\\\\/.*)*$\' : \'$\'), routesAreCaseSensitive ? undefined : \'i\');\r\n}\r\n\r\nfunction historyIsReady() {\r\n  var isReady = has(History, \'Adapter\');\r\n  if(isReady && isUndefined(History.Adapter.unbind)) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-41" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>why .unbind() is not already present in History.js is beyond me</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">History.Adapter.unbind = function(callback) {\r\n      each(History.Adapter.handlers, function(handler) {\r\n        handler.statechange = filter(handler.statechange, function(stateChangeHandler) {\r\n          return stateChangeHandler !== callback;\r\n        });\r\n      });\r\n    };\r\n  }\r\n  return isReady;\r\n}\r\n\r\nfunction isNullRouter(thing) {\r\n  return isObject(thing) && !!thing.__isNullRouter;\r\n}\r\n\r\nfunction isRouter(thing) {\r\n  return isObject(thing) && !!thing.__isRouter;\r\n}\r\n\r\nfunction isRoute(thing) {\r\n  return isObject(thing) && !!thing.__isRoute;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-42" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Recursive function which will locate the nearest $router from a given ko $context\n(travels up through $parentContext chain to find the router if not found on the\nimmediate $context). Returns $nullRouter if none is found.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function nearestParentRouter($context) {\r\n  var $parentRouter = $nullRouter;\r\n  if( isObject($context) ) {\r\n    if( isObject($context.$data) && isRouter($context.$data.$router) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-43" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>found router in this context</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">$parentRouter = $context.$data.$router;\r\n    } else if( isObject($context.$parentContext) || (isObject($context.$data) && isObject($context.$data.$parentContext)) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-44" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>search through next parent up the chain</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">$parentRouter = nearestParentRouter( $context.$parentContext || $context.$data.$parentContext );\r\n    }\r\n  }\r\n  return $parentRouter;\r\n}\r\n\r\nvar noComponentSelected = \'_noComponentSelected\';\r\nvar $routerOutlet = function(outletName, componentToDisplay, options ) {\r\n  options = options || {};\r\n  if( isFunction(options) ) {\r\n    options = { onComplete: options };\r\n  }\r\n  \r\n  var viewModelParameters = options.params;\r\n  var onComplete = options.onComplete;\r\n  var outlets = this.outlets;\r\n\r\n  outletName = fw.unwrap( outletName );\r\n  if( !isObservable(outlets[outletName]) ) {\r\n    outlets[outletName] = fw.observable({\r\n      name: noComponentSelected,\r\n      params: {},\r\n      __getOnCompleteCallback: function() { return noop; }\r\n    });\r\n  }\r\n\r\n  var outlet = outlets[outletName];\r\n  var currentOutletDef = outlet();\r\n  var valueHasMutated = false;\r\n  var isInitialLoad = outlet().name === noComponentSelected;\r\n\r\n  if( !isUndefined(componentToDisplay) ) {\r\n    currentOutletDef.name = componentToDisplay;\r\n    valueHasMutated = true;\r\n  }\r\n\r\n  if( !isUndefined(viewModelParameters) ) {\r\n    currentOutletDef.params = viewModelParameters;\r\n    valueHasMutated = true;\r\n  }\r\n\r\n  if( valueHasMutated ) {\r\n    if( isFunction(onComplete) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-45" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Return the onComplete callback once the DOM is injected in the page.\nFor some reason, on initial outlet binding only calls update once. Subsequent\nchanges get called twice (correct per docs, once upon initial binding, and once\nupon injection into the DOM). Perhaps due to usage of virtual DOM for the component?</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var callCounter = (isInitialLoad ? 0 : 1);\r\n\r\n      currentOutletDef.__getOnCompleteCallback = function() {\r\n        var isComplete = callCounter === 0;\r\n        callCounter--;\r\n        if( isComplete ) {\r\n          return onComplete;\r\n        }\r\n        return noop;\r\n      };\r\n    } else {\r\n      currentOutletDef.__getOnCompleteCallback = function() {\r\n        return noop;\r\n      };\r\n    }\r\n\r\n    outlet.valueHasMutated();\r\n  }\r\n\r\n  return outlet;\r\n};\r\n\r\nfw.outlets = {\r\n  registerView: function(viewName, templateHTML) {\r\n    registerComponent(viewName, { template: templateHTML });\r\n  },\r\n  registerViewLocation: function(viewName, viewLocation) {\r\n    registerLocationOfComponent(viewName, { template: viewLocation })\r\n    registerComponentAsTemplateOnly(viewName);\r\n  }\r\n};\r\n\r\nvar isFullURL = fw.isFullURL = function(thing) {\r\n  return isString(thing) && isFullURLRegex.test(thing);\r\n};\r\n\r\nvar fwRouters = fw.routers = {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-46" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Configuration point for a baseRoute / path which will always be stripped from the URL prior to processing the route</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">baseRoute: fw.observable(\'\'),\r\n  activeRouteClassName: fw.observable(\'active\'),\r\n  disableHistory: fw.observable(false).broadcastAs({ name: \'disableHistory\', namespace: $globalNamespace }),\r\n\r\n  getNearestParent: function($context) {\r\n    var $parentRouter = nearestParentRouter($context);\r\n    return (!isNullRouter($parentRouter) ? $parentRouter : null);\r\n  },</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-47" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Return array of all currently instantiated $routers (optionally for a given viewModelNamespaceName)</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">getAll: function(viewModelNamespaceName) {\r\n    if( !isUndefined(viewModelNamespaceName) && !isArray(viewModelNamespaceName) ) {\r\n      viewModelNamespaceName = [ viewModelNamespaceName ];\r\n    }\r\n\r\n    return reduce( $globalNamespace.request(\'__router_reference\', undefined, true), function(routers, router) {\r\n      var namespaceName = isNamespace(router.$namespace) ? router.$namespace.getName() : null;\r\n      if( !isUndefined(router.$viewModel) ) {\r\n        namespaceName = router.$viewModel.$namespace.getName();\r\n      }\r\n\r\n      if( !isNull(namespaceName) ) {\r\n        if( isUndefined(viewModelNamespaceName) || contains(viewModelNamespaceName, namespaceName) ) {\r\n          if( isUndefined(routers[namespaceName]) ) {\r\n            routers[namespaceName] = router;\r\n          } else {\r\n            if( !isArray(routers[namespaceName]) ) {\r\n              routers[namespaceName] = [ routers[namespaceName] ];\r\n            }\r\n            routers[namespaceName].push(router);\r\n          }\r\n        }\r\n      }\r\n      return routers;\r\n    }, {});\r\n  }\r\n};\r\n\r\nfw.router = function( routerConfig, $viewModel, $context ) {\r\n  return new Router( routerConfig, $viewModel, $context );\r\n};\r\n\r\nfw.bindingHandlers.$route = {\r\n  init: function(element, valueAccessor, allBindings, viewModel, bindingContext) {\r\n    var $myRouter = nearestParentRouter(bindingContext);\r\n    var urlValue = valueAccessor();\r\n    var elementIsSetup = false;\r\n    var stateTracker = null;\r\n\r\n    var routeHandlerDescription = {\r\n      on: \'click\',\r\n      url: function defaultURLForRoute() { return null; },\r\n      handler: function defaultHandlerForRoute(event, url) {\r\n        if( !isFullURL(url) && event.which !== 2 ) {\r\n          event.preventDefault();\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    };\r\n\r\n    if( isObservable(urlValue) || isFunction(urlValue) || isString(urlValue) ) {\r\n      routeHandlerDescription.url = urlValue;\r\n    } else if( isObject(urlValue) ) {\r\n      extend(routeHandlerDescription, urlValue);\r\n    } else if( !urlValue ) {\r\n      routeHandlerDescription.url = element.getAttribute(\'href\');\r\n    } else {\r\n      throw \'Unknown type of url value provided to $route [\' + typeof urlValue + \']\';\r\n    }\r\n\r\n    var routeHandlerDescriptionURL = routeHandlerDescription.url;\r\n    if( !isFunction(routeHandlerDescriptionURL) ) {\r\n      routeHandlerDescription.url = function() { return routeHandlerDescriptionURL; };\r\n    }\r\n\r\n    function getRouteURL(includeParentPath) {\r\n      var parentRoutePath = \'\';\r\n      var routeURL = routeHandlerDescription.url();\r\n      var myLinkPath = routeURL || element.getAttribute(\'href\') || \'\';\r\n\r\n      if(!isNull(routeURL)) {\r\n        if( isUndefined(routeURL) ) {\r\n          routeURL = myLinkPath;\r\n        }\r\n\r\n        if( !isFullURL(myLinkPath) ) {\r\n          if( !hasPathStart(myLinkPath) ) {\r\n            myLinkPath = \'/\' + myLinkPath;\r\n          }\r\n\r\n          if( includeParentPath && !isNullRouter($myRouter) ) {\r\n            myLinkPath = $myRouter.parentRouter().path() + myLinkPath;\r\n          }\r\n        }\r\n\r\n        return myLinkPath;\r\n      }\r\n\r\n      return null;\r\n    };\r\n    var routeURLWithParentPath = getRouteURL.bind(null, true);\r\n    var routeURLWithoutParentPath = getRouteURL.bind(null, false);\r\n\r\n    function checkForMatchingSegment(mySegment, newRoute) {\r\n      var activeRouteClassName = fwRouters.activeRouteClassName();\r\n      if(mySegment === \'/\') {\r\n        mySegment = \'\';\r\n      }\r\n      \r\n      if(!isNull(newRoute) && newRoute.segment === mySegment && isString(activeRouteClassName) && activeRouteClassName.length) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-48" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>newRoute.segment is the same as this routers segmentadd the activeRouteClassName to the element to indicate it is active</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">addClass(element, activeRouteClassName);\r\n      } else if( hasClass(element, activeRouteClassName) ) {\r\n        removeClass(element, activeRouteClassName);\r\n      }\r\n    };\r\n\r\n    function setUpElement() {\r\n      var myCurrentSegment = routeURLWithoutParentPath();\r\n      if( element.tagName.toLowerCase() === \'a\' ) {\r\n        element.href = routeURLWithParentPath();\r\n      }\r\n\r\n      if( isObject(stateTracker) ) {\r\n        stateTracker.dispose();\r\n      }\r\n      stateTracker = $myRouter.currentRoute.subscribe( checkForMatchingSegment.bind(null, myCurrentSegment) );\r\n\r\n      if(elementIsSetup === false) {\r\n        elementIsSetup = true;\r\n        checkForMatchingSegment(myCurrentSegment, $myRouter.currentRoute());\r\n        fw.utils.registerEventHandler(element, routeHandlerDescription.on, function(event) {\r\n          var currentRouteURL = routeURLWithoutParentPath();\r\n          var handlerResult = routeHandlerDescription.handler.call(viewModel, event, currentRouteURL);\r\n          if( handlerResult ) {\r\n            if( isString(handlerResult) ) {\r\n              currentRouteURL = handlerResult;\r\n            }\r\n            if( isString(currentRouteURL) && !isFullURL( currentRouteURL ) ) {\r\n              $myRouter.setState( currentRouteURL );\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    if( isObservable(routeHandlerDescription.url) ) {\r\n      $myRouter.subscriptions.push( routeHandlerDescription.url.subscribe(setUpElement) );\r\n    }\r\n    setUpElement();\r\n\r\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n      if( isObject(stateTracker) ) {\r\n        stateTracker.dispose();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nvar Router = function( routerConfig, $viewModel, $context ) {\r\n  extend(this, $baseRouter);\r\n  var subscriptions = this.subscriptions = [];\r\n  var viewModelNamespaceName;\r\n\r\n  if( isViewModel($viewModel) ) {\r\n    viewModelNamespaceName = $viewModel.getNamespaceName();\r\n  }\r\n\r\n  var $globalNamespace = this.$globalNamespace = makeNamespace();\r\n  this.id = uniqueId(\'router\');\r\n  this.$namespace = makeNamespace( routerConfig.namespace || (viewModelNamespaceName + \'Router\') );\r\n  this.$namespace.enter();\r\n  this.$namespace.command.handler(\'setState\', this.setState, this);\r\n  this.$namespace.request.handler(\'currentRoute\', function() { return this.currentRoute(); }, this);\r\n  this.$namespace.request.handler(\'urlParts\', function() { return this.urlParts(); }, this);\r\n\r\n  this.$viewModel = $viewModel;\r\n  this.urlParts = fw.observable();\r\n  this.childRouters = fw.observableArray();\r\n  this.parentRouter = fw.observable($nullRouter);\r\n  this.context = fw.observable();\r\n  this.historyIsEnabled = fw.observable(false);\r\n  this.disableHistory = fw.observable().receiveFrom($globalNamespace, \'disableHistory\');\r\n  this.currentState = fw.observable(\'\').broadcastAs(\'currentState\');\r\n  this.config = routerConfig = extend({}, routerDefaultConfig, routerConfig);\r\n  this.config.baseRoute = fw.routers.baseRoute() + (result(routerConfig, \'baseRoute\') || \'\');\r\n\r\n  this.isRelative = fw.computed(function() {\r\n    return routerConfig.isRelative && !isNullRouter( this.parentRouter() );\r\n  }, this);\r\n  \r\n  this.currentRoute = fw.computed(function() {\r\n    return this.getRouteForURL( this.normalizeURL(this.currentState()) );\r\n  }, this);\r\n  \r\n  this.path = fw.computed(function() {\r\n    var currentRoute = this.currentRoute();\r\n    var parentRouter = this.parentRouter();\r\n    var routePath = this.parentRouter().path();\r\n\r\n    if( isRoute(currentRoute) ) {\r\n      routePath = routePath + currentRoute.segment;\r\n    }\r\n    return routePath;\r\n  }, this);\r\n\r\n  var $previousParent = $nullRouter;\r\n  subscriptions.push(this.parentRouter.subscribe(function( $parentRouter ) {\r\n    if( !isNullRouter($previousParent) && $previousParent !== $parentRouter ) {\r\n      $previousParent.childRouters.remove(this);\r\n    }\r\n    $parentRouter.childRouters.push(this);\r\n    $previousParent = $parentRouter;\r\n  }, this));</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-49" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Automatically trigger the new Action() whenever the currentRoute() updates</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">subscriptions.push( this.currentRoute.subscribe(function getActionForRouteAndTrigger( newRoute ) {\r\n    this.getActionForRoute( newRoute )( /* get and call the action for the newRoute */ );\r\n  }, this) );\r\n\r\n  var $router = this;\r\n  this.$globalNamespace.request.handler(\'__router_reference\', function() {\r\n    return $router;\r\n  });\r\n\r\n  this.outlets = {};\r\n  this.$outlet = $routerOutlet.bind(this);\r\n  this.$outlet.reset = function() {\r\n    each( this.outlets, function(outlet) {\r\n      outlet({ name: noComponentSelected, params: {} });\r\n    });\r\n  }.bind(this);\r\n\r\n  if( !isUndefined(routerConfig.unknownRoute) ) {\r\n    if( isFunction(routerConfig.unknownRoute) ) {\r\n      routerConfig.unknownRoute = { controller: routerConfig.unknownRoute };\r\n    }\r\n    routerConfig.routes.push( extend( routerConfig.unknownRoute, { unknown: true } ) );\r\n  }\r\n  this.setRoutes( routerConfig.routes );\r\n\r\n  if( routerConfig.activate === true ) {\r\n    subscriptions.push(this.context.subscribe(function activateRouterAfterNewContext( $context ) {\r\n      if( isObject($context) ) {\r\n        this.activate( $context );\r\n      }\r\n    }, this));\r\n  }\r\n  this.context( $viewModel.$context || $context );\r\n\r\n  this.$namespace.exit();\r\n};\r\n\r\nRouter.prototype.setRoutes = function(routeDesc) {\r\n  this.routeDescriptions = [];\r\n  this.addRoutes(routeDesc);\r\n  return this;\r\n};\r\n\r\nRouter.prototype.addRoutes = function(routeConfig) {\r\n  this.routeDescriptions = this.routeDescriptions.concat( map(isArray(routeConfig) ? routeConfig : [routeConfig], transformRouteConfigToDesc) );\r\n  return this;\r\n};\r\n\r\nRouter.prototype.activate = function($context, $parentRouter) {\r\n  this.startup( $context, $parentRouter );\r\n  if( this.currentState() === \'\' ) {\r\n    this.setState();\r\n  }\r\n  return this;\r\n};\r\n\r\nvar doNotPushOntoHistory = true;\r\nvar pushOntoHistory = false;\r\nRouter.prototype.setState = function(url) {\r\n  if( this.historyIsEnabled() && !this.disableHistory() ) {\r\n    if(isString(url)) {\r\n      var historyAPIWorked = true;\r\n      try {\r\n        historyAPIWorked = History.pushState(null, \'\', this.parentRouter().path() + url);\r\n      } catch(error) {\r\n        historyAPIWorked = false;\r\n      } finally {\r\n        if(historyAPIWorked) {\r\n          return;\r\n        }\r\n      }\r\n    } else {\r\n      this.currentState( this.normalizeURL( History.getState().url ) );\r\n    }\r\n  } else if(isString(url)) {\r\n    this.currentState( this.normalizeURL( url ) );\r\n  }\r\n};\r\n\r\nRouter.prototype.startup = function( $context, $parentRouter ) {\r\n  var $myRouter = this;\r\n  $parentRouter = $parentRouter || $nullRouter;\r\n\r\n  if( !isNullRouter($parentRouter) ) {\r\n    this.parentRouter( $parentRouter );\r\n  } else if( isObject($context) ) {\r\n    $parentRouter = nearestParentRouter($context);\r\n    if( $parentRouter.id !== this.id ) {\r\n      this.parentRouter( $parentRouter );\r\n    }\r\n  }\r\n\r\n  if( !this.historyIsEnabled() ) {\r\n    if( historyIsReady() && !this.disableHistory() ) {\r\n      History.Adapter.bind( windowObject, \'popstate\', this.stateChangeHandler = function(event) {\r\n        this.currentState( this.normalizeURL(windowObject.location.pathname + windowObject.location.hash) );\r\n      }.bind(this));\r\n      this.historyIsEnabled(true);\r\n    } else {\r\n      this.historyIsEnabled(false);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\nRouter.prototype.dispose = function() {\r\n  var $parentRouter = this.parentRouter();\r\n  if( !isNullRouter($parentRouter) ) {\r\n    $parentRouter.childRouters.remove(this);\r\n  }\r\n\r\n  if( this.historyIsEnabled() && historyIsReady() ) {\r\n    History.Adapter.unbind( this.stateChangeHandler );\r\n  }\r\n\r\n  this.$namespace.dispose();\r\n  this.$globalNamespace.dispose();\r\n\r\n  invoke(this.subscriptions, \'dispose\');\r\n  each(omit(this, function(property) {\r\n    return isViewModel(property);\r\n  }), propertyDisposal);\r\n};\r\n\r\nRouter.prototype.normalizeURL = function(url) {\r\n  var urlParts = parseUri(url);\r\n  this.urlParts(urlParts);\r\n  url = urlParts.path;\r\n\r\n  if( !isNull(this.config.baseRoute) && url.indexOf(this.config.baseRoute) === 0 ) {\r\n    url = url.substr(this.config.baseRoute.length);\r\n    if(url.length > 1) {\r\n      url = url.replace(hashMatchRegex, \'/\');\r\n    }\r\n  }\r\n  return url;\r\n};\r\n\r\nRouter.prototype.getUnknownRoute = function() {\r\n  var unknownRoute = findWhere((this.getRouteDescriptions() || []).reverse(), { unknown: true }) || null;\r\n\r\n  if( !isNull(unknownRoute) ) {\r\n    unknownRoute = extend({}, baseRoute, {\r\n      id: unknownRoute.id,\r\n      controller: unknownRoute.controller,\r\n      title: unknownRoute.title,\r\n      segment: \'\'\r\n    });\r\n  }\r\n\r\n  return unknownRoute;\r\n};\r\n\r\nRouter.prototype.getRouteForURL = function(url) {\r\n  var route = null;\r\n  var parentRoutePath = this.parentRouter().path() || \'\';\r\n  var unknownRoute = this.getUnknownRoute();\r\n  var $myRouter = this;</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-50" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>If this is a relative router we need to remove the leading parentRoutePath section of the URL</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">if(this.isRelative() && parentRoutePath.length > 0 && (routeIndex = url.indexOf(parentRoutePath + \'/\')) === 0) {\r\n    url = url.substr( parentRoutePath.length );\r\n  }</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-51" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>find all routes with a matching routeString</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var matchedRoutes = [];\r\n  find(this.getRouteDescriptions(), function(routeDescription) {\r\n    var routeString = routeDescription.route;\r\n    var routeParams = [];\r\n\r\n    if( isString(routeString) ) {\r\n      routeParams = url.match(routeStringToRegExp(routeString));\r\n      if( !isNull(routeParams) && routeDescription.filter.call($myRouter, routeParams, $myRouter.urlParts()) ) {\r\n        matchedRoutes.push({\r\n          routeString: routeString,\r\n          specificity: routeString.replace(namedParamRegex, "*").length,\r\n          routeDescription: routeDescription,\r\n          routeParams: routeParams\r\n        });\r\n      }\r\n    }\r\n    return route;\r\n  });</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-52" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>If there are matchedRoutes, find the one with the highest specificity (longest normalized matching routeString)\nand convert it into the actual route</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">if(matchedRoutes.length) {\r\n    var matchedRoute = reduce(matchedRoutes, function(matchedRoute, foundRoute) {\r\n      if( isNull(matchedRoute) || foundRoute.specificity > matchedRoute.specificity ) {\r\n        matchedRoute = foundRoute;\r\n      }\r\n      return matchedRoute;\r\n    }, null);\r\n    var routeDescription = matchedRoute.routeDescription;\r\n    var routeString = matchedRoute.routeString;\r\n    var routeParams = clone(matchedRoute.routeParams);\r\n    var splatSegment = routeParams.pop() || \'\';\r\n    var routeParamNames = map(routeString.match(namedParamRegex), function(param) {\r\n      return param.replace(\':\', \'\');\r\n    });\r\n    var namedParams = reduce(routeParamNames, function(parameterNames, parameterName, index) {\r\n      parameterNames[parameterName] = routeParams[index + 1];\r\n      return parameterNames;\r\n    }, {});\r\n\r\n    route = extend({}, baseRoute, {\r\n      id: routeDescription.id,\r\n      controller: routeDescription.controller,\r\n      title: routeDescription.title,\r\n      url: url,\r\n      segment: url.substr(0, url.length - splatSegment.length),\r\n      indexedParams: routeParams,\r\n      namedParams: namedParams\r\n    });\r\n  }\r\n\r\n  return route || unknownRoute;\r\n};\r\n\r\nRouter.prototype.getActionForRoute = function(routeDescription) {\r\n  var Action = function() {\r\n    delete this.__currentRouteDescription;\r\n    this.$outlet.reset();\r\n  }.bind(this);\r\n\r\n  if( isRoute(routeDescription) ) {\r\n    Action = function() {\r\n      if( !isUndefined(routeDescription.title) ) {\r\n        document.title = isFunction(routeDescription.title) ? routeDescription.title.call(this, routeDescription.namedParams, this.urlParts()) : routeDescription.title;\r\n      }\r\n\r\n      if( isUndefined(this.__currentRouteDescription) || this.__currentRouteDescription.id !== routeDescription.id ) {\r\n        routeDescription.controller.call( this, routeDescription.namedParams );\r\n        this.__currentRouteDescription = routeDescription;\r\n      }\r\n    }.bind(this);\r\n  }\r\n\r\n  return Action;\r\n};\r\n\r\nRouter.prototype.getRouteDescriptions = function() {\r\n  return this.routeDescriptions;\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-53" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="viewmodel-js">viewModel.js</h2>\n\r\n            </div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-54" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Duck type function for determining whether or not something is a footwork viewModel constructor function</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function isViewModelCtor(thing) {\r\n  return isFunction(thing) && !!thing.__isViewModelCtor;\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-55" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Duck type function for determining whether or not something is a footwork viewModel</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function isViewModel(thing) {\r\n  return isObject(thing) && !!thing.__isViewModel;\r\n}\r\n\r\nvar defaultGetViewModelOptions = {\r\n  includeOutlets: false\r\n};\r\n\r\nfw.viewModels = {};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-56" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Returns a reference to the specified viewModels.\nIf no name is supplied, a reference to an array containing all model references is returned.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var getViewModels = fw.viewModels.getAll = function(namespaceName, options) {\r\n  options = options || {};\r\n  if( isString(namespaceName) || isArray(namespaceName) ) {\r\n    options.namespaceName = namespaceName;\r\n  }\r\n\r\n  return reduce( $globalNamespace.request(\'__model_reference\', extend({}, defaultGetViewModelOptions, options), true), function(viewModels, viewModel) {\r\n    if( !isUndefined(viewModel) ) {\r\n      var namespaceName = isNamespace(viewModel.$namespace) ? viewModel.$namespace.getName() : null;\r\n      if( !isNull(namespaceName) ) {\r\n        if( isUndefined(viewModels[namespaceName]) ) {\r\n          viewModels[namespaceName] = viewModel;\r\n        } else {\r\n          if( !isArray(viewModels[namespaceName]) ) {\r\n            viewModels[namespaceName] = [ viewModels[namespaceName] ];\r\n          }\r\n          viewModels[namespaceName].push(viewModel);\r\n        }\r\n      }\r\n    }\r\n    return viewModels;\r\n  }, {});\r\n};\r\n\r\nvar defaultViewModelConfigParams = {\r\n  namespace: undefined,\r\n  name: undefined,\r\n  autoRegister: false,\r\n  autoIncrement: false,\r\n  mixins: undefined,\r\n  params: undefined,\r\n  initialize: noop,\r\n  afterInit: noop,\r\n  afterBinding: noop,\r\n  onDispose: noop\r\n};\r\n\r\nfunction beforeInitMixins(mixin) {\r\n  return !!mixin.runBeforeInit;\r\n}\r\n\r\nvar makeViewModel = fw.viewModel = function(configParams) {\r\n  configParams = configParams || {};\r\n\r\n  var ctor = noop;\r\n  var afterInit = noop;\r\n  var parentViewModel = configParams.parent;\r\n\r\n  if( !isUndefined(configParams) ) {\r\n    ctor = configParams.viewModel || configParams.initialize || noop;\r\n    afterInit = configParams.afterInit || noop;\r\n  }\r\n  afterInit = { _postInit: afterInit };\r\n  configParams = extend({}, defaultViewModelConfigParams, configParams);\r\n\r\n  var initViewModelMixin = {\r\n    _preInit: function( params ) {\r\n      if( isObject(configParams.router) ) {\r\n        this.$router = new Router( configParams.router, this );\r\n      }\r\n    },\r\n    mixin: {\r\n      __isViewModel: true,\r\n      $params: result(configParams, \'params\'),\r\n      __getConfigParams: function() {\r\n        return configParams;\r\n      },\r\n      dispose: function() {\r\n        if( !this._isDisposed ) {\r\n          this._isDisposed = true;\r\n          if( configParams.onDispose !== noop ) {\r\n            configParams.onDispose.call(this);\r\n          }\r\n          each(this, propertyDisposal);\r\n        }\r\n      }\r\n    },\r\n    _postInit: function() {\r\n      if( this.__assertPresence !== false ) {\r\n        this.$globalNamespace.request.handler(\'__model_reference\', function(options) {\r\n          if( !this.__isOutlet || (isObject(options) && options.includeOutlets) ) {\r\n            if( isString(options.namespaceName) || isArray(options.namespaceName) ) {\r\n              if(isArray(options.namespaceName) && indexOf(options.namespaceName, this.getNamespaceName()) !== -1) {\r\n                return this;\r\n              } else if(isString(options.namespaceName) && options.namespaceName === this.getNamespaceName()) {\r\n                return this;\r\n              }\r\n            } else {\r\n              return this;\r\n            }\r\n          }\r\n        }.bind(this));\r\n      }\r\n    }\r\n  };\r\n\r\n  if( !isViewModelCtor(ctor) ) {\r\n    var composure = [ ctor ];\r\n    var afterInitMixins = reject(viewModelMixins, beforeInitMixins);\r\n    var beforeInitMixins = filter(viewModelMixins, beforeInitMixins);\r\n\r\n    if( beforeInitMixins.length ) {\r\n      composure = composure.concat(beforeInitMixins);\r\n    }\r\n    composure = composure.concat(initViewModelMixin);\r\n    if( afterInitMixins.length ) {\r\n      composure = composure.concat(afterInitMixins);\r\n    }\r\n    \r\n    composure = composure.concat(afterInit);\r\n    if( !isUndefined(configParams.mixins) ) {\r\n      composure = composure.concat(configParams.mixins);\r\n    }\r\n\r\n    each(composure, function(element) {\r\n      if( !isUndefined(element[\'runBeforeInit\']) ) {\r\n        delete element.runBeforeInit;\r\n      }\r\n    });\r\n\r\n    var model = riveter.compose.apply( undefined, composure );\r\n    model.__isViewModelCtor = true;\r\n    model.__configParams = configParams;\r\n  } else {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-57" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>user has specified another viewModel constructor as the initialize function, we extend it with the current constructor to create an inheritance chain</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">model = ctor;\r\n  }\r\n\r\n  if( !isUndefined(parentViewModel) ) {\r\n    model.inherits(parentViewModel);\r\n  }\r\n\r\n  if( configParams.autoRegister ) {\r\n    var namespace = configParams.namespace || configParams.name;\r\n    if( isRegisteredViewModel(namespace) ) {\r\n      if( getRegisteredViewModel(namespace) !== model ) {\r\n        throw \'namespace [\' + namespace + \'] already registered using a different viewModel, autoRegister failed.\';\r\n      }\r\n    } else {\r\n      registerViewModel(namespace, model);\r\n    }\r\n  }\r\n\r\n  return model;\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-58" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Provides lifecycle functionality and $context for a given viewModel and element</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">function applyContextAndLifeCycle(viewModel, element) {\r\n  if( isViewModel(viewModel) ) {\r\n    var $configParams = viewModel.__getConfigParams();\r\n    var context;\r\n    element = element || document.body;\r\n    viewModel.$element = element;\r\n    viewModel.$context = elementContext = fw.contextFor(element);\r\n\r\n    if( isFunction($configParams.afterBinding) ) {\r\n      $configParams.afterBinding.call(viewModel, element);\r\n    }\r\n\r\n    if( isRouter(viewModel.$router) ) {\r\n      viewModel.$router.context( elementContext );\r\n    }\r\n    \r\n    if( !isUndefined(element) ) {\r\n      fw.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n        viewModel.dispose();\r\n      });\r\n    }\r\n  }\r\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-59" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Override the original applyBindings method to provide viewModel life-cycle hooks/events and to provide the $context to the $router if present.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var originalApplyBindings = fw.applyBindings;\r\nvar applyBindings = fw.applyBindings = function(viewModel, element) {\r\n  originalApplyBindings(viewModel, element);\r\n  applyContextAndLifeCycle(viewModel, element);\r\n};\r\n\r\nfunction bindComponentViewModel(element, params, ViewModel) {\r\n  var viewModelObj;\r\n  if( isFunction(ViewModel) ) {\r\n    viewModelObj = new ViewModel(values.params);\r\n  } else {\r\n    viewModelObj = ViewModel;\r\n  }\r\n  viewModelObj.$parentContext = fw.contextFor(element.parentElement || element.parentNode);</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-60" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>binding the viewModelObj onto each child element is not ideal, need to do this differently\ncannot get component.preprocess() method to work/be called for some reason</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">each(element.children, function(child) {\r\n    originalApplyBindings(viewModelObj, child);\r\n  });\r\n  applyContextAndLifeCycle(viewModelObj, element);</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-61" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>we told applyBindings not to specify a context on the viewModel.$router after binding because we are binding to each\nsub-element and must specify the context as being the container element only once</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">if( isRouter(viewModelObj.$router) ) {\r\n    viewModelObj.$router.context( fw.contextFor(element) );\r\n  }\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-62" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Monkey patch enables the viewModel component to initialize a model and bind to the html as intended (with lifecycle events)\nTODO: Do this differently once this is resolved: <a href="https://github.com/knockout/knockout/issues/1463">https://github.com/knockout/knockout/issues/1463</a></p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var originalComponentInit = fw.bindingHandlers.component.init;\r\nfw.bindingHandlers.component.init = function(element, valueAccessor, allBindings, viewModel, bindingContext) {\r\n  var theValueAccessor = valueAccessor;\r\n  if( isString(element.tagName) ) {\r\n    var tagName = element.tagName.toLowerCase();\r\n    if( tagName === \'viewmodel\' ) {\r\n      var values = valueAccessor();\r\n      var viewModelName = ( !isUndefined(values.params) ? fw.unwrap(values.params.name) : undefined ) || element.getAttribute(\'module\') || element.getAttribute(\'data-module\');\r\n      var bindViewModel = bindComponentViewModel.bind(null, element, values.params);\r\n\r\n      if( !isUndefined(viewModelName) ) {\r\n        var resourceLocation = null;\r\n\r\n        if( isRegisteredViewModel(viewModelName) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-63" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>viewModel was manually registered, we preferentially use it</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">resourceLocation = getRegisteredViewModel(viewModelName);\r\n        } else if( isFunction(require) && isFunction(require.defined) && require.defined(viewModelName) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-64" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>we have found a matching resource that is already cached by require, lets use it</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">resourceLocation = viewModelName;\r\n        } else {\r\n          resourceLocation = getViewModelResourceLocation(viewModelName);\r\n        }\r\n\r\n        if( isString(resourceLocation) ) {\r\n          if( isFunction(require) ) {\r\n            if( isPath(resourceLocation) ) {\r\n              resourceLocation = resourceLocation + getViewModelFileName(viewModelName);\r\n            }\r\n\r\n            require([ resourceLocation ], bindViewModel);\r\n          } else {\r\n            throw \'Uses require, but no AMD loader is present\';\r\n          }\r\n        } else if( isFunction(resourceLocation) ) {\r\n          bindViewModel( resourceLocation );\r\n        } else if( isObject(resourceLocation) ) {\r\n          if( isObject(resourceLocation.instance) ) {\r\n            bindViewModel( resourceLocation.instance );\r\n          } else if( isFunction(resourceLocation.createViewModel) ) {\r\n            bindViewModel( resourceLocation.createViewModel( values.params, { element: element } ) );\r\n          }\r\n        }\r\n      }\r\n\r\n      return { \'controlsDescendantBindings\': true };\r\n    } else if( tagName === \'outlet\' ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-65" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>we patch in the name of the outlet into the params valueAccessor on the component definition (if necessary and available)</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var outletName = element.getAttribute(\'name\') || element.getAttribute(\'data-name\');\r\n      if( outletName ) {\r\n        theValueAccessor = function() {\r\n          var valueAccessorResult = valueAccessor();\r\n          if( !isUndefined(valueAccessorResult.params) && isUndefined(valueAccessorResult.params.name) ) {\r\n            valueAccessorResult.params.name = outletName;\r\n          }\r\n          return valueAccessorResult;\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  return originalComponentInit(element, theValueAccessor, allBindings, viewModel, bindingContext);\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-66" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="component-js">component.js</h2>\n\r\n            </div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-67" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              \r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var originalComponentRegisterFunc = fw.components.register;\nvar registerComponent = fw.components.register = function(componentName, options) {\n  var viewModel = options.initialize || options.viewModel;\n  \n  if( !isString(componentName) ) {\n    throw \'Components must be provided a componentName.\';\n  }\n\n  if( isFunction(viewModel) && !isViewModelCtor(viewModel) ) {\n    options.namespace = componentName;\n    viewModel = makeViewModel(options);\n  }\n\n  originalComponentRegisterFunc(componentName, {\n    viewModel: viewModel || fw.viewModel(),\n    template: options.template\n  });\n};\n\nfw.components.getNormalTagList = function() {\n  return nonComponentTags.splice(0);\n};\n\nfw.components.getComponentNameForNode = function(node) {\n  var tagName = isString(node.tagName) && node.tagName.toLowerCase();\n\n  if( fw.components.isRegistered(tagName) || tagIsComponent(tagName) ) {\n    return tagName;\n  }\n  return null;\n};\n\nvar makeComponent = fw.component = function(componentDefinition) {\n  var viewModel = componentDefinition.viewModel;\n\n  if( isFunction(viewModel) && !isViewModelCtor(viewModel) ) {\n    componentDefinition.viewModel = makeViewModel( omit(componentDefinition, \'template\') );\n  }\n\n  return componentDefinition;\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-68" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Register a component as consisting of a template only.\nThis will cause footwork to load only the template when this component is used.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var componentTemplateOnlyRegister = [];\nvar registerComponentAsTemplateOnly = fw.components.isTemplateOnly = function(componentName, isTemplateOnly) {\n  isTemplateOnly = (isUndefined(isTemplateOnly) ? true : isTemplateOnly);\n  if( isArray(componentName) ) {\n    each(componentName, function(compName) {\n      registerComponentAsTemplateOnly(compName, isTemplateOnly);\n    });\n  }\n\n  componentTemplateOnlyRegister[componentName] = isTemplateOnly;\n  if( !isArray(componentName) ) {\n    return componentTemplateOnlyRegister[componentName] || \'normal\';\n  }\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-69" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>These are tags which are ignored by the custom component loader\nSourced from: <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element">https://developer.mozilla.org/en-US/docs/Web/HTML/Element</a></p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var nonComponentTags = [\n  \'a\', \'abbr\', \'acronym\', \'address\', \'applet\', \'area\', \'article\', \'aside\', \'audio\', \'b\', \'base\', \'basefont\', \'bdi\', \'bgsound\',\n  \'big\', \'blink\', \'blockquote\', \'body\', \'br\', \'button\', \'canvas\', \'caption\', \'center\', \'cite\', \'code\', \'col\', \'colgroup\',\n  \'content\', \'data\', \'datalist\', \'dd\', \'decorator\', \'del\', \'details\', \'dfn\', \'dialog\', \'dir\', \'div\', \'dl\', \'dt\', \'element\',\n  \'em\', \'embed\', \'fieldset\', \'figcaption\', \'figure\', \'footer\', \'form\', \'frameset\', \'g\', \'h1\', \'h2\', \'h3\', \'h4\', \'h5\', \'h6\',\n  \'head\', \'header\', \'hgroup\', \'hr\', \'html\', \'i\', \'iframe\', \'img\', \'input\', \'ins\', \'isindex\', \'kbd\', \'keygen\', \'label\',\n  \'legend\', \'li\', \'link\', \'listing\', \'main\', \'map\', \'mark\', \'marquee\', \'menu\', \'menuitem\', \'meta\', \'meter\', \'nav\', \'nobr\',\n  \'noframes\', \'noscript\', \'object\', \'ol\', \'optgroup\', \'option\', \'output\', \'p\', \'param\', \'picture\', \'polygon\', \'path\', \'pre\',\n  \'progress\', \'q\', \'rp\', \'rt\', \'ruby\', \'s\', \'samp\', \'script\', \'section\', \'select\', \'shadow\', \'small\', \'source\', \'spacer\',\n  \'span\', \'strike\', \'strong\', \'style\', \'sub\', \'summary\', \'sup\', \'svg\', \'table\', \'tbody\', \'td\', \'template\', \'textarea\',\n  \'tfoot\', \'th\', \'thead\', \'time\', \'title\', \'tr\', \'track\', \'u\', \'ul\', \'var\', \'video\', \'wbr\', \'xmp\', \'rect\', \'image\',\n  \'lineargradient\', \'stop\', \'line\'\n];\nvar tagIsComponent = fw.components.tagIsComponent = function(tagName, isComponent) {\n  if( isUndefined(isComponent) ) {\n    return indexOf(nonComponentTags, tagName) === -1;\n  }\n\n  if( isArray(tagName) ) {\n    each(tagName, function(tag) {\n      tagIsComponent(tag, isComponent);\n    });\n  }\n\n  if(isComponent !== true) {\n    if( contains(nonComponentTags, tagName) === false ) {\n      nonComponentTags.push(tagName);\n    }\n  } else {\n    nonComponentTags = filter(nonComponentTags, function(nonComponentTagName) {\n      return nonComponentTagName !== tagName;\n    });\n  }\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-70" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Components which footwork will not wrap in the $life custom binding used for lifecycle events\nUsed to keep the wrapper off of internal/natively handled and defined components such as outlet</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var nativeComponents = [\n  \'outlet\'\n];\nfunction isNativeComponent(componentName) {\n  return indexOf(nativeComponents, componentName) !== -1;\n}\n\nfunction componentTriggerAfterBinding(element, viewModel) {\n  if( isViewModel(viewModel) ) {\n    var configParams = viewModel.__getConfigParams();\n    if( isFunction(configParams.afterBinding) ) {\n      configParams.afterBinding.call(viewModel, element);\n    }\n  }\n}</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-71" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Use the $life wrapper binding to provide lifecycle events for components</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.virtualElements.allowedBindings.$life = true;\nfw.bindingHandlers.$life = {\n  init: function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n    fw.utils.domNodeDisposal.addDisposeCallback(element, function() {\n      if( isViewModel(viewModel) ) {\n        viewModel.dispose();\n      }\n    });\n  },\n  update: function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n    var $parent = bindingContext.$parent;\n    if( isObject($parent) && $parent.__isOutlet ) {\n      $parent.$route().__getOnCompleteCallback()(element.parentElement || element.parentNode);\n    }\n    componentTriggerAfterBinding(element.parentElement || element.parentNode, bindingContext.$data);\n  }\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-72" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Custom loader used to wrap components with the $life custom binding</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var componentWrapperTemplate = \'<!-- ko $life -->COMPONENT_MARKUP<!-- /ko -->\';\nfw.components.loaders.unshift( fw.components.componentWrapper = {\n  loadTemplate: function(componentName, config, callback) {\n    if( !isNativeComponent(componentName) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-73" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>TODO: Handle different types of configs</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">if( isString(config) ) {\n        config = componentWrapperTemplate.replace(/COMPONENT_MARKUP/, config);\n      } else {\n        throw \'Unhandled config type \' + typeof config + \'.\';\n      }\n      fw.components.defaultLoader.loadTemplate(componentName, config, callback);\n    } else {\n      callback(null);\n    }\n  },\n  loadViewModel: function(componentName, config, callback) {\n    var ViewModel = config.viewModel || config;\n    if( !isNativeComponent(componentName) ) {\n      callback(function(params, componentInfo) {\n        var componentElement = componentInfo.element;\n        var $element = (componentElement.nodeType === 8 ? (componentElement.parentElement || componentElement.parentNode) : componentElement);\n        var $context = fw.contextFor($element);\n        var LoadedViewModel = ViewModel;\n        if( isFunction(ViewModel) ) {\n          if( !isViewModelCtor(ViewModel) ) {\n            ViewModel = makeViewModel({ initialize: ViewModel });\n          }</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-74" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>inject the context and element into the ViewModel contructor</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">LoadedViewModel = ViewModel.compose({\n            _preInit: function() {\n              this.$context = $context;\n              this.$element = $element;\n            }\n          });\n          return new LoadedViewModel(params);\n        }\n        return LoadedViewModel;\n      });\n    } else {\n      callback(null);\n    }\n  }\n});</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-75" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>The footwork getConfig loader is a catch-all in the instance a registered component cannot be found.\nThe loader will attempt to use requirejs via knockouts integrated support if it is available.</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.components.loaders.push( fw.components.requireLoader = {\n  getConfig: function(componentName, callback) {\n    var combinedFile = getComponentFileName(componentName, \'combined\');\n    var viewModelFile = getComponentFileName(componentName, \'viewModel\');\n    var templateFile = getComponentFileName(componentName, \'template\');\n    var componentLocation = getComponentResourceLocation(componentName);\n    var configOptions = null;\n    var viewModelPath;\n    var templatePath;\n    var combinedPath;\n\n    if( isFunction(require) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-76" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>load component using knockouts native support for requirejs</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">if( require.defined(componentName) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-77" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>component already cached, lets use it</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">configOptions = {\n          require: componentName\n        };\n      } else if( isString(componentLocation.combined) ) {\n        combinedPath = componentLocation.combined;\n\n        if( isPath(combinedPath) ) {\n          combinedPath = combinedPath + combinedFile;\n        }\n\n        configOptions = {\n          require: combinedPath\n        };\n      } else {\n        viewModelPath = componentLocation.viewModels;\n        templatePath = \'text!\' + componentLocation.templates;\n\n        if( isPath(viewModelPath) ) {\n          viewModelPath = viewModelPath + viewModelFile;\n        }\n        if( isPath(templatePath) ) {\n          templatePath = templatePath + templateFile;\n        }</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-78" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>check to see if the requested component is templateOnly and should not request a viewModel (we supply a dummy object in its place)</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var viewModelConfig = { require: viewModelPath };\n        if( componentTemplateOnlyRegister[componentName] ) {\n          viewModelConfig = { instance: {} };\n        }\n\n        configOptions = {\n          viewModel: viewModelConfig,\n          template: { require: templatePath }\n        };\n      }\n    }\n\n    callback(configOptions);\n  }\n});\n\nvar noParentViewModelError = { getNamespaceName: function() { return \'NO-VIEWMODEL-IN-CONTEXT\'; } };</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-79" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>This custom binding binds the outlet element to the $outlet on the router, changes on its route (component definition observable) will be applied\nto the UI and load in various views</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.virtualElements.allowedBindings.$bind = true;\nfw.bindingHandlers.$bind = {\n  init: function(element, valueAccessor, allBindings, outletViewModel, bindingContext) {\n    var $parentViewModel = ( isObject(bindingContext) ? (bindingContext.$parent || noParentViewModelError) : noParentViewModelError);\n    var $parentRouter = nearestParentRouter(bindingContext);\n    var outletName = outletViewModel.outletName;\n\n    if( isRouter($parentRouter) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-80" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>register this outlet with the router so that updates will propagate correctly\ntake the observable returned and define it on the outletViewModel so that outlet route changes are reflected in the view</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">outletViewModel.$route = $parentRouter.$outlet( outletName );\n    } else {\n      throw \'Outlet [\' + outletName + \'] defined inside of viewModel [\' + $parentViewModel.getNamespaceName() + \'] but no router was defined.\';\n    }\n  }\n};\n\nregisterComponent(\'outlet\', {\n  autoIncrement: true,\n  viewModel: function(params) {\n    this.outletName = fw.unwrap(params.name);\n    this.__isOutlet = true;\n  },\n  template: \'<!-- ko $bind, component: $route --><!-- /ko -->\'\n});\n\nregisterComponent(\'_noComponentSelected\', {\n  viewModel: function(params) {\n    this.__assertPresence = false;\n  },\n  template: \'<div class="no-component-selected"></div>\'\n});\n\nregisterComponent(\'error\', {\n  viewModel: function(params) {\n    this.message = fw.observable(params.message);\n    this.errors = params.errors;\n    this.__assertPresence = false;\n  },\n  template: \'\\\n    <div class="component error" data-bind="foreach: errors">\\\n      <div class="error">\\\n        <span class="number" data-bind="text: $index() + 1"></span>\\\n        <span class="message" data-bind="text: $data"></span>\\\n      </div>\\\n    </div>\'\n});</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-81" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="resource-js">resource.js</h2>\n\r\n            </div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-82" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>component resource section</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var defaultComponentFileExtensions = {\r\n  combined: \'.js\',\r\n  viewModel: \'.js\',\r\n  template: \'.html\'\r\n};\r\n\r\nvar componentFileExtensions = fw.components.fileExtensions = fw.observable( clone(defaultComponentFileExtensions) );\r\n\r\nvar componentIsRegistered = fw.components.isRegistered;\r\n\r\nvar getComponentFileName = fw.components.getFileName = function(componentName, fileType) {\r\n  var componentExtensions = componentFileExtensions();\r\n  var fileName = componentName;\r\n\r\n  if( componentIsRegistered(componentName) ) {\r\n    return null;\r\n  }\r\n\r\n  if( isFunction(componentExtensions) ) {\r\n    fileName += componentExtensions(componentName)[fileType];\r\n  } else if( isObject(componentExtensions) ) {\r\n    if( isFunction(componentExtensions[fileType]) ) {\r\n      fileName += componentExtensions[fileType](componentName);\r\n    } else {\r\n      fileName += componentExtensions[fileType] || \'\';\r\n    }\r\n  }\r\n\r\n  switch(fileType) {\r\n    case \'viewModel\':\r\n      fileType = \'viewModels\';\r\n      break;\r\n    case \'template\':\r\n      fileType = \'templates\';\r\n      break;\r\n  }\r\n\r\n  if( !isUndefined( componentResourceLocations[componentName] ) ) {\r\n    var registeredLocation = componentResourceLocations[componentName];\r\n    if( !isUndefined(registeredLocation[fileType]) && !isPath(registeredLocation[fileType]) ) {\r\n      if( isString(registeredLocation[fileType]) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-83" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>full filename was supplied, lets return that</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fileName = last( registeredLocation[fileType].split(\'/\') );\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n  \r\n  return fileName;\r\n};\r\n\r\nvar defaultComponentLocation = {\r\n  combined: null,\r\n  viewModels: \'/viewModel/\',\r\n  templates: \'/component/\'\r\n};\r\nvar componentResourceLocations = fw.components.resourceLocations = {};\r\nvar componentDefaultLocation = fw.components.defaultLocation = function(root, updateDefault) {\r\n  var componentLocation = (isUndefined(updateDefault) || updateDefault === true) ? defaultComponentLocation : clone(defaultComponentLocation);\r\n\r\n  if( isObject(root) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-84" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>assume some combination of defaultComponentLocation and normalize the parameters</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">extend(componentLocation, reduce(root, function(options, paramValue, paramName) {\r\n      if(paramName === \'viewModel\') {\r\n        options.viewModels = paramValue;\r\n        delete options.viewModel;\r\n      } else if(paramName === \'template\') {\r\n        options.templates = paramValue;\r\n        delete options.template;\r\n      } else {\r\n        options[paramName] = paramValue;\r\n      }\r\n      return options;\r\n    }, {}));\r\n  } else if( isString(root) ) {\r\n    componentLocation = {\r\n      combined: rootURL,\r\n      viewModels: null,\r\n      templates: null\r\n    };\r\n  }\r\n\r\n  return componentLocation;\r\n};\r\n\r\nvar registerLocationOfComponent = fw.components.registerLocation = function(componentName, componentLocation) {\r\n  if( isArray(componentName) ) {\r\n    each(componentName, function(name) {\r\n      registerLocationOfComponent(name, componentLocation);\r\n    });\r\n  }\r\n  componentResourceLocations[ componentName ] = componentDefaultLocation(componentLocation, false);\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-85" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Return the component resource definition for the supplied componentName</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var getComponentResourceLocation = fw.components.getResourceLocation = function(componentName) {\r\n  if( isUndefined(componentName) ) {\r\n    return componentResourceLocations;\r\n  }\r\n  return componentResourceLocations[componentName] || defaultComponentLocation;\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-86" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>viewModel resource section</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var defaultViewModelFileExtensions = \'.js\';\r\nvar viewModelFileExtensions = fw.viewModels.fileExtensions = fw.observable( defaultViewModelFileExtensions );\r\n\r\nvar getViewModelFileName = fw.viewModels.getFileName = function(viewModelName) {\r\n  var viewModelExtensions = viewModelFileExtensions();\r\n  var fileName = viewModelName;\r\n\r\n  if( isFunction(viewModelExtensions) ) {\r\n    fileName += viewModelExtensions(viewModelName);\r\n  } else if( isString(viewModelExtensions) ) {\r\n    fileName += viewModelExtensions;\r\n  }\r\n\r\n  if( !isUndefined( viewModelResourceLocations[viewModelName] ) ) {\r\n    var registeredLocation = viewModelResourceLocations[viewModelName];\r\n    if( isString(registeredLocation) && !isPath(registeredLocation) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-87" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>full filename was supplied, lets return that</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fileName = last( registeredLocation.split(\'/\') );\r\n    }\r\n  }\r\n\r\n  return fileName;\r\n};\r\n\r\nvar defaultViewModelLocation = \'/viewModel/\';\r\nvar viewModelResourceLocations = fw.viewModels.resourceLocations = {};\r\nvar viewModelDefaultLocation = fw.viewModels.defaultLocation = function(path, updateDefault) {\r\n  var viewModelLocation = defaultViewModelLocation;\r\n\r\n  if( isString(path) ) {\r\n    viewModelLocation = path;\r\n  }\r\n\r\n  if(updateDefault) {\r\n    defaultViewModelLocation = viewModelLocation;\r\n  }\r\n\r\n  return viewModelLocation;\r\n};\r\n\r\nvar registeredViewModels = {};\r\nvar registerViewModel = fw.viewModels.register = function(viewModelName, viewModel) {\r\n  registeredViewModels[viewModelName] = viewModel;\r\n};\r\n\r\nvar isRegisteredViewModel = fw.viewModels.isRegistered = function(viewModelName) {\r\n  return !isUndefined( registeredViewModels[viewModelName] );\r\n};\r\n\r\nvar getRegisteredViewModel = fw.viewModels.getRegistered = function(viewModelName) {\r\n  return registeredViewModels[viewModelName];\r\n};\r\n\r\nvar registerLocationOfViewModel = fw.viewModels.registerLocation = function(viewModelName, viewModelLocation) {\r\n  if( isArray(viewModelName) ) {\r\n    each(viewModelName, function(name) {\r\n      registerLocationOfViewModel(name, viewModelLocation);\r\n    });\r\n  }\r\n  viewModelResourceLocations[ viewModelName ] = viewModelDefaultLocation(viewModelLocation, false);\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-88" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>Return the viewModel resource definition for the supplied viewModelName</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">var getViewModelResourceLocation = fw.viewModels.getResourceLocation = function(viewModelName) {\r\n  if( isUndefined(viewModelName) ) {\r\n    return viewModelResourceLocations;\r\n  }\r\n  return viewModelResourceLocations[viewModelName] || getComponentResourceLocation(viewModelName).viewModels || defaultViewModelLocation;\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-89" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <h2 id="extenders-js">extenders.js</h2>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">fw.extenders.debounce = function(target, opt) {\r\n  if( isNumber(opt) ) {\r\n    opt = {\r\n      timeout: opt,\r\n      when: function() { return true; } // default always throttle\r\n    };\r\n  }\r\n\r\n  target.throttleEvaluation = opt.timeout;\r\n\r\n  var writeTimeoutInstance = null;\r\n  var throttledTarget = fw.computed({\r\n    \'read\': target,\r\n    \'write\': function(value) {\r\n      if( opt.when(value) ) {\r\n        clearTimeout(writeTimeoutInstance);\r\n        writeTimeoutInstance = setTimeout(function() {\r\n          target(value);\r\n        }, opt.timeout);\r\n      } else {\r\n        clearTimeout(writeTimeoutInstance);\r\n        target(value);\r\n      }\r\n    }\r\n  });\r\n\r\n  throttledTarget.force = function( value ) {\r\n    clearTimeout(writeTimeoutInstance);\r\n    target(value);\r\n  };\r\n\r\n  var throttleDispose = throttledTarget.dispose;\r\n  if( isFunction(target.dispose) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-90" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>has to pass-through the dispose method from the target so it can be released properly as well</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">throttledTarget.dispose = function() {\r\n      target.dispose();\r\n      throttleDispose.call(throttledTarget);\r\n    };\r\n  }\r\n\r\n  return throttledTarget;\r\n};\r\n\r\nfw.extenders.autoDisable = function( target, delay ) {\r\n  return target.extend({\r\n    delayTrigger: {\r\n      delay: delay || 0,\r\n      trigger: function( target ) { target( false ); }\r\n    }\r\n  });\r\n};\r\n\r\nfw.extenders.autoEnable = function( target, delay ) {\r\n  return target.extend({\r\n    delayTrigger: {\r\n      delay: delay || 0,\r\n      trigger: function( target ) { target( true ); }\r\n    }\r\n  });\r\n};\r\n\r\nfw.extenders.delayTrigger = function( target, options ) {\r\n  var delay = 300;\r\n  var triggerFunc = noop;\r\n  var trigger;\r\n\r\n  if( isObject(options) ) {\r\n    delay = !isNaN( options.delay ) && parseInt( options.delay, 10 ) || delay;\r\n    triggerFunc = options.trigger || triggerFunc;\r\n  } else {\r\n    delay = !isNaN( options ) && parseInt( options, 10 ) || delay;\r\n  }\r\n\r\n  var clearTrigger = function() {\r\n    clearTimeout( trigger );\r\n    trigger = undefined;\r\n  };\r\n\r\n  var delayedObservable = fw.computed({\r\n    read: target,\r\n    write: function( state ) {\r\n      target( state );\r\n\r\n      if( !isUndefined(trigger) ) {\r\n        clearTrigger();\r\n      }\r\n\r\n      trigger = setTimeout(function() {\r\n        triggerFunc( target, options );\r\n      }.bind(target), delayedObservable.triggerDelay);\r\n    }\r\n  });\r\n  delayedObservable.clearTrigger = clearTrigger;\r\n  delayedObservable.triggerDelay = delay;\r\n\r\n  var delayedObservableDispose = delayedObservable.dispose;\r\n  if( isFunction(target.dispose) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-91" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>has to pass-through the dispose method from the target so it can be released properly as well</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">delayedObservable.dispose = function() {\r\n      target.dispose();\r\n      delayedObservableDispose.call(delayedObservable);\r\n    };\r\n  }\r\n\r\n  return delayedObservable;\r\n};\r\n\r\nfw.extenders.delayWrite = function( target, options ) {\r\n  var filter;\r\n  var delay = 300;\r\n\r\n  if( isObject(options) ) {\r\n    delay = !isNaN( options.delay ) && parseInt( options.delay, 10 ) || delay;\r\n    filter = options.filter || function() { return true; };\r\n  } else {\r\n    delay = !isNaN( options ) && parseInt( options, 10 ) || delay;\r\n  }\r\n\r\n  var delayWriteComputed = fw.computed({\r\n    read: target,\r\n    write: function( writeValue ) {\r\n      if( filter( writeValue ) ) {\r\n        if(target._delayWriteTimer) {\r\n          clearTimeout( this._delayWriteTimer );\r\n        }\r\n        target._delayWriteTimer = setTimeout(function() {\r\n          target( writeValue );\r\n        }, delay);\r\n      } else {\r\n        target( writeValue );\r\n      }\r\n    }\r\n  });\r\n\r\n  var delayWriteComputedDispose = delayWriteComputed.dispose;\r\n  if( isFunction(target.dispose) ) {</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n        \r\n        <li id="section-92" class="section">\r\n            <div class="annotation-bg"></div>\r\n            <div class="annotation">\r\n              <p>has to pass-through the dispose method from the target so it can be released properly as well</p>\n\r\n            </div>\r\n            \r\n            <div class="content"><pre><code class="javascript">delayWriteComputed.dispose = function() {\r\n      target.dispose();\r\n      delayWriteComputedDispose.call(delayWriteComputed);\r\n    };\r\n  }\r\n\r\n  return delayWriteComputed;\r\n};</code></pre></div>\r\n            \r\n        </li>\r\n      \r\n  </ul>\r\n</div><div id="metaData">\r\n{\r\n  "title": "Annotated Source",\r\n  "description": "Source code with notations and remarks.",\r\n  "sections": [\r\n    { "anchor": "main-js", "title": "main.js" },\r\n    { "anchor": "namespace-js", "title": "namespace.js" },\r\n    { "anchor": "broadcast-receive-js", "title": "broadcast-receive.js" },\r\n    { "anchor": "router-js", "title": "router.js" },\r\n    { "anchor": "viewmodel-js", "title": "viewModel.js" },\r\n    { "anchor": "component-js", "title": "component.js" },\r\n    { "anchor": "extenders-js", "title": "extenders.js" }\r\n  ],\r\n  "anchorOffset": 30\r\n}\r\n</div>'
}),define("text!../../pages/api-page.html",[],function(){return'<article>\r\n  <a id="viewModel" class="section-anchor"></a>\r\n  <section name="viewModel">\r\n    <div class="highlight"></div>\r\n    <header class="trim">\r\n      <span class="sub title"><a data-bind="$route" href="/api/viewModel" target="_blank" class="title">viewModel</a></span>\r\n    </header>\r\n    <div class="content">\r\n      <p>viewModels wrap a section of your DOM, providing the logic and state for your views.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="components" class="section-anchor"></a>\r\n  <section name="components">\r\n    <div class="highlight"></div>\r\n    <header class="trim">\r\n      <span class="sub title"><a data-bind="$route" href="/api/components" target="_blank" class="title">Components</a></span>\r\n    </header>\r\n    <div class="content">\r\n      <p>Components combine the power of viewModels with templates and wrap them up in an easily reusable package.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="namespace" class="section-anchor"></a>\r\n  <section name="namespace">\r\n    <div class="highlight"></div>\r\n    <header class="trim">\r\n      <span class="sub title"><a data-bind="$route" href="/api/namespacing" target="_blank" class="title">Namespacing</a></span>\r\n    </header>\r\n    <div class="content">\r\n      <p>Namespacing and CQRS... how communication happens with footwork.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="broadcast-receive" class="section-anchor"></a>\r\n  <section name="broadcast-receive">\r\n    <div class="highlight"></div>\r\n    <header class="trim">\r\n      <span class="sub title"><a data-bind="$route" href="/api/broadcastable-receivable" target="_blank" class="title">Broadcastable / Receivable</a></span>\r\n    </header>\r\n    <div class="content">\r\n      <p>Cross-model dependencies and data/resource sharing.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="routing" class="section-anchor"></a>\r\n  <section name="routing">\r\n    <div class="highlight"></div>\r\n    <header class="trim">\r\n      <span class="sub title"><a data-bind="$route" href="/api/routing" target="_blank" class="title">Routing</a></span>\r\n    </header>\r\n    <div class="content">\r\n      <p>Initialize and manage the state of your application.</p>\r\n    </div>\r\n  </section>\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "API Docs",\r\n  "description": "General documentation covering the API.",\r\n  "sections": [\r\n    { "anchor": "viewModel",\r\n      "title": "viewModel" },\r\n    { "anchor": "components",\r\n      "title": "Components" },\r\n    { "anchor": "namespace",\r\n      "title": "Namespacing" },\r\n    { "anchor": "broadcast-receive",\r\n      "title": "Broadcastable / Receivable" },\r\n    { "anchor": "routing",\r\n      "title": "Routing" }\r\n  ]\r\n}\r\n</div>'}),define("text!../../pages/api/viewModel-page.html",[],function(){return'<article>\r\n\r\n  <a id="introduction" class="section-anchor"></a>\r\n  <section name="introduction">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Introduction</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>A viewModel can be thought of as a container object that houses all of the logic and data with which your template/HTML/DOM binds to. They are used to \'wrap\' your HTML/markup, applying the bindings you declare in the HTML while also initializing and binding any nested components and viewModels.</p>\r\n      <p>In knockout.js you typically need to manually wrap and bind (<span class="inline-code">ko.applyBindings()</span>) your DOM with instances of your viewModels, this has many disadvantages/issues (primarily, it requires a lot of legwork by you). Footwork.js can handle\r\n      the initialization, wrapping, and binding for you automatically based on the HTML/DOM (<em>it can also autoload them via AMD/RequireJS as needed</em>).</p>\r\n      <p>footwork-flavored viewModels provide a clean way of wrapping your knockout and other HTML markup while also enhancing with functionality for lifecycle events, routing, component integration, \r\n      <a href="http://martinfowler.com/bliki/CQRS.html" target="_blank" title="Command Query Responsibility Segregation">CQRS</a>, and more.</p>\r\n      <p>In addition, they can contain any number of nested viewModels, components, and any other markup...making them extremely powerful (especially when integrated into a <a href="/api/components" data-bind="$route">component</a>).</p>\r\n      <p>There are a number of ways to create viewModels, but a simple plain old javascript object (just as in normal knockout.js) at its most basic level is all that is needed to bind to the DOM.</p>\r\n      <ul>\r\n        <li><a href="#configuration">Configuration</a></li>\r\n        <li><a href="#initialization">Initialization</a></li>\r\n        <li><a href="#loading-registering">AMD / Lazy Loading / Registering</a></li>\r\n        <li><a href="#module-formats">Module Formats</a></li>\r\n        <li><a href="#lifecycle">Lifecycle</a></li>\r\n        <li><a href="#properties">Properties</a></li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="configuration" class="section-anchor"></a>\r\n  <section name="configuration">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Configuration</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Each different type of viewModel you wish to have must have a new constructor function made for it.</p>\r\n      <p>viewModel constructor functions are created by calling the factory method <span class="inline-code">fw.viewModel()</span> and passing it a configuration object.</p>\r\n      <p>The resulting constructor function can then be used to instantiate new instances of that viewModel.\r\n      These constructor functions are essentially specialized wrappers which enable footwork to hook into both knockout and your viewModel/module to provide for all of the additional features the framework provides.</p>\r\n\r\n      <h3><em class="func-def">fw.viewModel<span>( <span class="param">configurationObject</span> )</span></em></h3>\r\n      <h3>viewModel configuration object synopsis:</h3>\r\n<pre><code class="javascript">fw.viewModel({\r\n  /**\r\n   * The namespace (communications channel) the viewModel uses. This is essentially used as\r\n   * the \'key\' for CQRS separation between modules. If no namespace is provided a unique one\r\n   * will be automatically assigned.\r\n   *\r\n   * NOTE: This is also prepended to the routers namespace (if a router configuration is supplied)\r\n   *       See: /api/routing\r\n   */\r\n  namespace: \'Sprocket\', // example namespace name, any alpha-numeric is valid\r\n\r\n  /**\r\n   * If true, footwork will register the viewModel under its namespace name. This means\r\n   * that when this fw.viewModel() call is made it will automatically call\r\n   * fw.viewModels.register(\'Sprocket\', ThisViewModelConstructor)\r\n   * This is one (handy) way of telling footwork how to find your viewModel when it needs it.\r\n   */\r\n  autoRegister: false, // default === false\r\n\r\n  /**\r\n   * If true, the namespace will have an auto-incremented 0-based index number appended for\r\n   * each new viewModel.\r\n   */\r\n  autoIncrement: false, // default === false\r\n\r\n  // Initialization function called at creation of a new viewModel, it is passed in the parameters supplied at creation\r\n  initialize: function(param1, param2, ...) {\r\n    // this === the viewModel object\r\n    // Perform normal viewModel initialization here, just like typical knockout.js code.\r\n    this.param1 = fw.observable(param1);\r\n  },\r\n\r\n  // Behavioral mixins to include with each new viewModel created\r\n  mixins: [\r\n    // See: \'Mixins\' section on this page\r\n  ],\r\n\r\n  // Router configuration object\r\n  router: {\r\n    // See: /api/routing in documentation\r\n  },\r\n\r\n  // Function called just after binding to the DOM\r\n  afterBinding: function(containingElement) {\r\n    // this === the viewModel object\r\n  },\r\n\r\n  // Function called just before the html this viewModel is bound to is removed from the DOM\r\n  onDispose: function(containingElement) {\r\n    // this === the viewModel object\r\n  }\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="initialization" class="section-anchor"></a>\r\n  <section name="initialization">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Initialization / Usage</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>A viewModel can be created/initialized in 3 different ways:</p>\r\n      <ul>\r\n        <li>Manually initialized (standard knockout methodology).</li>\r\n        <li>Automatically via a <span class="inline-code">&lt;viewModel module="[moduleName]"&gt; ... &lt;/viewModel&gt;</span> declaration in the DOM.</li>\r\n        <li>Automatically via a <span class="inline-code">&lt;[component-name]&gt;&lt;/[component-name]&gt;</span> declaration in the DOM (See: <a href="/api/components#usage" data-bind="$route">component usage</a>).</li>\r\n      </ul>\r\n\r\n      <h3>Manual initialization (similar to what would be found in regular knockout.js code):</h3>\r\n<pre><code class="javascript">/**\r\n * You use footwork viewModel class functions just like you would a normal knockout.js constructor function.\r\n * ie: var viewModelObject = new ConstructorFunc(paramaters ...);\r\n *\r\n * Note: The parameters you pass into the ConstructorFunc(params) call get passed\r\n *       into the initialize(params) function from the configuration object.\r\n */\r\n\r\n// example:\r\nvar Sprocket = fw.viewModel({\r\n  // ... configuration object ...\r\n  namespace: \'Sprocket\',\r\n  initialize: function(params) {\r\n    // params === object passed in when calling new Sprocket( ... )\r\n    this.type = fw.observable(params.type);\r\n    this.color = params.color || \'orange\';\r\n    this.price = fw.observable(params.price);\r\n    this.isExpensive = fw.computed(function() {\r\n      return this.price() > 10;\r\n    }, this);\r\n  }\r\n});\r\n\r\nvar awesomeSprocket = new Sprocket({ type: \'awesome\', price: 3.50 });\r\n// awesomeSprocket.type() === \'awesome\'\r\n// awesomeSprocket.color === \'orange\'\r\n// awesomeSprocket.isExpensive() === false\r\n\r\n// You can then bind it to the DOM just like any other knockout viewModel/javascript object:\r\nfw.applyBindings(awesomeSprocket, document.getElementById(\'sprocket-container\'));\r\n</code></pre>\r\n\r\n      <h3>Automatic initialization via <span class="inline-code">&lt;viewModel module="[moduleName]"&gt; ... &lt;/viewModel&gt;</span> declaration in the DOM:</h3>\r\n<pre><code class="html">&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;viewModel module="Sprocket"&gt;\r\n      Type: &lt;span data-bind="text: type"&gt;&lt;/span&gt;\r\n      &lt;!-- ko if: isExpensive --&gt;\r\n        &lt;span class="warning"&gt;This is expensive!&lt;/span&gt;\r\n      &lt;!-- /ko --&gt;\r\n    &lt;/viewModel&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n      <p class="note"><span class="label">NOTE:</span> See <a href="#loading-registering">AMD / Lazy Loading / Registering</a> for information on how to make sure footwork knows how to find your viewModels/modules.</p>\r\n\r\n      <h3>Automatic initialization via <span class="inline-code">&lt;[component-name]&gt;&lt;/[component-name]&gt;</span> declaration in the DOM:</h3>\r\n<pre><code class="html">&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;sprocket&gt;&lt;/sprocket&gt;\r\n    &lt;!-- NOTE: Both the viewModel and template are either autoloaded via requireJS/AMD, or \r\n              loaded from cache/configuration you supply to the framework --&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n      <p class="note"><span class="label">NOTE:</span> See <a data-bind="$route" href="/api/components#loading-registering">component AMD / Lazy Loading / Registering</a> for information on how to tell footwork where to find your component assets.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="loading-registering" class="section-anchor"></a>\r\n  <section name="loading-registering">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">AMD / Lazy Loading / Registering</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>footwork.js supports both pre-caching/registering your viewModels ahead of time or automatically loading via AMD/RequireJS. In either case, the declarative <span class="inline-code">&lt;viewModel module="[moduleName]"&gt; ... &lt;/viewModel&gt;</span> syntax will trigger the loading (if necessary), initialization, and binding of the viewModel/module.</p>\r\n      <p>AMD/RequireJS is fully supported (and highly encouraged) for a number of reasons:</p>\r\n      <ul>\r\n        <li>It strongly encourages modularization and separation of concerns.</li>\r\n        <li>Helps decouple your application and allow for easier testability.</li>\r\n        <li>footwork can take advantage of its dependency resolution to automatically load and use resources for you as needed at runtime (<em>including the automatic loading and composing of entire views/pages/routes, components, or viewModels</em>).</li>\r\n        <li>Allows for easier debugging as non-compiled assets while still being buildable for release into a production environment.</li>\r\n        <li>Allows for easy and highly configurable caching/preloading of assets (this includes all components, viewModels, and templates). None, some, or all of it...you choose what your users wait for.</li>\r\n      </ul>\r\n\r\n      <h3>Example AMD/RequireJS enhanced footwork module:</h3>\r\n<pre><code class="javascript">/**\r\n * An AMD/RequireJS module is defined in exactly the same way as a normal knockout module would be.\r\n * The only difference being that you return the footwork-flavored viewModel constructor function\r\n * result from fw.viewModel() instead of a normal function() {} constructor.\r\n */\r\ndefine(["footwork"],\r\n  function(fw) {\r\n    return fw.viewModel({\r\n      // ... configuration object ...\r\n      namespace: \'Sprocket\',\r\n\r\n      /**\r\n       * [optional] This module will now automatically register itself as \'Sprocket\' and footwork\r\n       * can autoload and bind it as soon as it is pulled in via AMD.\r\n       *\r\n       * This is an easy way to autoload and cache your viewModels for declarative use in your HTML.\r\n       */\r\n      autoRegister: true,\r\n\r\n      initialize: function() {\r\n        this.isUsed = fw.observable(false);\r\n      }\r\n    });\r\n  }\r\n);</code></pre>\r\n\r\n      <p>Automatically loading and binding a section of your DOM with a viewModel begins with inserting/wrapping the html in your template with a <span class="inline-code">&lt;viewModel module="[moduleName]"&gt; ... &lt;/viewModel&gt;</span> element.</p>\r\n      <h3>Example:</h3>\r\n<pre><code class="html">&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;viewModel module="[moduleName]"&gt;\r\n      &lt;!-- HTML to be bound using an instance of the viewModel/module --&gt;\r\n    &lt;/viewModel&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n      <p class="note"><span class="label">NOTE:</span> You can nest viewModels and components within one another.</p>\r\n\r\n      <h3>viewModel/module resolution</h3>\r\n      <p>There are 3 ways footwork will try to resolve your viewModel when it encounters the declarative <span class="inline-code">&lt;viewModel module="[moduleName]"&gt; ... &lt;/viewModel&gt;</span> element you place in the DOM.</p>\r\n      <p>Here they are in order of priority:</p>\r\n      <ul>\r\n        <li>Pre-cached via a <span class="inline-code">fw.viewModels.register()</span> call.</li>\r\n        <li>Automatic download/resolution via AMD/RequireJS at a pre-registered location (<span class="inline-code">fw.viewModels.registerLocation()</span>).</li>\r\n        <li>Automatic download/resolution via AMD/RequireJS at the configurable default (<span class="inline-code">fw.viewModels.defaultLocation()</span>).</li>\r\n      </ul>\r\n\r\n      <p>Registering a viewModel explicitly with <span class="inline-code">fw.viewModels.register()</span> makes it immediately available. Any <span class="inline-code">&lt;viewModel module="[moduleName]"&gt; ... &lt;/viewModel&gt;</span> declarations encountered will be processed with no delay (the viewModel is \'cached\' when registered).</p>\r\n      <p>The 2 methods <span class="inline-code">registerLocation()</span> and <span class="inline-code">defaultLocation()</span> tell footwork where it can download your viewModel module (in the event you do not explicitly register it). In any case your markup will wait until the viewModel is resolved prior to being initialized.</p>\r\n      <div class="note"><span class="label">NOTE:</span> Nested viewModels and components are independently resolved. It works as you would expect, with an outer-most container (viewModel/component) initializing/processing/binding and rendering, then any nested viewModels/components get initialized (and so forth until the end).</div>\r\n      <h3><em class="func-def">fw.viewModels.register<span>( <span class="param">\'moduleName\'</span>, <span class="param">viewModel</span> )</span></em></h3>\r\n      <h3>Cache a viewModel/module ahead of time:</h3>\r\n<pre><code class="javascript">// register a footwork viewModel\r\nvar Sprocket = fw.viewModel({ /* configuration object */ });\r\nfw.viewModels.register(\'Sprocket\', Sprocket);\r\n\r\n// register a normal class constructor function (like in regular knockout)\r\nvar Sprocket = function() { this.isUsed = fw.observable(false); };\r\nfw.viewModels.register(\'Sprocket\', Sprocket);\r\n\r\n// register an instance of an object (like in regular knockout)\r\nfw.viewModels.register(\'Sprocket\', {\r\n  instance: { isUsed: false } // object representing the viewModel to be bound against the DOM\r\n});\r\n\r\n/**\r\n * A constructor function to be called when the declaration is encountered.\r\n * It is supplied params given at the binding (&lt;viewModel params="exampleParam: true"&gt;) and\r\n * the containing element of the viewModel.\r\n */\r\nfw.viewModels.register(\'Sprocket\', {\r\n  createViewModel: function(params, info) {\r\n    // info.element = containing &lt;viewModel&gt; element\r\n    // params are the parameters declaratively created from the DOM (See: note below)\r\n    return { isUsed: false }; // object representing the viewModel to be bound against the DOM\r\n  }\r\n});</code></pre>\r\n      <div class="note">\r\n        <p><span class="label">NOTE:</span> Are you using a fw.viewModel() constructor and simply want to register it using the namespace name (recommended)?</p>\r\n        <p>You can optionally just set <span class="inline-code">autoRegister: true</span> in the viewModel configuration object, then the fw.viewModel.register call is taken care of for you when the viewModel constructor is created.</p>\r\n        <p>See: <a href="#configuration">viewModel configuration</a>.</p>\r\n      </div>\r\n\r\n      <h3><em class="func-def">fw.viewModels.unregister<span>( <span class="param">\'moduleName\'</span> )</span></em></h3>\r\n      <h3>Unregister a component:</h3>\r\n<pre><code class="javascript">fw.viewModels.register(\'sprocket\', {\r\n  viewModel: fw.viewModel({ /* ... configuration object ... */ }),\r\n  template: \'&lt;!-- template HTML --&gt;\'\r\n});\r\nfw.viewModels.unregister(\'sprocket\');\r\n\r\n// fw.viewModels.isRegistered(\'sprocket\') === false</code></pre>\r\n\r\n      <h3><em class="func-def">fw.viewModels.registerLocation<span>( <span class="param">\'moduleName\'</span>, <span class="param">\'path/to/module\'</span> )</span></em></h3>\r\n      <h3>Register the location of a viewModel/module so footwork can load and bind it for you when needed:</h3>\r\n<pre><code class="javascript">// Load Sprocket from: /viewModels/parts/Sprocket.js (based on viewModel/module name, case sensitive)\r\nfw.viewModels.registerLocation(\'Sprocket\', \'/viewModels/parts/\');\r\n\r\n// Load Sprocket from: /viewModels/parts/DifferentFileName.js (specify full file name)\r\nfw.viewModels.registerLocation(\'Sprocket\', \'/viewModels/parts/DifferentFileName.js\');\r\n\r\n// register the location of several viewModels at once (ie: all in the same folder)\r\nfw.viewModels.registerLocation([\'Body\', \'Navigation\', \'Footer\'], \'/viewModels/pageAreas/\');</code></pre>\r\n\r\n      <h3><em class="func-def">fw.viewModels.defaultLocation<span>( <span class="param">\'path/to/viewModel/folder\'</span> )</span></em></h3>\r\n      <h3>Register the default location of viewModels/modules so footwork can load and bind them for you when needed:</h3>\r\n<pre><code class="javascript">// Load all viewModels from /myViewModels/[module-name].js (case sensitive)\r\nfw.viewModels.defaultLocation(\'/myViewModels/\');</code></pre>\r\n\r\n    </div>\r\n  </section>\r\n\r\n  <a id="module-formats" class="section-anchor"></a>\r\n  <section name="module-formats">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Module Formats</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Loading your viewModel/module in so that footwork can use it is done via a script loader.</p>\r\n      <p>Both <a href="http://requirejs.org">AMD/RequireJS</a> and <a href="http://browserify.org" target="_blank">Browserify</a> are supported. However RequireJS is preferred as it will enable\r\n      footwork to resolve your viewModels/components (and their dependencies) automatically at runtime as needed.</p>\r\n      <p>The following example shows the RequireJS/AMD flavored version.</p>\r\n      <h3>viewModel and template are loaded separately:</h3>\r\n<pre><code class="javascript">// File located in: /viewModel/sprocket.js\r\ndefine(["footwork"],\r\n  function(fw) {\r\n    return fw.viewModel({\r\n      namespace: \'sprocket\'\r\n      // ...\r\n    });\r\n  }\r\n);</code></pre>\r\n      <div class="note">\r\n        <p><span class="label">NOTE:</span> You can return any constructor function or plain object from your viewModel modules (you don\'t have to return a footwork viewModel constructor as shown).</p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="lifecycle" class="section-anchor"></a>\r\n  <section name="lifecycle">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Lifecycle</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Lifecycle events are automatically handled for you when using a viewModel via one of the three main methods:</p>\r\n      <ul>\r\n        <li>Use the <span class="inline-code">&lt;viewModel&gt; ... &lt;/viewModel&gt;</span> declarative syntax.</li>\r\n        <li>Use the <span class="inline-code">&lt;[component-name]&gt;&lt;/[component-name]&gt;</span> declarative syntax.</li>\r\n        <li>Manually bound (<span class="inline-code">fw.applyBindings()</span>) to the DOM.</li>\r\n      </ul>\r\n      <p>viewModels that are attached to the DOM retrive two main lifecycle events, one just after binding to the DOM (<span class="inline-code">afterBinding()</span>) and one when the element (that the viewModel bound itself to) is removed from the DOM (<span class="inline-code">onDispose()</span>, called just before the element is removed).</p>\r\n      <div class="note"><span class="label">NOTE:</span> Any subscriptions, namespaces, events, etc must be assigned to <span class="inline-code">this</span> if you want them to automatically be cleaned up for you when the viewModel is disposed.</div>\r\n<pre><code class="javascript">var someOtherObservable = fw.observable();\r\n\r\nvar MyViewModel = fw.viewModel({\r\n  initialize: function() {\r\n    this.myVarSub = someOtherObservable.subscribe(function() {\r\n      // This subscription will get cleaned up when the viewModel is disposed\r\n    });\r\n\r\n    this.$namespace.command.handler(\'doSomething\', function() {\r\n      // This command handler will get cleaned up when the viewModel is disposed\r\n    });\r\n\r\n    this.$someOtherNamespace = fw.namespace(\'SomeOtherNamespace\');\r\n    this.$someOtherNamespace.command.handler(\'doSomethingElse\', function() {\r\n      // This command handler will get cleaned up when the viewModel is disposed\r\n    });\r\n\r\n    this.someOtherThing = {\r\n      eventHandler: this.$namespace.event.handler(\'someEvent\', function() {\r\n        // This will NOT get cleaned up, handler result/subscription is not attached to \'this\'\r\n      })\r\n    };\r\n  }\r\n});\r\n</code></pre>\r\n      <p>If you do not bind a viewModel to the DOM then you will want to tell it to clean up its references when you are getting rid of it. This is done by calling <span class="inline-code">viewModel.dispose()</span> directly.</p>\r\n      <h3 class="top"><em class="func-def">viewModel.dispose<span>()</span></em></h3>\r\n      <h3>Dispose of all namespaces, handlers, and subscriptions assigned to a viewModel:</h3>\r\n<pre><code class="javascript">var MyViewModel = fw.viewModel({ /* ... */ });\r\nvar viewModel = new MyViewModel();\r\n// ...\r\nviewModel.dispose(); // all namespaces, handlers, and subscriptions now cleaned up/removed\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="properties" class="section-anchor"></a>\r\n  <section name="properties">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Properties</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>After a viewModel has been created, there are a few properties/references which are added/available to the object depending on its current state.</p>\r\n\r\n      <h3>viewModel.$namespace <em>(available after instantiation)</em></h3>\r\n      <p>Every instantiated viewModel will have a property called <span class="inline-code">$namespace</span>, this is the namespace channel created as a result of the <span class="inline-code">namespace:</span> configuration attribute given. It should\r\n      be used to setup any handlers and subscriptions on the current namespace that a viewModel might need.</p>\r\n<pre><code class="javascript">var Navigation = fw.viewModel({\r\n  namespace: \'Navigation\',\r\n  initialize: function() {\r\n    this.$namespace.event.handler(\'userLoggedIn\', function(username) {\r\n      console.log(\'Welcome\', username);\r\n    });\r\n  }\r\n});\r\n\r\nvar navigation = new Navigation();\r\n\r\nvar navNamespace = fw.namespace(\'Navigation\');\r\nnavNamespace.trigger(\'userLoggedIn\', \'Jonathan\'); // console prints: Welcome Jonathan</code></pre>\r\n\r\n      <h3>viewModel.$router <em>(available after instantiation)</em></h3>\r\n      <p>If you provide a viewModel with a <span class="inline-code">router: {}</span> configuration parameter then the <span class="inline-code">$router</span> will be available just after instantiation.</p>\r\n<pre><code class="javascript">var Navigation = fw.viewModel({\r\n  namespace: \'Navigation\',\r\n  router: { /* ... see: /api/routing ... */ },\r\n  initialize: function() {\r\n    // set the URL/state of the viewModels router to \'/\'\r\n    this.$router.setState(\'/\')\r\n  }\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n      <h3>viewModel.$element <em>(available after binding)</em></h3>\r\n      <p>After a viewModel is bound with the DOM, the element it is bound to is assigned to the <span class="inline-code">$element</span> property.</p>\r\n<pre><code class="javascript">var Navigation = fw.viewModel({\r\n  namespace: \'Navigation\',\r\n  initialize: function() { /* ... */ }\r\n  afterBinding: function() {\r\n    this.$element.className += \'isBound\';\r\n  }\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="mixins" class="section-anchor"></a>\r\n  <section name="mixins">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Mixins</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Mixins are about reusing behavior, functionality, and code whenever possible. It allows you to write various mixins and then later on combine\r\n      and compose the desired behavior you want for a viewModel at runtime.</p>\r\n      <p>The mixin functionality in footwork is provided via a library called <a href="https://github.com/a2labs/riveter" target="_blank">riveter</a>.\r\n      All <span class="inline-code">fw.viewModel()</span> based constructor functions are riveter constructor functions. Above and beyond the\r\n      functionality outlined here, each object has various methods extended from riveter which can enable you to extend viewModels in\r\n      various ways, I would encourage you to also <a href="https://github.com/a2labs/riveter" target="_blank">look at its documentation</a>.</p>\r\n\r\n      <ul>\r\n        <li><a href="#mixin-configuration">Configuration</a></li>\r\n        <li><a href="#mixin-usage">Usage</a></li>\r\n      </ul>\r\n\r\n      <h3>Basic usage:</h3>\r\n<pre><code class="javascript">var bigSprocket = { /* mixin configuration object */ };\r\nvar bikeSprocket = { /* mixin configuration object, detailed in the next section */ };\r\n\r\n/**\r\n * Mixin behavior is applied to a viewModel by passing it into the\r\n * fw.viewModel() configuration object\r\n * NOTE: mixins are applied to the viewModel in the order they are given.\r\n */\r\nvar Sprocket = fw.viewModel({\r\n  // ... viewModel configuration object\r\n  namespace: \'Sprocket\',\r\n  initialize: function(param) {\r\n    this.type = param.type;\r\n  },\r\n\r\n  // mixins/behavior to include for each new \'Sprocket\' viewModel\r\n  mixins: [ bigSprocket, bikeSprocket ]\r\n});\r\n\r\nvar mySprocket = new Sprocket({ type: \'awesome\' });</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="mixin-configuration" class="section-anchor"></a>\r\n  <section name="mixin-configuration">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Configuration</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Each mixin is simply a configuration object defining certain behaviors, functionality, and logic. The behavior you define will be added to each viewModel instance\r\n      it is configured with.</p>\r\n      <h3>Mixin configuration object synopsis:</h3>\r\n<pre><code class="javascript">// define \'bigSprocket\' as an object to serve as the configuration container\r\nvar bigSprocket = {\r\n  _preInit: function(param1, param2, ...) {\r\n    /**\r\n     * called prior to the initialize() method from the viewModel configuration being called\r\n     * params === params passed in at creation\r\n     * this === the viewModel\r\n     */\r\n  },\r\n\r\n  mixin: {\r\n    /**\r\n     * these properties are added to \'this\' object immediately upon creation, before\r\n     * any methods (including _preInit) are called\r\n     */\r\n    function1: function() {\r\n      // function that is extended onto the viewModel object (this) upon creation\r\n      // this === the viewModel\r\n    },\r\n    function2: function() {\r\n      // another function that is extended onto the viewModel object (this) upon creation\r\n      // this === the viewModel\r\n    },\r\n    property1: \'someValue\' // a raw property extended to the object\r\n    // ...\r\n  },\r\n\r\n  _postInit: function() {\r\n    /**\r\n     * called after the initialize() method from the viewModel configuration is called\r\n     * this === the viewModel\r\n     */\r\n  }\r\n};</code></pre>\r\n      <div class="note">\r\n        <span class="label">NOTE:</span>\r\n        <ul>\r\n          <li>If you require some other type of object extension or mixin, as recommended above you should look at the <a href="https://github.com/a2labs/riveter" target="_blank">riveter documentation</a>.</li>\r\n          <li>A viewModel can have as many mixins as you want, and you can re-use them across as many differing viewModels/modules as you like.</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="mixin-usage" class="section-anchor"></a>\r\n  <section name="mixin-usage">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Example mixin usage</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Each mixin behavior is added to each new instance of the viewModel that is created. This goes for ones instantiated automatically via declarative HTML, or directly/manually in javascript code.</p>\r\n      <p>All mixins may be reused on both a standalone viewModel and viewModels attributed with a component.</p>\r\n      <h3>Example usage:</h3>\r\n<pre><code class="javascript">// define the mixin configuration object\r\nvar bigSprocket = {\r\n  _preInit: function(param) {\r\n    this.isAwesome = (param.type === \'awesome\' ? true : false);\r\n    // this.isBig === true\r\n  },\r\n  mixin: {\r\n    isBig: true,\r\n    fitInSmallPlace: function() {\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\n// create a BigSprocket contructor and include the bigSprocket mixin\r\nvar BigSprocket = fw.viewModel({\r\n  namespace: \'Sprocket\',\r\n  initialize: function(param) {\r\n    this.type = param.type;\r\n  },\r\n  mixins: [ bigSprocket ]\r\n});\r\n\r\nvar mySprocket = new BigSprocket({ type: \'awesome\' });\r\n// mySprocket.fitInSmallPlace() === false\r\n// mySprocket.isBig === true\r\n// mySprocket.isAwesome === true</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="misc" class="section-anchor"></a>\r\n  <section name="misc">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Utility / Misc</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Various useful methods and utility functions for misc and debugging purposes.</p>\r\n\r\n      <ul>\r\n        <li><a href="#getAll">fw.viewModels.getAll()</a></li>\r\n        <li><a href="#isRegistered">fw.viewModels.isRegistered()</a></li>\r\n        <li><a href="#getRegistered">fw.viewModels.getRegistered()</a></li>\r\n        <li><a href="#getResourceLocation">fw.viewModels.getResourceLocation()</a></li>\r\n        <li><a href="#getFileName">fw.viewModels.getFileName()</a></li>\r\n        <li><a href="#fileExtensions">fw.viewModels.fileExtensions()</a></li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="getAll" class="section-anchor"></a>\r\n  <section name="getAll">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.viewModels.getAll<span>()</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.viewModels.getAll<span>( <span class="param">\'moduleName\'</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.viewModels.getAll<span>( <span class="param">[ \'moduleName\', \'moduleName2\', ... ]</span> )</span></em></h3>\r\n      <h3>Get list of currently instantiated viewModels grouped/indexed by namespace:</h3>\r\n<pre><code class="javascript">var Bike = fw.viewModel({\r\n  namespace: \'Bike\',\r\n  initialize: function() {\r\n    this.isBike = true;\r\n  }\r\n});\r\nvar Wheel = fw.viewModel({\r\n  namespace: \'Wheel\',\r\n  initialize: function() {\r\n    this.isWheel = true;\r\n  }\r\n});\r\n\r\nvar bike = new Bike();\r\nvar wheel1 = new Wheel();\r\nvar wheel2 = new Wheel();\r\n\r\nvar viewModels = fw.viewModels.getAll();\r\n// viewModels[\'Bike\'].isBike === true\r\n// viewModels[\'Wheel\'].length === 2\r\n// viewModels[\'Wheel\'][0].isWheel === true\r\n\r\nvar viewModels = fw.viewModels.getAll(\'Bike\'); // get all \'Bike\' instances\r\n// viewModels === {\r\n//  Bike: { ... }\r\n// }\r\nvar viewModels = fw.viewModels.getAll([\'Bike\', \'Wheel\']); // get all \'Bike\' and \'Wheel\' instances\r\n// viewModels === {\r\n//  Bike: { ... },\r\n//  Wheel: [ { ... }, { ... } ]\r\n// }\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="isRegistered" class="section-anchor"></a>\r\n  <section name="isRegistered">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.viewModels.isRegistered<span>( <span class="param">\'moduleName\'</span> )</span></em></h3>\r\n      <h3>Return true or false based on whether or not there is a viewModel that has been registered under \'moduleName\':</h3>\r\n<pre><code class="javascript">var Bike = fw.viewModel({\r\n  namespace: \'Bike\',\r\n  initialize: function() {\r\n    this.isBike = true;\r\n  }\r\n});\r\n\r\nfw.viewModels.register(\'Bike\', Bike);\r\n// fw.viewModels.isRegistered(\'Bike\') === true\r\n// fw.viewModels.isRegistered(\'ModuleThatIsLoadedByAMD\') === false</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="getRegistered" class="section-anchor"></a>\r\n  <section name="getRegistered">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.viewModels.getRegistered<span>( <span class="param">\'moduleName\'</span> )</span></em></h3>\r\n      <h3>Return viewModel that has been registered under \'moduleName\':</h3>\r\n<pre><code class="javascript">// Explicit registration\r\nvar Bike = fw.viewModel({ /* ... configuration object */ });\r\nfw.viewModels.register(\'Bike\', Bike);\r\n// fw.viewModels.getRegistered(\'Bike\') === Bike;\r\n\r\n// viewModel that registers itself\r\nvar Sprocket = fw.viewModel({\r\n  autoRegister: true,\r\n  // ... remainder of configuration object\r\n});\r\n// fw.viewModels.getRegistered(\'Sprocket\') === Sprocket;</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="getResourceLocation" class="section-anchor"></a>\r\n  <section name="getResourceLocation">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.viewModels.getResourceLocation<span>( <span class="param">\'moduleName\'</span> )</span></em></h3>\r\n      <h3>Get the path footwork will attempt to load for the given \'moduleName\':</h3>\r\n<pre><code class="javascript">fw.viewModels.registerLocation(\'Sprocket\', \'/path/to/viewModel/folder\');\r\n// fw.viewModels.getResourceLocation(\'Sprocket\') === \'/path/to/viewModel/folder\'</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="getFileName" class="section-anchor"></a>\r\n  <section name="getFileName">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.viewModels.getFileName<span>( <span class="param">\'moduleName\'</span> )</span></em></h3>\r\n      <h3>Get the file name that footwork will appended to the path when downloading the viewModel:</h3>\r\n<pre><code class="javascript">var fileNameForSprocket = fw.viewModels.getFileName(\'sprocket\'); // === sprocket.js\r\n\r\n/**\r\n * If the viewModel was explicitly registered (cached), then null is returned for any\r\n * fileType because the file name will never be used.\r\n */\r\nfw.viewModels.register(\'sprocket\', fw.viewModel({ /* configuration object */ }) );\r\nvar fileNameForSprocket = fw.viewModels.getFileName(\'sprocket\'); // === null\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="fileExtensions" class="section-anchor"></a>\r\n  <section name="fileExtensions">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.viewModels.fileExtensions<span>( <span class="param">\'.ext\'</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.viewModels.fileExtensions<span>( <span class="param">function(moduleName) { ... }</span> )</span></em></h3>\r\n      <h3>Specify the extension to append to an AMD/RequireJS loaded viewModel path when it does not have an extension specified (ie: full file name not specified):</h3>\r\n<pre><code class="javascript">// Explicitely set the extension\r\nfw.viewModels.fileExtensions(\'.jscript\'); // append viewModel module files with \'.jscript\'\r\n\r\n// You can also specify a function() whose return value is used as the extension.\r\nfw.viewModels.fileExtensions(function(moduleName) {\r\n  if(moduleName === \'Sprocket\') {\r\n    return \'.jscript\';\r\n  } else {\r\n    return \'.js\';\r\n  }\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "viewModel",\r\n  "description": "viewModel declaration, instantiation, and binding.",\r\n  "sections": [\r\n    { "anchor": "introduction",\r\n      "title": "Introduction",\r\n      "subSections": [\r\n        { "anchor": "configuration",\r\n          "title": "Configuration" },\r\n        { "anchor": "initialization",\r\n          "title": "Initialization / Usage" },\r\n        { "anchor": "loading-registering",\r\n          "title": "AMD / Lazy Loading / Registering" },\r\n        { "anchor": "module-formats",\r\n          "title": "Module Formats" },\r\n        { "anchor": "lifecycle",\r\n          "title": "Lifecycle" },\r\n        { "anchor": "properties",\r\n          "title": "Properties" }\r\n      ] },\r\n    { "anchor": "mixins",\r\n      "title": "Mixins",\r\n      "collapsable": true,\r\n      "isCollapsed": true,\r\n      "subSections": [\r\n        { "anchor": "mixin-configuration",\r\n          "title": "Configuration" },\r\n        { "anchor": "mixin-usage",\r\n          "title": "Usage" }\r\n      ] },\r\n    { "anchor": "misc",\r\n      "title": "Utility / Misc",\r\n      "collapsable": true,\r\n      "isCollapsed": true,\r\n      "subSections": [\r\n        { "anchor": "getAll",\r\n          "title": "fw.viewModels.getAll()" },\r\n        { "anchor": "isRegistered",\r\n          "title": "fw.viewModels.isRegistered()" },\r\n        { "anchor": "getRegistered",\r\n          "title": "fw.viewModels.getRegistered()" },\r\n        { "anchor": "getResourceLocation",\r\n          "title": "fw.viewModels.getResourceLocation()" },\r\n        { "anchor": "getFileName",\r\n          "title": "fw.viewModels.getFileName()" },\r\n        { "anchor": "fileExtensions",\r\n          "title": "fw.viewModels.fileExtensions()" }\r\n      ] }\r\n  ]\r\n}\r\n</div>'
}),define("text!../../pages/api/namespacing-page.html",[],function(){return'<article>\r\n  <a id="introduction" class="section-anchor"></a>\r\n  <section name="introduction">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Introduction</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Namespaces in footwork can be thought of as communication \'channels\'. They are the information highways your application uses to shuffle data and state from one area to another.</p>\r\n      <p>Organizing your modules and keeping them decoupled is extremely important in more complex javascript applications. Without a standardized way of coordinating information, an application\r\n      will quickly turn into to a horrible tangled mess of code. This tangled mess becomes a buggy unmanageable piece of poo...no one likes to touch poo.</p>\r\n      <p>Footwork marshals all of that by organizing your modules firstly by namespaces. Namespaces boil down to a simple <span class="inline-code">\'string\'</span> value which is used to segment off\r\n      the communication meant for one module from another. Footwork uses this namespacing to provide a lot of enhanced functionality via \r\n      <a href="http://martinfowler.com/bliki/CQRS.html" target="_blank" title="Command Query Responsibility Segregation">CQRS</a> and other common communications design patterns.</p>\r\n      <h3>All of this essentially means is that the communication between your modules/viewModels/components/<em>whatever</em> will be both expressive and easily managed.</h3>\r\n      <div class="note"><span class="label">NOTE:</span> At its core namespaces in footwork are enhanced <a href="https://github.com/postaljs/postal.js" target="_blank">postal.js</a> pub/sub channels.\r\n      If you need to enhance or alter how communication is handled then you likely want to take a look at the postal documentation.</div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="usage" class="section-anchor"></a>\r\n  <section name="usage">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Usage</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>There are essentially 2 different ways a namespace can be used:</p>\r\n      <ul>\r\n        <li>Coupled with a viewModel/component, automatically initialized and disposed of for you.</li>\r\n        <li>Independently/Manually instantiated by you and <em>sometimes</em> disposed of for you.</li>\r\n      </ul>\r\n      <div class="note"><span class="label">NOTE:</span> If you just need to share a property across viewModels/components then take a look <a href="/api/broadcastable-receivable" data-bind="$route">broadcastable / receivable</a>, they make\r\n      basic sharing of data between modules a no-brainer.</div>\r\n      <ul>\r\n        <li><a href="#independent-usage">Independent Usage</a></li>\r\n        <li><a href="#coupled-usage">Coupled Usage</a></li>\r\n        <li><a href="#lifecycle">Lifecycle</a></li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="independent-usage" class="section-anchor"></a>\r\n  <section name="independent-usage">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Independent Usage</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>You will need to instantiate a namespace channel anytime you need to send a command/request, trigger an event, or publish some piece of information to another namespace.</p>\r\n      <p>To do this, call the <span class="inline-code">fw.namespace()</span> factory and pass it a string (namespace name).</p>\r\n      <h3><em class="func-def">fw.namespace<span>( <span class="param">\'namespaceName\'</span> )</span></em></h3>\r\n<pre><code class="javascript">var myNamespace = fw.namespace(\'myNamespace\');\r\nmyNamespace.subscribe(\'sayHello\', function(toWhom) {\r\n  console.info(\'Greetings \' + toWhom);\r\n});\r\n\r\nmyNamespace.publish(\'sayHello\', \'Jonathan\'); // console prints: \'Greetings Jonathan\'\r\n</code></pre>\r\n      <p>It is important to note that namespaces are based on their <span class="inline-code">\'string\'</span> key, not the instantiated object...they are just the channels <em>to</em> that namespace.</p>\r\n      <h3>This means that each newly instantiated namespace with the same <span class="inline-code">\'string\'</span> key will all hear the same events/commands/etc:</h3>\r\n<pre><code class="javascript">var myNamespace = fw.namespace(\'myNamespace\');\r\nmyNamespace.subscribe(\'sayHello\', function(toWhom) {\r\n  console.log(\'Greetings \' + toWhom);\r\n});\r\n\r\nvar alsoMyNamespace = fw.namespace(\'myNamespace\');\r\nalsoMyNamespace.publish(\'hello\', \'Jonathan\'); // console prints: \'Greetings Jonathan\'\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="coupled-usage" class="section-anchor"></a>\r\n  <section name="coupled-usage">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Coupled Usage (with viewModel/component)</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Anytime you place a <span class="inline-code">&lt;viewModel module="[moduleName]"&gt; ... &lt;/viewModel&gt;</span> or <span class="inline-code">&lt;component&gt;&lt;/component&gt;</span> in your markup footwork is\r\n      essentially wrapping that section of HTML with a viewModel. That viewModel has a namespace attached to/associated with it (based on the <span class="inline-code">namespace:</span> viewModel configuration attribute, see <a href="/api/viewModel#configuration" data-bind="$route">viewModel configuration</a>).</p>\r\n      <p>When footwork sets up the new instance of your viewModel it automatically creates a namespace channel and assigns it to <span class="inline-code">this.$namespace</span>. This namespace will have its lifecycle handled automatically, and any subscriptions made on it will be cleaned up when the viewModel is destroyed.</p>\r\n      <p>The following shows an example of using a declarative <span class="inline-code">&lt;viewModel&gt; ... &lt;/viewModel&gt;</span>, however it works exactly the same with a component (and its viewModel).</p>\r\n<pre><code>&lt;!-- File: index.html --&gt;\r\n&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;!--\r\n      namespace and all attached handlers for Sprocket viewModel\r\n      handled automatically whenever it is added or removed from the DOM\r\n    --&gt;\r\n    &lt;viewModel module="Sprocket"&gt;\r\n      &lt;!-- ko if: isExpensive --&gt;Warning: Expensive sprocket.&lt;!-- /ko --&gt;\r\n    &lt;/viewModel&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n\r\n<pre><code class="javascript">// File: /viewModel/Sprocket.js\r\ndefine(["footwork"],\r\n  function(fw) {\r\n    return fw.viewModel({\r\n      namespace: \'Sprocket\',\r\n      initialize: function() {\r\n        // this.$namespace.getName() === \'Sprocket\'\r\n        this.isExpensive = fw.observable(false);\r\n        this.$namespace.subscribe(\'ThrowAway\', function(reason) {\r\n          // this handler will be automatically unsubscribed and cleaned up\r\n        });\r\n      }\r\n    });\r\n  }\r\n);\r\n</code></pre>\r\n      <div class="note"><span class="label">NOTE:</span> Lifecycle events (<span class="inline-code">afterBinding()</span> and <span class="inline-code">onDispose()</span>) are also dispatched whenever a viewModel or component-viewModel are added/removed from the DOM. See <a href="/api/viewModel" data-bind="$route">viewModel</a>.</div>\r\n\r\n    </div>\r\n  </section>\r\n\r\n  <a id="lifecycle" class="section-anchor"></a>\r\n  <section name="lifecycle">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Lifecycle</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Namespace subscriptions and handlers are automatically cleaned up for you when it is attached to a viewModel (See: <a href="/api/viewModel#lifecycle" data-bind="$route">viewModel lifecycle</a>). In other scenarios you must tell the namespace when to clean up its references, this is done via <span class="inline-code">dispose()</span>.</p>\r\n      <h3 class="top"><em class="func-def">namespace.dispose<span>( )</span></em></h3>\r\n      <h3>Dispose of all registered subscriptions and handlers:</h3>\r\n<pre><code class="javascript">var myNamespace = fw.namespace(\'Waldo\');\r\nmyNamespace.request.handler(\'ping\', function() {\r\n  return \'pong\';\r\n});\r\n// myNamespace.request(\'ping\') === \'pong\'\r\n\r\nmyNamespace.dispose();\r\n// myNamespace.request(\'ping\') === undefined</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="namespace-getName" class="section-anchor top"></a>\r\n  <section name="namespace-getName" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.getName<span>( )</span></em></h3>\r\n      <h3>Get the name (channel) of the namespace:</h3>\r\n<pre><code class="javascript">var myNamespace = fw.namespace(\'Waldo\');\r\n// myNamespace.getName() === \'Waldo\'</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="pub-sub" class="section-anchor"></a>\r\n  <section name="pub-sub">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Publish / Subscribe</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Publish and subscribe to messages on a namespace channel.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="publish" class="section-anchor top"></a>\r\n  <section name="publish" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.publish<span>( <span class="param">\'topic\'</span>,  <span class="param">data</span> )</span></em></h3>\r\n      <h3>Publish a message on a namespace topic:</h3>\r\n<pre><code class="javascript">// sends data to any listeners subscribed to the topic \'sayHello\' on the myNamespace channel\r\nmyNamespace.publish(\'sayHello\', \'Jonathan\');</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="subscribe" class="section-anchor top"></a>\r\n  <section name="subscribe" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.subscribe<span>( <span class="param">\'topic\'</span>,  <span class="param">function(message) { ... }</span> )</span></em></h3>\r\n      <h3>Subscribe to a topic on a namespace:</h3>\r\n<pre><code class="javascript">myNamespace.subscribe(\'sayHello\', function(toWhom) {\r\n  console.log(\'Greetings \' + toWhom);\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="unsubscribe" class="section-anchor top"></a>\r\n  <section name="unsubscribe" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.unsubscribe<span>( <span class="param">subscription</span> )</span></em></h3>\r\n      <h3>Unsubscribe to a topic on a namespace:</h3>\r\n<pre><code class="javascript">var greetingSubscription = myNamespace.subscribe(\'sayHello\', function(toWhom) {\r\n  console.log(\'Greetings \' + toWhom);\r\n});\r\n\r\nmyNamespace.unsubscribe(greetingSubscription);\r\ngreetingSubscription.unsubscribe(); // also works</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="event" class="section-anchor"></a>\r\n  <section name="event">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Event</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Trigger and handle events on a namespace.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="trigger-event" class="section-anchor top"></a>\r\n  <section name="trigger-event" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.trigger<span>( <span class="param">\'eventName\'</span>,  <span class="param">data</span> )</span></em></h3>\r\n      <h3>Trigger an event on a namespace:</h3>\r\n<pre><code class="javascript">// sends data to any listeners bound to the topic \'sayHello\' on the myNamespace channel\r\nmyNamespace.trigger(\'buyGroceries\', { milk: 1, eggs: 12 });\r\n\r\n// You can also trigger bare events\r\nmyNamespace.trigger(\'findWaldo\');</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="event-handler" class="section-anchor top"></a>\r\n  <section name="event-handler" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.event.handler<span>( <span class="param">\'eventName\'</span>,  <span class="param">function(data) { ... }</span> )</span></em></h3>\r\n      <h3>Create a handler for an event on a namespace:</h3>\r\n<pre><code class="javascript">myNamespace.event.handler(\'foundWaldo\', function(location) {\r\n  console.log(\'Found Waldo at\', location);\r\n});\r\n\r\nmyNamespace.event.handler(\'findWaldo\', function() {\r\n  // go find Waldo\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="event-unregister" class="section-anchor top"></a>\r\n  <section name="event-unregister" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.event.unregister<span>( <span class="param">handler</span> )</span></em></h3>\r\n      <h3>Unregister an event handler:</h3>\r\n<pre><code class="javascript">var foundWaldo = myNamespace.event.handler(\'foundWaldo\', function() {\r\n  // yay, we found Waldo\r\n});\r\n\r\nmyNamespace.event.unregister(foundWaldo);\r\nfoundWaldo.unsubscribe(); // also works</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="request" class="section-anchor"></a>\r\n  <section name="request">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Request</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Request and respond to data requests on a namespace.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="issue-request" class="section-anchor top"></a>\r\n  <section name="issue-request" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.request<span>( <span class="param">\'requestKey\'</span>,  <span class="param">data</span>, <span class="param">allowMultiple = false</span> )</span></em></h3>\r\n      <h3>Request data from a namespace:</h3>\r\n<pre><code class="javascript">myNamespace.request.handler(\'waldoLocation\', function() {\r\n  return \'I have no idea.\';\r\n});\r\n// myNamespace.request(\'waldoLocation\') === \'I have no idea.\'\r\n\r\n/**\r\n * By passing \'true\' as the third argument to .request(), footwork will\r\n * return an array of responses received. By default only the first is returned\r\n * otherwise.\r\n */\r\nmyNamespace.request.handler(\'something\', function() {\r\n  return \'response 1\';\r\n});\r\nmyNamespace.request.handler(\'something\', function() {\r\n  return \'response 2\';\r\n});\r\n// myNamespace.request(\'waldoLocation\', null, true) === [ \'response 1\', \'response 2\' ]</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="request-handler" class="section-anchor top"></a>\r\n  <section name="request-handler" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.request.handler<span>( <span class="param">\'requestKey\'</span>,  <span class="param">function(data) { ... }</span> )</span></em></h3>\r\n      <h3>Create a handler for an request on a namespace, return value is passed back to the requester:</h3>\r\n<pre><code class="javascript">myNamespace.request.handler(\'waldoLocation\', function() {\r\n  return \'I have no idea.\';\r\n});\r\n\r\n// Take a parameter, do something with it and return a response\r\nmyNamespace.request.handler(\'taxCost\', function(amount) {\r\n  return amount * 0.0825;\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="request-unregister" class="section-anchor top"></a>\r\n  <section name="request-unregister" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.request.unregister<span>( <span class="param">handler</span> )</span></em></h3>\r\n      <h3>Unregister an request handler:</h3>\r\n<pre><code class="javascript">var waldoLocationResponder = myNamespace.request.handler(\'waldoLocation\', function() {\r\n  return \'I have no idea.\';\r\n});\r\n// myNamespace.request(\'waldoLocation\') === \'I have no idea\'\r\n\r\nmyNamespace.request.unregister(waldoLocationResponder);\r\nwaldoLocationResponder.unsubscribe(); // also works\r\n\r\n// myNamespace.request(\'waldoLocation\') === undefined\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="command" class="section-anchor"></a>\r\n  <section name="command">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Command</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Issue and perform operations based on commands sent to a namespace.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="issue-command" class="section-anchor top"></a>\r\n  <section name="issue-command" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.command<span>( <span class="param">\'commandName\'</span>,  <span class="param">data</span> )</span></em></h3>\r\n      <h3>Issue a command to a namespace:</h3>\r\n<pre><code class="javascript">myNamespace.command(\'findWaldo\');</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="command-handler" class="section-anchor top"></a>\r\n  <section name="command-handler" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.command.handler<span>( <span class="param">\'commandName\'</span>,  <span class="param">function(data) { ... }</span> )</span></em></h3>\r\n      <h3>Create a handler for a command on a namespace:</h3>\r\n<pre><code class="javascript">myNamespace.command.handler(\'buyGroceries\', function(items) {\r\n  // buy groceries\r\n});\r\n\r\nmyNamespace.command.handler(\'findWaldo\', function() {\r\n  // go find Waldo\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="command-unregister" class="section-anchor top"></a>\r\n  <section name="command-unregister" class="top">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">namespace.command.unregister<span>( <span class="param">handler</span> )</span></em></h3>\r\n      <h3>Unregister a command handler:</h3>\r\n<pre><code class="javascript">var findWaldo = myNamespace.command.handler(\'findWaldo\', function() {\r\n  // go find Waldo\r\n});\r\n\r\nmyNamespace.command.unregister(findWaldo);\r\nfindWaldo.unsubscribe(); // also works</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "Namespacing",\r\n  "description": "Namespacing, the communication channels of your application.",\r\n  "sections": [\r\n    { "anchor": "introduction",\r\n      "title": "Introduction" },\r\n    { "anchor": "usage",\r\n      "title": "Usage",\r\n      "subSections": [\r\n        { "anchor": "independent-usage",\r\n          "title": "Independent Usage" },\r\n        { "anchor": "coupled-usage",\r\n          "title": "Coupled Usage" },\r\n        { "anchor": "lifecycle",\r\n          "title": "Lifecycle" }\r\n      ] },\r\n    { "subSections": [\r\n        { "anchor": "namespace-getName",\r\n          "title": "namespace.getName()" }\r\n      ] },\r\n    { "anchor": "pub-sub",\r\n      "title": "Pub / Sub",\r\n      "collapsable": true,\r\n      "isCollapsed": true,\r\n      "subSections": [\r\n        { "anchor": "publish",\r\n          "title": "namespace.publish()" },\r\n        { "anchor": "subscribe",\r\n          "title": "namespace.subscribe()" },\r\n        { "anchor": "unsubscribe",\r\n          "title": "namespace.unsubscribe()" }\r\n      ] },\r\n    { "anchor": "event",\r\n      "title": "Event",\r\n      "collapsable": true,\r\n      "isCollapsed": true,\r\n      "subSections": [\r\n        { "anchor": "trigger-event",\r\n          "title": "namespace.trigger()" },\r\n        { "anchor": "event-handler",\r\n          "title": "namespace.event.handler()" },\r\n        { "anchor": "event-unregister",\r\n          "title": "namespace.event.unregister()" }\r\n      ] },\r\n    { "anchor": "request",\r\n      "title": "Request",\r\n      "collapsable": true,\r\n      "isCollapsed": true,\r\n      "subSections": [\r\n        { "anchor": "issue-request",\r\n          "title": "namespace.request()" },\r\n        { "anchor": "request-handler",\r\n          "title": "namespace.request.handler()" },\r\n        { "anchor": "request-unregister",\r\n          "title": "namespace.request.unregister()" }\r\n      ] },\r\n    { "anchor": "command",\r\n      "title": "Command",\r\n      "collapsable": true,\r\n      "isCollapsed": true,\r\n      "subSections": [\r\n        { "anchor": "issue-command",\r\n          "title": "namespace.command()" },\r\n        { "anchor": "command-handler",\r\n          "title": "namespace.command.handler()" },\r\n        { "anchor": "command-unregister",\r\n          "title": "namespace.command.unregister()" }\r\n      ] }\r\n  ]\r\n}\r\n</div>'}),define("text!../../pages/api/components-page.html",[],function(){return'<article>\r\n  <a id="introduction" class="section-anchor"></a>\r\n  <section name="introduction">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Introduction</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>At its most basic level, a component is essentially a viewModel + template composed together and inserted into the DOM.</p>\r\n      <p>footwork.js extends the component feature found in <a href="http://knockoutjs.com" target="_blank">knockout.js</a> 3.2+ to enable many additional features, some of which being:</p>\r\n      <ul>\r\n        <li>Full template and viewModel encapsulation.</li>\r\n        <li>Extremely easy to use (and re-use!) expressive and semantic <span class="inline-code">&lt;custom-elements&gt;&lt;/custom-elements&gt;</span></li>\r\n        <li>Unlimited nesting capability (you can also nest footwork <a href="/api/viewModel" data-bind="$route">viewModels</a>).</li>\r\n        <li>Fully cachable components.</li>\r\n        <li>\r\n          <p>Automatic component resolution via AMD/RequireJS based on the component/module name in the markup.</p>\r\n          <p class="top">You can also use the standard knockout <a href="http://knockoutjs.com/documentation/component-binding.html" target="_blank">component binding</a> to initialize your components.</p>\r\n        </li>\r\n        <li>Automatic viewModel initialization and binding.</li>\r\n        <li>Lifecycle events.</li>\r\n        <li>Routing integration (easily manage components and state, see: <a href="/api/routing" data-bind="$route">routing</a>)</li>\r\n        <li><span class="inline-code">fw.viewModel()</span> integration (see: <a href="/api/viewModel" data-bind="$route">viewModel</a>).</li>\r\n      </ul>\r\n      <p>Another great thing about footwork is that it fully supports any knockout.js component (<em>including markup/bindings</em>)...this means that you don\'t need to do any refactoring if you already have components you\'ve written. You can \r\n      organically add the additional features from footwork as you see fit.</p>\r\n      <p><em>In short, components are an extremely powerful feature which when leveraged properly allow you to build extremely modularized, easy to maintain, easy to test, and easy to read software.</em></p>\r\n      <div class="note"><span class="label">NOTE:</span> Footwork uses knockout components as the base implementation, for further documentation concerning components please see the <a href="http://knockoutjs.com/documentation/component-overview.html" target="_blank">KnockoutJS component documentation</a>.</div>\r\n      <ul>\r\n        <li><a href="#configuration">Configuration</a></li>\r\n        <li><a href="#usage">Usage</a></li>\r\n        <li><a href="#loading-registering">AMD / Lazy Loading / Registering</a></li>\r\n        <li><a href="#module-formats">Module Formats</a></li>\r\n        <li><a href="#lifecycle">Lifecycle</a></li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="configuration" class="section-anchor"></a>\r\n  <section name="configuration">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Configuration</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>There are principally 2 pieces that need to be setup prior to a component being usable:</p>\r\n      <ul>\r\n        <li>The template/HTML/DOM to bind against the viewModel.</li>\r\n        <li>The viewModel which the template/HTML/DOM is bound to.</li>\r\n      </ul>\r\n      <p>They are both essential. Inside of the template is the markup which comprises your component. The viewModel is the object your template is bound\r\n      against (footwork can use <a href="http://knockoutjs.com/documentation/observables.html#mvvm-and-view-models" target="_blank">knockout viewModels</a> which can be created many\r\n      ways, but <a href="/api/viewModel" data-bind="$route">footwork viewModels</a> are extra awesome).</p>\r\n      <p>In addition to being autoloaded via RequireJS/AMD (if needed/possible), the viewModel will be initialized (if required) and bound to your template.</p>\r\n      <p>Once both have been combined, the resulting composition is inserted into the DOM and then the <span class="inline-code">afterBinding()</span> lifecycle event is triggered on the viewModel.</p>\r\n      <h3>Example template file used in a component:</h3>\r\n<pre><code class="html">&lt;!-- /components/templates/sprocket.html --&gt;\r\n&lt;div class="info"&gt;\r\n  Type: &lt;span data-bind="text: sprocketType"&gt;&lt;/span&gt; &lt;!-- bound to the component viewModel --&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- nested component --&gt;\r\n&lt;sprocket-diagram&gt;\r\n  &lt;!-- content here is replaced with the sprocket-diagram component --&gt;\r\n&lt;/sprocket-diagram&gt;\r\n\r\n&lt;!-- nested viewModel --&gt;\r\n&lt;viewModel module="sprocketLabel"&gt;\r\n  &lt;div data-bind="text: manufacturer"&gt;&lt;/div&gt; &lt;!-- bound to sprocketLabel viewModel --&gt;\r\n  &lt;another-nested-component&gt;&lt;/another-nested-component&gt;\r\n&lt;/viewModel&gt;\r\n\r\n&lt;div data-bind="text: description"&gt;&lt;/div&gt; &lt;!-- bound to the component viewModel --&gt;</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="usage" class="section-anchor"></a>\r\n  <section name="usage">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Usage</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Using a component begins with inserting a custom element into your DOM/HTML (or using the standard knockout <a href="http://knockoutjs.com/documentation/component-binding.html" target="_blank">component binding</a>).</p>\r\n      <div class="note">\r\n        <p><span class="label">NOTE:</span> Components are somewhat similar to <span class="inline-code">&lt;viewModel module=""&gt;&lt;/viewModel&gt;</span> markup in that they both bind a viewModel to a section of the DOM. The difference being\r\n        that instead of wrapping a section of HTML with a viewModel, a component pairs the two together ahead of time allowing them to be composed at runtime with a single declarative element.\r\n        See: <a href="/api/viewModel#initialization" data-bind="$route">viewModel usage</a>.</p>\r\n      </div>\r\n      <p>Footwork.js uses the the custom element name (or name provided by the component binding) to resolve your component.</p>\r\n      <h3 class="top">For example, in <span class="inline-code">index.html</span> lets say we have have:</h3>\r\n<pre><code class="html">&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;div&gt;Look at this awesome Sprocket:&lt;/div&gt;\r\n\r\n    &lt;sprocket&gt;&lt;/sprocket&gt; &lt;!-- footwork will load the \'sprocket\' component here --&gt;\r\n    &lt;!-- NOTE: only lowercase alpha-numeric and dash (-) characters are allowed for custom elements --&gt;\r\n\r\n    &lt;!-- this loads the same \'sprocket\' component using the standard knockout component binding --&gt;\r\n    &lt;div data-bind="component: \'sprocket\'"&gt;&lt;/div&gt;\r\n\r\n    &lt;script src="/application.js"&gt;&lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n      <div class="note">\r\n        <span class="label">NOTE:</span> You can nest both &lt;component&gt; and &lt;viewModel&gt; declarations within one another, footwork will pull in resources and wire it all up as needed.\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="loading-registering" class="section-anchor"></a>\r\n  <section name="loading-registering">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">AMD / Lazy Loading / Registering</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Once an element not recognized as being normal HTML is encountered, footwork will process it as a component. Beginning with the resolving of its dependencies.</p>\r\n      <div class="note"><span class="label">NOTE:</span> This means every tag it doesn\'t believe is \'normal html\' will be resolved (from cache or dynamically) and processed. You can tell footwork what should and should not be processed as a component, see <span class="inline-code">fw.components.tagIsComponent()</span> further down.</div>\r\n      <p>There are 3 ways footwork will try to resolve both the viewModel and template for your component once it encounters the \r\n      <span class="inline-code">&lt;component-name&gt;&lt;/component-name&gt;</span> or <span class="inline-code">&lt;div data-bind="component: \'component-name\'"&gt;&lt;/div&gt;</span> markup.</p>\r\n      <p>They are as follows (in order of priority):</p>\r\n      <ul>\r\n        <li>Pre-cached via a <span class="inline-code">fw.components.register()</span> call.</li>\r\n        <li>Automatic download/resolution via AMD/RequireJS at a pre-registered location (<span class="inline-code">fw.components.registerLocation()</span>).</li>\r\n        <li>Automatic download/resolution via AMD/RequireJS at the configurable default (<span class="inline-code">fw.components.defaultLocation()</span>).</li>\r\n      </ul>\r\n      <div class="note"><span class="label">NOTE [<em>advanced</em>]:</span> You can also write your own <a href="http://knockoutjs.com/documentation/component-loaders.html" target="_blank">custom loader</a> if you want to use a different method/library or logic to resolve your component dependencies.</div>\r\n\r\n      <h3><em class="func-def">fw.components.register<span>( <span class="param">\'name\'</span>, <span class="param">optionsObject</span> )</span></em></h3>\r\n      <h3>Register (cache) a component under a specified \'name\' for later use:</h3>\r\n<pre><code class="javascript">// Using a footwork viewModel\r\nfw.components.register(\'sprocket\', {\r\n  viewModel: fw.viewModel({ /* ... configuration object ... */ }),\r\n  template: \'&lt;div data-bind="text: numberOfCogs"&gt;&lt;/div&gt;\'\r\n});\r\n\r\n// Using a regular constructor function\r\nfw.components.register(\'sprocket\', {\r\n  viewModel: function() { this.numberOfCogs = \'12\'; },\r\n  template: \'&lt;div data-bind="text: numberOfCogs"&gt;&lt;/div&gt;\'\r\n});</code></pre>\r\n      <div class="note">\r\n        <span class="label">NOTE:</span>\r\n        <ul>\r\n          <li>Footwork fully supports regular knockout component registration (<span class="inline-code">ko.components.register()</span>, \r\n          see <a href="http://knockoutjs.com/documentation/component-registration.html" target="_blank">the documentation</a>)</li>\r\n          \r\n          <li>Registering components is not necessary if you have RequireJS and tell footwork where it can download them (see \r\n          <span class="inline-code">fw.components.registerLocation()</span> and <span class="inline-code">fw.components.defaultLocation()</span> down below).</li>\r\n          \r\n          <li>It is recommended you load these assets (the viewModel and template) in via some other means. Footwork preferences loading them with\r\n          <a href="http://requirejs.org">AMD/RequireJS</a> because of its inherent async capabilities/runtime dependency resolution/etc, however if <a href="http://browserify.org" target="_blank">Browserify</a> is more your taste that will work just as well.</li>\r\n        </ul>\r\n      </div>\r\n\r\n      <h3><em class="func-def">fw.components.unregister<span>( <span class="param">\'name\'</span> )</span></em></h3>\r\n      <h3>Unregister a component:</h3>\r\n<pre><code class="javascript">fw.components.register(\'sprocket\', {\r\n  viewModel: fw.viewModel({ /* ... configuration object ... */ }),\r\n  template: \'&lt;!-- template HTML --&gt;\'\r\n});\r\nfw.components.unregister(\'sprocket\');\r\n\r\n// fw.components.isRegistered(\'sprocket\') === false</code></pre>\r\n\r\n      <h3>Tell footwork how to use AMD/RequireJS to automatically resolve/download your component</h3>\r\n      <p>It is also possible to simply tell footwork where your assets are and let it take care of downloading and initializing them for you. The following methods (<span class="inline-code">fw.components.registerLocation()</span> and <span class="inline-code">fw.components.defaultLocation()</span>) outline how to do that.</p>\r\n\r\n      <h3><em class="func-def">fw.components.registerLocation<span>( <span class="param">\'name\'</span>, <span class="param">{ viewModel: \'path/to/viewModel\', template: \'path/to/template\' }</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.components.registerLocation<span>( <span class="param">\'name\'</span>, <span class="param">{ combined: \'path/to/combinedComponentFile\' }</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.components.registerLocation<span>( <span class="param">\'name\'</span>, <span class="param">\'path/to/combinedComponentFile\'</span> )</span></em></h3>\r\n      <h3>Tell footwork where to find the component \'name\' using the supplied configuration:</h3>\r\n<pre><code class="javascript">/**\r\n * Register component under \'sprocket\' using individual paths for the viewModel and template files.\r\n * The file name will be appended using the name of the component + .ext\r\n */\r\nfw.components.registerLocation(\'sprocket\', {\r\n  viewModel: \'/viewModels/bikeParts/\', // load from /viewModels/bikeParts/sprocket.js\r\n  template: \'/templates/bikeParts/\' // load from /templates/bikeParts/sprocket.html\r\n});\r\n\r\n// Specify the full file name (ie: use this if the file name does not conform to what footwork expects)\r\nfw.components.registerLocation(\'sprocket\', {\r\n  viewModel: \'/viewModels/bikeParts/TheSprocket.js\', // load from /viewModels/bikeParts/TheSprocket.js\r\n  template: \'/templates/bikeParts/theSprocket.html\' // load from /templates/bikeParts/theSprocket.html\r\n});\r\n\r\n// Specify the \'combined\' module to be downloaded (see the \'Module formats\' section on this page)\r\nfw.components.registerLocation(\'sprocket\', \'/components/\'); // load from /components/sprocket.js\r\nfw.components.registerLocation(\'sprocket\', \'/components/theSprocket.js\'); // load from /components/theSprocket.js\r\n\r\n// You can also specify the path to many components at once (footwork will append the appropriate file name):\r\nfw.components.registerLocation([\'sprocket\', \'wheel\'], {\r\n  viewModel: \'/viewModels/bikeParts/\', // load from /viewModels/bikeParts/[component-name].js\r\n  template: \'/templates/bikeParts/\' // load from /viewModels/bikeParts/[component-name].js\r\n});\r\n\r\n// load from /components/[component-name].js in combined format:\r\nfw.components.registerLocation([\'sprocket\', \'wheel\'], \'/components/\');\r\n</code></pre>\r\n      <div class="note"><span class="label">NOTE:</span> Once you <span class="inline-code">registerLocation()</span> a component as being being a \'combined\'\r\n      format, footwork will preferentially choose that path/module type when trying to resolve the component. So in short, make sure you only specify the location of either the viewModel+template OR combined modules (not both) for any given component.</div class="note">\r\n\r\n      <h3><em class="func-def">fw.components.defaultLocation<span>( <span class="param">{ viewModel: \'path/to/viewModels\', template: \'path/to/templates\' }</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.components.defaultLocation<span>( <span class="param">{ combined: \'path/to/combinedComponentFiles\' }</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.components.defaultLocation<span>( <span class="param">\'path/to/combinedComponentFiles\'</span> )</span></em></h3>\r\n      <h3>Tell footwork where to look for a component if it isn\'t registered explicitly (ie: when all else fails):</h3>\r\n<pre><code class="javascript">// Load components using individual paths for the viewModel and template files.\r\nfw.components.defaultLocation({\r\n  viewModel: \'/viewModels/\', // load from /viewModels/[component-name].js\r\n  template: \'/templates/\' // load from /templates/[component-name].html\r\n});\r\n\r\n// Load components in combined format by default from /components/[component-name].js\r\nfw.components.defaultLocation(\'/components/\');\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="module-formats" class="section-anchor"></a>\r\n  <section name="module-formats">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Module Formats</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Footwork templates are always loaded as plain HTML files (plain text), but viewModels are loaded as javascript modules and have a special structure. A component (and thus, its viewModel)\r\n      can either be expressed inline (ie: when registering a component explicitly as <a href="#loading-registering">shown above</a>), or resolved via a script loader.</p>\r\n      <p>Both <a href="http://requirejs.org">AMD/RequireJS</a> and <a href="http://browserify.org" target="_blank">Browserify</a> are supported. However RequireJS is preferred as it will enable\r\n      footwork to resolve your component (and its dependencies) automatically at runtime as needed.</p>\r\n      <p>The following examples all show RequireJS/AMD-flavored modules.</p>\r\n      <h3>viewModel and template are loaded separately:</h3>\r\n<pre><code class="javascript">// viewModel module file located in: /viewModel/sprocket.js\r\ndefine(["footwork"],\r\n  function(fw) {\r\n    return fw.viewModel({\r\n      namespace: \'sprocket\'\r\n      // ...\r\n    });\r\n  }\r\n);</code></pre>\r\n<pre><code class="html">&lt;!-- Template file located in: /template/sprocket.html --&gt;\r\n&lt;div class="info"&gt;\r\n  &lt;div&gt;Sprocket&lt;/div&gt;\r\n  Type: &lt;span data-bind="text: type"&gt;&lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;div class="description" data-bind="text: description"&gt;&lt;/div&gt;</code></pre>\r\n      <div class="note">\r\n        <p><span class="label">NOTE:</span> You can return any constructor function or plain object from your viewModel modules (you don\'t have to return a footwork viewModel constructor as shown).</p>\r\n      </div>\r\n\r\n      <h3><em class="func-def">fw.component<span>( <span class="param">{ viewModel: [viewModel], template: \'&lt;!-- template HTML --&gt;\' }</span> )</span></em></h3>\r\n      <h3>viewModel and template are loaded as a combined viewModel + template module:</h3>\r\n<pre><code class="javascript">// component module file located in: /components/sprocket.js\r\ndefine(["footwork"],\r\n  function(fw) {\r\n    return fw.component({\r\n      viewModel: fw.viewModel({\r\n        namespace: \'sprocket\'\r\n        // ...\r\n      }),\r\n      template: \'&lt;div&gt;&lt;-- template HTML --&gt;&lt;/div&gt;\'\r\n    });\r\n  }\r\n);</code></pre>\r\n      <div class="note">\r\n        <p><span class="label">NOTE:</span> You can use any constructor function or plain object as the viewModel for your component modules (you don\'t have to use a footwork viewModel constructor as shown).</p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="lifecycle" class="section-anchor"></a>\r\n  <section name="lifecycle">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Lifecycle</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Components have two parts, the template and its viewModel. The lifecycle of a component is essentially based on the viewModel it has attached to it...see <a href="/api/viewModel" data-bind="$route">viewModel</a> for details on how those work.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="misc" class="section-anchor"></a>\r\n  <section name="misc">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Utility / Misc</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Various useful methods and utility functions for misc and debugging purposes.</p>\r\n\r\n      <ul>\r\n        <li><a href="#isRegistered">fw.components.isRegistered()</a></li>\r\n        <li><a href="#getResourceLocation">fw.components.getResourceLocation()</a></li>\r\n        <li><a href="#getFileName">fw.components.getFileName()</a></li>\r\n        <li><a href="#fileExtensions">fw.components.fileExtensions()</a></li>\r\n        <li><a href="#isTemplateOnly">fw.components.isTemplateOnly()</a></li>\r\n        <li><a href="#getNormalTagList">fw.components.getNormalTagList()</a></li>\r\n        <li><a href="#tagIsComponent">fw.components.tagIsComponent()</a></li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="isRegistered" class="section-anchor"></a>\r\n  <section name="isRegistered">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.components.isRegistered<span>( <span class="param">\'componentName\'</span> )</span></em></h3>\r\n      <h3>Return true or false based on whether or not there is a component that has been registered under \'componentName\':</h3>\r\n<pre><code class="javascript">fw.components.register(\'Sprocket\', {\r\n  viewModel: fw.viewModel({ /* ... configuration object ... */ }),\r\n  template: \'&lt;div&gt;&lt;-- template HTML --&gt;&lt;/div&gt;\' \r\n});\r\n// fw.components.isRegistered(\'Sprocket\') === true\r\n// fw.components.isRegistered(\'ComponentThatIsLoadedByAMD\') === false</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="getResourceLocation" class="section-anchor"></a>\r\n  <section name="getResourceLocation">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.components.getResourceLocation<span>( <span class="param">\'componentName\'</span> )</span></em></h3>\r\n      <h3>Get the paths footwork will attempt to load for the given \'componentName\':</h3>\r\n<pre><code class="javascript">fw.components.registerLocation(\'Sprocket\', {\r\n  viewModel: \'/viewModels/bikeParts/\',\r\n  template: \'/templates/bikeParts/\'\r\n});\r\n\r\nvar sprocketLocation = fw.components.getResourceLocation(\'Sprocket\');\r\n/**\r\n * sprocketLocation === {\r\n *   combined: null,\r\n *   viewModels: \'/viewModel/bikeParts/\',\r\n *   templates: \'/component/bikeParts/\'\r\n * }\r\n */</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="getFileName" class="section-anchor"></a>\r\n  <section name="getFileName">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.components.getFileName<span>( <span class="param">\'componentName\'</span>, <span class="param">\'[fileType]\'</span> )</span></em></h3>\r\n      <h3>Get the file name that footwork will appended to the path when looking up the specified fileType for the component:</h3>\r\n<pre><code class="javascript">// get the template filename for the component \'sprocket\'\r\nvar fileNameForSprocket = fw.components.getFileName(\'sprocket\', \'template\'); // === sprocket.html\r\n\r\n// get the viewModel module filename for the component \'sprocket\'\r\nvar fileNameForSprocket = fw.components.getFileName(\'sprocket\', \'viewModel\'); // === sprocket.js\r\n\r\n// get the combined module filename for the component \'sprocket\'\r\nvar fileNameForSprocket = fw.components.getFileName(\'sprocket\', \'combined\'); // === sprocket.js\r\n\r\n/**\r\n * If the component was explicitly registered (cached), then null is returned for any\r\n * fileType because the file name will never be used.\r\n */\r\nfw.components.register(\'sprocket\', {\r\n  viewModel: fw.viewModel({ /* ... configuration object ... */ }),\r\n  template: \'&lt;div&gt;&lt;!-- template HTML --&gt;&lt;/div&gt;\'\r\n});\r\nvar fileNameForSprocket = fw.components.getFileName(\'sprocket\', \'viewModel\'); // === null\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="fileExtensions" class="section-anchor"></a>\r\n  <section name="fileExtensions">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.components.fileExtensions<span>( <span class="param">{ /* configuration object */ }</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.components.fileExtensions<span>( <span class="param">function(componentName) { ... }</span> )</span></em></h3>\r\n      <h3>Specify the extension to append to AMD/RequireJS loaded component resources when it does not have an extension specified (ie: full file name not specified):</h3>\r\n<pre><code class="javascript">// Explicitely set the extensions on the various file/module types\r\nfw.viewModels.fileExtensions({\r\n  combined: \'.js\', // append combined component files with \'.js\'\r\n  viewModel: \'.js\', // append viewModel module files with \'.js\'\r\n  template: \'.html\' // append template files with \'.html\'\r\n});\r\n\r\n// Specify a function() whose return configuration object is used to determine the extension:\r\nfw.components.fileExtensions(function(componentName) {\r\n  if(componentName === \'Sprocket\') {\r\n    return {\r\n      combined: \'.js\', // append combined component files with \'.js\'\r\n      viewModel: \'.js\', // append viewModel module files with \'.js\'\r\n      template: \'.html\' // append template files with \'.html\'\r\n    };\r\n  } else {\r\n    return {\r\n      combined: \'.other-js\', // append combined component files with \'.other-js\'\r\n      viewModel: \'.other-js\', // append viewModel module files with \'.other-js\'\r\n      template: \'.other-html\' // append template files with \'.other-html\'\r\n    };\r\n  }\r\n});</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="isTemplateOnly" class="section-anchor"></a>\r\n  <section name="isTemplateOnly">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <p>Using <span class="inline-code">fw.components.isTemplateOnly()</span> you can tell footwork that when it encounters a specific component not to worry about resolving the viewModel. In this\r\n      case footwork will only attempt to resolve the template, inject it into the DOM, and then initialize any nested viewModels/components within.</p>\r\n      <h3 class="top"><em class="func-def">fw.components.isTemplateOnly<span>( <span class="param">\'componentName\'</span>, <span class="param">isTemplateOnly</span> )</span></em></h3>\r\n      <h3>Explicitly tell footwork a component has no viewModel:</h3>\r\n<pre><code class="javascript">fw.components.isTemplateOnly(\'Sprocket\', true); // instances of Sprocket will not resolve a viewModel\r\nfw.components.isTemplateOnly(\'Sprocket\'); // does the same thing (true is default/implied)\r\n\r\n// Mark several components as having no viewModel\r\nfw.components.isTemplateOnly([\'Sprocket\', \'Wheel\']);\r\n\r\n// Undo isTemplateOnly()\r\nfw.components.isTemplateOnly(\'Sprocket\', false);\r\nfw.components.isTemplateOnly([\'Sprocket\', \'Wheel\'], false); // undo for several</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="getNormalTagList" class="section-anchor"></a>\r\n  <section name="getNormalTagList">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.components.getNormalTagList<span>()</span></em></h3>\r\n      <h3>Return an array containing the list of elements (tagName) that footwork will not process as a component:</h3>\r\n<pre><code class="javascript">var normalTags = fw.components.getNormalTagList(); // [ \'span\', \'div\', ... ]</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="tagIsComponent" class="section-anchor"></a>\r\n  <section name="tagIsComponent">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.components.tagIsComponent<span>( <span class="param">\'tagName\'</span>, <span class="param">isComponent</span> )</span></em></h3>\r\n      <h3>Mark a tagName as being a component (true) or not being a component (false):</h3>\r\n<pre><code class="javascript">// tell footwork not to process &lt;some-element&gt; as a component\r\nfw.components.tagIsComponent(\'some-element\', false);</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "Components",\r\n  "description": "Re-usable modular components.",\r\n  "sections": [\r\n    { "anchor": "introduction",\r\n      "title": "Introduction",\r\n      "subSections": [\r\n        { "anchor": "configuration",\r\n          "title": "Configuration" },\r\n        { "anchor": "usage",\r\n          "title": "Usage" },\r\n        { "anchor": "loading-registering",\r\n          "title": "AMD / Lazy Loading / Registering" },\r\n        { "anchor": "module-formats",\r\n          "title": "Module Formats" },\r\n        { "anchor": "lifecycle",\r\n          "title": "Lifecycle" }\r\n      ] },\r\n    { "anchor": "misc",\r\n      "title": "Utility / Misc",\r\n      "collapsable": true,\r\n      "isCollapsed": true,\r\n      "subSections": [\r\n        { "anchor": "isRegistered",\r\n          "title": "fw.components.isRegistered()" },\r\n        { "anchor": "getResourceLocation",\r\n          "title": "fw.components.getResourceLocation()" },\r\n        { "anchor": "getFileName",\r\n          "title": "fw.components.getFileName()" },\r\n        { "anchor": "fileExtensions",\r\n          "title": "fw.components.fileExtensions()" },\r\n        { "anchor": "isTemplateOnly",\r\n          "title": "fw.components.isTemplateOnly()" },\r\n        { "anchor": "getNormalTagList",\r\n          "title": "fw.components.getNormalTagList()" },\r\n        { "anchor": "tagIsComponent",\r\n          "title": "fw.components.tagIsComponent()" }\r\n      ] }\r\n  ]\r\n}\r\n</div>'
}),define("text!../../pages/api/broadcastable-receivable-page.html",[],function(){return'<article>\r\n\r\n  <a id="introduction" class="section-anchor"></a>\r\n  <section name="introduction">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Introduction</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>The broadcastable and receivable functionality provides for an easy to way to share data, state, and more between two different areas of your code.</p>\r\n      <p>They enable a variables in one viewModel/module to be reflected in the variable of another, being kept in sync automatically and transparently to you. By taking advantage of this functionality\r\n      your application and modules are able to expressively share state and data while being kept as loosely coupled (<em>and testable!</em>) as possible.</p>\r\n      <p>Broadcastables and receivables are extended/special knockout observables which hook into the namespacing provided by footwork to either send data (broadcastable) or receive data (receivable) to or from other namespaces/modules. They\r\n      can be used just like any other knockout observable as they extend from the base <span class="inline-code">ko.subscribable</span> type.</p>\r\n      <div class="note"><span class="label">NOTE:</span> Broadcastables and receivables are integrated with (and make most sense when used with) <a href="/api/viewModel" data-bind="$route">footwork viewModels</a> but they can also be used independently.</div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="usage" class="section-anchor"></a>\r\n  <section name="usage">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Usage</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Broadcastables are created by taking an observable and calling <span class="inline-code">observable.broadcastAs()</span> on it, receivables are created by taking an observable and calling <span class="inline-code">observable.receiveFrom()</span> on it. Broadcastables and receivables can be based off of any knockout observable type (observable, computed observable, observableArray).</p>\r\n      <div class="note"><span class="label">NOTE:</span> Receivables must be \'writable\' (when receiving data from a broadcastable, the observable it is based off of must be able to be written to). This means that if you have a computed observable you are calling <span class="inline-code">.receiveFrom()</span> on, it must have a <span class="inline-code">write:</span> method specified.</div>\r\n      <p>Receivables are listeners for information that a broadcastable sends out. Anytime a <span class="inline-code">broadcastable</span> sends out an updated value for the variable a <span class="inline-code">receivable</span> is configured for, the receivable will be updated, its listeners notified, and that value propagated through any computed values as expected.</p>\r\n      <p>The module a broadcastable is attached to should be thought of as the \'owner\' of that property, and any related logic should (ideally) also be contained within that module/lexical scope.</p>\r\n      <p>Since receivables and broadcastables are just extended observables, any computed properties and subscriptions based off of them will propagate just like normal knockout observables.</p>\r\n      <div class="note"><span class="label">NOTE:</span> Because of their reliance on the message bus, broadcastables and receivables must be cleaned up when disposing of them. Any broadcastable or receivable which is assigned to a viewModel will automatically be cleaned up along with that viewModel. If you are using them independently, you will need to call <span class="inline-code">.dispose()</span> on it when you intend to get rid of it.</div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="observable-receiveFrom" class="section-anchor"></a>\r\n  <section name="observable-receiveFrom">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">observable.receiveFrom<span>( <span class="param">\'namespaceName\'</span>, <span class="param">\'variableName\'</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">observable.receiveFrom<span>( <span class="param">namespace</span>, <span class="param">\'variableName\'</span> )</span></em></h3>\r\n      <h3>Factory method which will create and return a receivable from an existing observable (observable, computed, or observableArray):</h3>\r\n<pre><code class="javascript">var Navigation = fw.viewModel({\r\n  namespace: \'Navigation\',\r\n  initialize: function() {\r\n    // initial value provided to the observable is the default, before any data is received from a broadcastable\r\n    this.userIsLoggedIn = fw.observable(null).receiveFrom(\'User\', \'isLoggedIn\'); // value is null\r\n    this.loggedInUsername = fw.observable().receiveFrom(\'User\', \'username\'); // value is undefined\r\n\r\n    // This computed is based off of the two previous receivables\r\n    this.navGreeting = fw.computed(function() {\r\n      if(this.userIsLoggedIn()) {\r\n        return \'Welcome \' + this.loggedInUsername();\r\n      } else {\r\n        return \'Please login\';\r\n      }\r\n    }, this);\r\n  }\r\n});\r\n\r\n/**\r\n * Note: See the next section for details on broadcastables\r\n */\r\nvar User = fw.viewModel({\r\n  namespace: \'User\',\r\n  initialize: function() {\r\n    this.loggedIn = fw.observable(false).broadcastAs(\'isLoggedIn\');\r\n    this.username = fw.observable().broadcastAs(\'username\');\r\n    this.login = function(user, pass) {\r\n      if(user === \'DarkHelmet\' && pass === \'12345\') {\r\n        this.username(user);\r\n        this.loggedIn(true);\r\n      }\r\n    };\r\n  }\r\n});\r\n\r\nvar navigation = new Navigation();\r\n// navigation.userIsLoggedIn() === null\r\n// navigation.navGreeting() === \'Please login\'\r\n\r\nvar user = new User();\r\n// user.loggedIn() === false\r\n// navigation.userIsLoggedIn() === false\r\n\r\nuser.login(\'DarkHelmet\', \'12345\');\r\n// user.username() === \'DarkHelmet\'\r\n// navigation.userIsLoggedIn() === true\r\n// navigation.navGreeting() === \'Welcome DarkHelmet\'\r\n</code></pre>\r\n      <div class="note"><span class="label">NOTE: </span> If you directly reference a namespace object when creating a broadcastable or receivable it will be disposed of when the namespace is disposed of (meaning it will no longer broadcast or receive updates to its value).</div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="observable-broadcastAs" class="section-anchor"></a>\r\n  <section name="observable-broadcastAs">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">observable.broadcastAs<span>( <span class="param">\'variableName\'</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">observable.broadcastAs<span>( <span class="param">\'variableName\'</span>, <span class="param">isWritable</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">observable.broadcastAs<span>( <span class="param">{ name: \'variableName\', writable: isWritable }</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">observable.broadcastAs<span>( <span class="param">{ name: \'variableName\', namespace: Namespace, writable: isWritable }</span> )</span></em></h3>\r\n      <h3 class="top"><em class="func-def">observable.broadcastAs<span>( <span class="param">{ name: \'variableName\', namespace: \'NamespaceName\', writable: isWritable }</span> )</span></em></h3>\r\n      <h3 class="top">Factory method which will create and return a broadcastable from an existing observable (observable, computed, or observableArray)</h3>\r\n      <p>Broadcastable values can be either read-only or writable. A writable broadcastable will allow a receivable to\r\n          write back its value upstream. This means you can have a value broadcast from one namespace/module and allow a receivable to both listen for and update its value (with that value propogating back to the broadcaster).</p>\r\n      <div class="note"><p><span class="label">NOTE:</span> Although broadcastables can be writable, try to avoid writing to them from external modules. The broadcastable should ideally have associated \r\n        logic contained within the module it is attached to. \'Reaching in\' from an external location breaks the concept of separation of concerns and can lead to spaghettification of your code.</p>\r\n      </div>\r\n      <h3 class="top">Read-only Examples:</h3>\r\n<pre><code class="javascript">var User = fw.viewModel({\r\n  namespace: \'User\',\r\n  initialize: function(username) {\r\n    // broadcastAs() will use the namespace of the viewModel by default.\r\n    this.username = fw.observable(username).broadcastAs(\'username\');\r\n  }\r\n});\r\n\r\n// You can also be explicit or broadcast on a different namespace\r\nvar appUsername = fw.observable(username).broadcastAs({ name: \'username\', namespace: \'Application\' });\r\n// Note: Try to keep broadcastables located within their respective module\r\n//       (ie: try not to broadcast to a different namespace than the current one, this is mostly\r\n//            for use outside of a viewModel context)\r\n\r\n// receivable listening for updates on \'username\' from the \'User\' namespace\r\nvar userName = fw.observable(null).receiveFrom(\'User\', \'username\');\r\n// userName() === null\r\n\r\n// create user object that broadcasts \'username\'\r\nvar user = new User(\'Jonathan\');\r\n// ...and now the receivable is updated by the broadcastable:\r\n// userName() === \'Jonathan\'</code></pre>\r\n      <div class="note"><span class="label">NOTE:</span> It does not matter if the broadcastable or receivable is created first:\r\n        <ul>\r\n          <li>As soon as the broadcastable is instantiated any receivables listening will be updated with the current value.</li>\r\n          <li>As soon as a receivable is instantiated it will request the current value from the broadcastable. If no broadcastable is present for the receivable, no change to the receivables default will be made.</li>\r\n        </ul>\r\n      </div>\r\n\r\n      <h3>Writable example:</h3>\r\n<pre><code class="javascript">var User = fw.viewModel({\r\n  namespace: \'User\',\r\n  initialize: function() {\r\n    // Writable broadcastable, can be written to by a receivable\r\n    this.browserType = fw.observable(\'unknown\').broadcastAs(\'browserType\', true);\r\n    this.browserType.subscribe(function(browserType) {\r\n      // a normal subscription to updates on the observable this.browserType\r\n      if(browserType === \'Internet Explorer 6\') {\r\n        console.log(\'I am sorry, we do not support ancient technologies.\');\r\n      }\r\n    });\r\n  }\r\n});\r\nvar user = new User(); // create a user using the viewModel declaration from above\r\n// user.browserType() === \'unknown\'\r\n\r\n/**\r\n * Create the receivable which is tied to the \'browserType\' variable on the \'User\'\r\n * namespace. The default (null) provided is overwritten when the receivable is\r\n * initialized and the (already initialized) broadcastable responds with the current value.\r\n */\r\nvar userBrowserType = fw.observable(null).receiveFrom(\'User\', \'browserType\');\r\n// userBrowserType() === \'unknown\'\r\n\r\n/**\r\n * When you make an update/write to a receivable, it will try to write that back\r\n * to the broadcastable, if (and only if) that broadcastable is writable it will be\r\n * listening for any updates and act accordingly, updating its own value, informing any\r\n * listeners, and propogating through any computed values.\r\n *\r\n * If the broadcastable is not writable then the requestable will only be overwritten\r\n * locally. The requestable will also be overwritten again if/when the broadcastable send\r\n * out another value.\r\n */\r\nuserBrowserType(\'Internet Explorer 6\');\r\n// console will print: \'I am sorry, we do not support ancient technologies.\'</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="dispose" class="section-anchor"></a>\r\n  <section name="dispose">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">.dispose()</h1>\r\n    </header>\r\n    <div class="content">\r\n\r\n      <h3 class="top"><em class="func-def">broadcastable.dispose<span>()</span></em></h3>\r\n      <h3 class="top"><em class="func-def">receivable.dispose<span>()</span></em></h3>\r\n      <h3>Dispose of a broadcastable (no longer sends out updates) or receivable (no longer receives updates):</h3>\r\n<pre><code class="javascript">// setup a broadcastable\r\nvar broadcastable = fw.observable(\'Hello\').broadcastAs({ name: \'broadcastable\', namespace: \'someNamespace\' });\r\n\r\n// setup a couple receivables to retrive its value\r\nvar receivable = fw.observable().receiveFrom(\'someNamespace\', \'broadcastable\');\r\nvar receivable2 = fw.observable().receiveFrom(\'someNamespace\', \'broadcastable\');\r\n// receivable() === \'Hello\'\r\n// receivable2() === \'Hello\'\r\n\r\nbroadcastable(\'Goodbye\'); // write new value to broadcastable\r\n// receivable() === \'Goodbye\'\r\n// receivable2() === \'Goodbye\'\r\n\r\nreceivable.dispose(); // receivable will no longer get updates\r\nbroadcastable(\'Hello\');\r\n// receivable() === \'GoodBye\'\r\n// receivable2() === \'Hello\'\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "Broadcastable / Receivable",\r\n  "description": "Inter-module communication and computed values.",\r\n  "sections": [\r\n    { "anchor": "introduction",\r\n      "title": "Introduction" },\r\n    { "anchor": "usage",\r\n      "title": "Usage",\r\n      "subSections": [\r\n        { "anchor": "observable-receiveFrom",\r\n          "title": "observable.receiveFrom()" },\r\n        { "anchor": "observable-broadcastAs",\r\n          "title": "observable.broadcastAs()" }\r\n      ] },\r\n    { "subSections": [\r\n        { "anchor": "dispose",\r\n          "title": "broadcastable.dispose()" },\r\n        { "anchor": "dispose",\r\n          "title": "receivable.dispose()" }\r\n      ] }\r\n  ]\r\n}\r\n</div>'}),define("text!../../pages/api/routing-page.html",[],function(){return'<article>\r\n\r\n  <a id="introduction" class="section-anchor"></a>\r\n  <section name="introduction">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Introduction</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Routing in a web application is about managing state. Modern single-page web applications make use of the HTML5 <span class="inline-code">history</span>\r\n      API in order to retain normal browser navigation while not forcing a complete refresh of the page on every state/url change. Footwork includes a router which\r\n      provides this functionality.</p>\r\n      <p>The router included with footwork has a few key features:</p>\r\n      <ul>\r\n        <li>Unlimited nesting of routers (relative and non-relative).</li>\r\n        <li>Unlimited number of view outlets per router.</li>\r\n        <li>Context based sub-routing.</li>\r\n        <li>Context based outlets.</li>\r\n        <li>Parameterized routes (with optional or required parameters).</li>\r\n        <li>Filtered/predicated routes.</li>\r\n        <li>Integration with <a href="https://github.com/browserstate/history.js/" target="_blank">history.js</a> for cross-browser history API support.</li>\r\n      </ul>\r\n      <p>In essence the router combines several design patterns (MVC + MVVM + Observable), context-based subrouting, and context-based outlets to provide a novel and extremely powerful routing solution.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="usage" class="section-anchor"></a>\r\n  <section name="usage">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Usage</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Routers have three principle components which make them useful:</p>\r\n      \r\n      <ul>\r\n        <li><a href="#configuration">configuration object</a>: A router configuration on a viewModel. Used to define the router, its routes, controllers, and their actions.</li>\r\n        <li><a href="#outlets">outlets</a>: Any number of <span class="inline-code">&lt;outlet name=""&gt;&lt;/outlet&gt;</span> declarations in your HTML which are the output points your router controls.</li>\r\n        <li><a href="#route-binding">route bindings</a>: Special bindings for links (and other tags) which will initiate new states in your application.</li>\r\n      </ul>\r\n      \r\n      <p>Just as a viewModel \'wraps\' a section of your HTML providing the binding points and logic for that portion of your application. In a similar sense,\r\n      a router also \'wraps\' and provides all routing logic for that portion of your application. Anywhere there is an \r\n      <span class="inline-code">&lt;outlet name=""&gt;&lt;/outlet&gt;</span> declaration, footwork will traverse up the DOM searching for the nearest parent\r\n      viewModel which has a router. That router is able to control what view/component\r\n      is displayed in any <span class="inline-code">&lt;outlet name=""&gt;&lt;/outlet&gt;</span> declarations found within its scope.</p>\r\n      \r\n      <p>This same parent-seeking logic holds true for both route bindings and nested routers (configured with <span class="inline-code">isRelative: true</span>) as well. Routers will iteratively\r\n      walk the DOM upwards searching for (and making their routes relative to) the nearest parent router (if one is found). Route bindings do the same\r\n      and will then trigger state changes on that router as appropriate.</p>\r\n      \r\n      <p>It is by this parent-seeking nature that it is possible to nest routers, outlets, and route bindings in any configuration and at any depth and complexity.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="configuration" class="section-anchor"></a>\r\n  <section name="configuration">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Configuration</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Routers are incorporated into <a href="/api/viewModel" data-bind="$route">footwork viewModels</a>, to create one you must add a router <a href="/api/viewModel#configuration" data-bind="$route">configuration to a viewModel</a>.</p>\r\n      <h3>A synopsis of router configuration options:</h3>\r\n<pre><code class="javascript">var ViewModel = fw.viewModel({\r\n  // ...\r\n  router: {\r\n    // if true all routes defined for the router will be relative to its parent router (if any)\r\n    isRelative: true, // default is true\r\n\r\n    // routes list definition\r\n    routes: [],\r\n\r\n    // unknown route (triggered if none of the routes[] match from above)\r\n    unknownRoute: {},\r\n\r\n    // if true the router will activate as soon as its viewModel is bound to the DOM\r\n    activate: true, // default is true\r\n\r\n    // tell the router to exclude the beginning portion of a route\r\n    baseRoute: \'\', // default is null\r\n\r\n    // by default the namespace is based off of the viewModel it is paired with\r\n    namespace: \'namespaceName\', // (this is not usually needed)\r\n  },\r\n  // ..\r\n});</code></pre>\r\n      \r\n      <div class="note"><span class="label">NOTE:</span> The router is instantiated (and disposed of) along with the viewModel and is available at <span class="inline-code">viewModel.$router</span> after instantiation.\r\n      Once the viewModel is bound to the DOM (either because it is part of a component, viewModel, or is manually bound) the router will activate and the current route (url) will be expressed.</div>\r\n      \r\n      <p>The <span class="inline-code">routes: []</span> and <span class="inline-code">unknownRoute: {}</span> definitions both have the same syntax. The only difference between\r\n      these two is that <span class="inline-code">routes: []</span> is an array of route definitions, and <span class="inline-code">unknownRoute: {}</span> is a single route definition.\r\n      These define the routes your application (on this router) has available to it.</p>\r\n\r\n      <ul>\r\n        <li><a href="#routes">Routes List</a></li>\r\n        <li><a href="#route">Route Definition</a></li>\r\n        <li><a href="#router-properties">Router Properties</a></li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="routes" class="section-anchor"></a>\r\n  <section name="routes">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Routes List</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>When a new state/url is requested each router will iteratively search its <span class="inline-code">routes: []</span> list from the top down for the first matching route. If more than one \r\n      route matches for a given url/state then only the first one found found will be used.</p>\r\n      \r\n      <h3>Example <span class="inline-code">routes: []</span> list definition:</h3>\r\n<pre><code class="javascript">// ...\r\nroutes: [\r\n  { // default route: \'/\'\r\n    route: \'/\',\r\n    // ...\r\n  },\r\n  { // route: /store\r\n    route: \'/store\',\r\n    // ...\r\n  }\r\n],\r\nunknownRoute: { /* ... */ }\r\n// ...\r\n</code></pre>\r\n      <div class="note"><span class="label">NOTE:</span> The <span class="inline-code">unknownRoute:</span> definition has no <span class="inline-code">route:</span> parameter (it is ignored if included). This route\r\n      is triggered when no matching route is found in the <span class="inline-code">routes:</span> list. It is otherwise configured just like the other route definitions.</div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="route" class="section-anchor"></a>\r\n  <section name="route">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Route Definition</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>A route definition is simply an object which describes a route. Footwork will match the browser path up\r\n      against the <span class="inline-code">route:</span> parameter and use the other options to trigger and setup the state of your application.</p>\r\n      \r\n      <p>A route definition has four possible parameters:</p>\r\n      <ul>\r\n        <li><span class="inline-code">route:</span> - A specially structured string which is used to match against a given URL (and optionally provide for named parameters).</li>\r\n        <li><span class="inline-code">controller:</span> - Callback function used when a route is chosen, this is where <span class="inline-code">outlets</span> get changed and the state of your application is altered. Any parameters defined by the <span class="inline-code">route:</span> will be passed in.</li>\r\n        <li><span class="inline-code">title:</span> - (<em>optional</em>) A string or callback function used to set the title of the page when the route is chosen. Any parameters defined by the <span class="inline-code">route:</span> will be passed in.</li>\r\n        <li><span class="inline-code">filter:</span> - (<em>optional</em>) A predicate function used to tell footwork if it should consider a route. Any parameters defined by the <span class="inline-code">route:</span> will be passed in.</li>\r\n      </ul>\r\n      \r\n      <h3><span class="inline-code">route:</span> example definitions with and without parameters specified:</h3>\r\n      <h3><span class="inline-code">controller:</span> example definitions with and without parameters passed in:</h3>\r\n<pre><code class="javascript">// ...\r\nroutes: [\r\n  { // static route (no parameters): /about-us\r\n    route: \'/about-us\',\r\n    controller: function() { /* ... */ }\r\n  },\r\n  { // route with required parameter isbn\r\n    route: \'/book/:isbn\',\r\n    controller: function(params) {\r\n      console.log(\'Book ISBN\', params.isbn);\r\n    }\r\n  },\r\n  { // route with optional parameter storeNum\r\n    route: \'/info(/:storeNum)\',\r\n    controller: function(params) {\r\n      // params.storeNum is undefined if no storeNum is provided in the route\r\n      console.log(\'Store Number\', params.storeNum);\r\n    }\r\n  }\r\n],\r\n// ...\r\n</code></pre>\r\n\r\n      <h3><span class="inline-code">title:</span> example definitions as a string and callback:</h3>\r\n      <p>This (optional) parameter defines what the title of the page will be set to when routing to this route. The route params (if any) as described by the route: string will be passed in.</p>\r\n<pre><code class="javascript">// ...\r\nroutes: [\r\n  { // \'string\' title\r\n    title: \'Store Page\',\r\n    route: \'/store\',\r\n    controller: function() { /* ... */ }\r\n  },\r\n  { // callback-based title\r\n    title: function(params) {\r\n      return \'Book \' + params.isbn;\r\n    },\r\n    route: \'/book/:isbn\',\r\n    controller: function(params) { /* ... */ }\r\n  }\r\n],\r\n// ...\r\n</code></pre>\r\n      \r\n      <h3><span class="inline-code">filter:</span> example definition:</h3>\r\n      <p>If this (optional) callback returns a \'falsey\' value, the\r\n      router will ignore the route even if the path matches. Conversely if the callback returns a\r\n      \'truthy\' value the router will consider it on a first-found first-routed basis as normal.\r\n      The route params (if any) as described by the <span class="inline-code">route:</span> string will be passed in.</p>\r\n<pre><code class="javascript">// ...\r\nroutes: [\r\n  { // only routed to when isbn === \'12345\'\r\n    route: \'/book/:isbn\',\r\n    title: \'Special Book Page\',\r\n    controller: function(params) {\r\n      console.log(\'Special Book ISBN\', params.isbn);\r\n    },\r\n    filter: function(params) {\r\n      if(params.isbn === \'12345\') {\r\n        return true; // this route used only if isbn === \'12345\'\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  { // normal book/:isbn route that is used when isbn !== \'12345\'\r\n    route: \'/book/:isbn\',\r\n    title: \'Home Page\',\r\n    controller: function(params) {\r\n      console.log(\'Book ISBN\', params.isbn);\r\n    }\r\n  }\r\n],\r\n// ...\r\n</code></pre>\r\n      <div class="note"><span class="label">NOTE:</span> Remember that you can always <a href="/api/namespacing#request" data-bind="$route"><span class="inline-code">request</span></a>\r\n      data, or use <a href="/api/broadcastable-receivable" data-bind="$route"><span class="inline-code">receivables</span>/<span class="inline-code">broadcastables</span></a>/etc inside of your filter functions too.</div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="router-properties" class="section-anchor"></a>\r\n  <section name="router-properties">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">(instantiated) Router Properties</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>After a router has been instantiated (it is available immediately after a viewModel instance is created, at <span class="inline-code">viewModel.$router</span>) it has a handful of helpful properties and methods.</p>\r\n      <p>They are as follows:</p>\r\n      <ul>\r\n        <li><span class="inline-code">router.setState()</span> - Set the state/url for this router, triggering any routes/controllers.</li>\r\n        <li><span class="inline-code">router.addRoutes()</span> - Add route(s) programmatically.</li>\r\n        <li><span class="inline-code">router.setRoutes()</span> - (clear out and) Set the routes for a router programmatically.</li>\r\n        <li><span class="inline-code">router.currentRoute()</span> - Get the current route details.</li>\r\n        <li><span class="inline-code">router.outlets{}</span> - List/Collection of registered outlets.</li>\r\n      </ul>\r\n\r\n      <h3><em class="func-def">router.setState<span>( <span class="param">\'/new/state\'</span> )</span></em></h3>\r\n      <h3>Set the state/url for this router, triggering any routes/controllers:</h3>\r\n<pre><code class="javascript">// trigger the route that matches for \'/about\'\r\nrouter.setState(\'/about\');\r\n</code></pre>\r\n\r\n      <h3><em class="func-def">router.addRoutes<span>( <span class="param">[ /* routes */ ]</span> )</span></em></h3>\r\n      <h3>Add route(s) programmatically:</h3>\r\n<pre><code class="javascript">var MainViewModel = fw.viewModel({\r\n  // ...\r\n  router: {},\r\n  // ...\r\n});\r\nvar main = new MainViewModel();\r\n\r\nmain.$router.addRoutes([\r\n  {\r\n    title: \'Index Page\',\r\n    route: \'/\',\r\n    controller: function() { /* ... */ }\r\n  },\r\n  {\r\n    title: \'Book Page\',\r\n    route: \'/book/:isbn\',\r\n    controller: function(params) { /* ... */ }\r\n  }\r\n]);\r\n</code></pre>\r\n\r\n      <h3><em class="func-def">router.setRoutes<span>( <span class="param">[ /* routes */ ]</span> )</span></em></h3>\r\n      <h3>(clear out and) Set the routes for a router programmatically:</h3>\r\n<pre><code class="javascript">var MainViewModel = fw.viewModel({\r\n  // ...\r\n  router: {\r\n    routes: [\r\n      {\r\n        title: \'Index Page\',\r\n        route: \'/\',\r\n        controller: function() { /* ... */ }\r\n      },\r\n      {\r\n        title: \'Book Page\',\r\n        route: \'/book/:isbn\',\r\n        controller: function(params) { /* ... */ }\r\n      }\r\n    ]\r\n  },\r\n  // ...\r\n});\r\nvar main = new MainViewModel();\r\n\r\nmain.$router.setRoutes([\r\n  {\r\n    title: \'Different Index Page\',\r\n    route: \'/\',\r\n    controller: function() { /* ... */ }\r\n  },\r\n  {\r\n    title: \'Different Book Page\',\r\n    route: \'/book/:isbn\',\r\n    controller: function(params) { /* ... */ }\r\n  }\r\n]);\r\n</code></pre>\r\n\r\n      <h3><em class="func-def">router.currentRoute<span>()</span></em></h3>\r\n      <h3>Get the current route details:</h3>\r\n<pre><code class="javascript">// Browser currently pointed to \'http://application.com/book/22\'\r\nvar MainViewModel = fw.viewModel({\r\n  namespace: \'Main\',\r\n  // ...\r\n  router: {\r\n    routes: [\r\n      {\r\n        title: \'Index Page\',\r\n        route: \'/\',\r\n        controller: function() { /* ... */ }\r\n      },\r\n      {\r\n        title: \'Book Page\',\r\n        route: \'/book/:isbn\',\r\n        controller: function(params) { /* ... */ }\r\n      }\r\n    ]\r\n  },\r\n  // ...\r\n});\r\n\r\n// ...\r\n\r\nvar currentRoute = router.currentRoute();\r\n// currentRoute.segment === \'/book/22\' (this specific route segment/path)\r\n// currentRoute.url === \'/book/22\' (full url, includes parent and children segments)\r\n// currentRoute.namedParams.isbn === \'22\'\r\n// currentRoute.title === \'Book Page\'\r\n</code></pre>\r\n\r\n      <h3><span class="inline-code">router.outlets{}</span> - List/Collection of registered outlets.</h3>\r\n<pre><code class="html">&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;viewModel module="Main"&gt;\r\n      &lt;!-- ... --&gt;\r\n      &lt;outlet name="main-view"&gt;&lt;/outlet&gt;\r\n      &lt;!-- ... --&gt;\r\n    &lt;/viewModel&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n<pre><code class="javascript">var Main = fw.viewModel({\r\n  namespace: \'Main\',\r\n  router: { /* ... */ }\r\n  initialize: function() { /* ... */ },\r\n  afterBinding: function() {\r\n    // Prints: Registered outlets { \'main-view\': function }\r\n    console.log(\'Registered outlets\', this.$router.outlets);\r\n  }\r\n});\r\n</code></pre>\r\n      <div class="note"><span class="label">NOTE:</span> If/When you call the <span class="inline-code">router.$outlet()</span> method that will also register whatever named outlet you refer to (if it is not already registered).</div>\r\n\r\n    </div>\r\n  </section>\r\n\r\n  <a id="outlets" class="section-anchor"></a>\r\n  <section name="outlets">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Outlets</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Outlets are simply areas in your application where you can control what is displayed. Their placement in your application is designated by one or more <span class="inline-code">&lt;outlet name=""&gt;&lt;/outlet&gt;</span>\r\n      declarations in your HTML. The <span class="inline-code">name=""</span> key is used by the router to target that specific outlet.</p>\r\n\r\n<pre><code class="html">&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;viewModel module="Main"&gt;\r\n      &lt;!-- ... --&gt;\r\n      &lt;outlet name="main-view"&gt;&lt;/outlet&gt;\r\n      &lt;!-- ... --&gt;\r\n    &lt;/viewModel&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n\r\n      <p>When you tell an outlet what to show, you are telling it to load a component. Thus for each \'page\' or view you want\r\n      to display for an <span class="inline-code">outlet</span>, footwork will need one of the three following things:</p>\r\n\r\n      <ul>\r\n        <li>A corresponding view registered (cached/preloaded) via <span class="inline-code">fw.outlets.registerView()</span> or <a href="/api/components#loading-registering" data-bind="$route"><span class="inline-code">fw.components.register()</span></a></li>\r\n        <li>A registered location where it can load the view via <span class="inline-code">fw.outlets.registerViewLocation()</span> or <a href="/api/components#loading-registering" data-bind="$route"><span class="inline-code">fw.components.registerLocation()</span></a></li>\r\n        <li>A component/view available at the default component location (<span class="inline-code">fw.components.defaultLocation()</span>, see <a href="/api/components#loading-registering" data-bind="$route">component registration</a>).</li>\r\n      </ul>\r\n      <div class="note">\r\n        <p><span class="label">NOTE:</span> You can tell an <span class="inline-code">&lt;outlet&gt;&lt;/outlet&gt;</span> to show <em>any</em> component, not just ones you register with <span class="inline-code">fw.outlets.registerView()</span> or \r\n        <span class="inline-code">fw.outlets.registerViewLocation()</span>. Those methods are simply provided as a shortcut for creating a component and marking it as \'template-only\'.</p>\r\n        <p>Also remember that components can contain any depth and complexity of nested viewModels, components, routers, etc. This means you can even nest entire applications within the view of another, all with simple declarative syntax.</p>\r\n      </div>\r\n      <ul>\r\n        <li><a href="#outlet-registering">Lazy Loading / Registering Views (components without a viewModel)</a></li>\r\n        <li><a href="#outlet-usage">Usage</a></li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="outlet-registering" class="section-anchor"></a>\r\n  <section name="outlet-registering">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Lazy Loading / Registering Views (components without a viewModel)</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Because most things you might want to show in an outlet (pages/views) consist of only template code (they have no corresponding viewModel), footwork provides two shortcut methods for registering a\r\n      template-only outlet view (ie: a page/view/template you can show in an <span class="inline-code">&lt;outlet&gt;&lt;/outlet&gt;</span>).</p>\r\n      <ul>\r\n        <li><span class="inline-code">fw.outlets.registerView()</span> - Cache a view/template for later use (available instantly, no download time).</li>\r\n        <li><span class="inline-code">fw.outlets.registerViewLocation()</span> - Tell footwork where it can download it via AMD/RequireJS (dynamically/lazy loaded for you when requested). Since outlet views are just viewModel-less components, they are resolved just like any other <a href="/api/components#loading-registering" data-bind="$route">AMD/RequireJS loaded component</a>.</li>\r\n      </ul>\r\n      <p>Essentially they are ways to easily create/register a view you can use in an outlet.</p>\r\n\r\n      <h3><em class="func-def">fw.outlets.registerView<span>( <span class="param">\'viewName\'</span>, <span class="param">\'&lt;!-- template HTML --&gt;\'</span> )</span></em></h3>\r\n      <h3>Register/cache a view for later use:</h3>\r\n<pre><code class="javascript">// Register the \'index-page\' template view\r\nfw.outlets.registerView(\'index-page\', \'&lt;p&gt;Welcome to footwork.js&lt;/p&gt;\');\r\n\r\n// Register a different view that has a nested component\r\nfw.outlets.registerView(\'calendar-page\', \'Calendar: &lt;calendar&gt;&lt;/calendar&gt;\');\r\n</code></pre>\r\n      <div class="note">\r\n        <p><span class="label">NOTE:</span> It is generally recommended you load your templates via a module system such as RequireJS (don\'t just write them inline in a string as shown, that was only used as an example for reasons of brevity).</p>\r\n        <p>For an example of how to do this check the <a href="/tutorials" data-bind="$route">tutorials page</a>, or alternatively just specify the location of the view via <span class="inline-code">fw.outlets.registerViewLocation()</span>.</p>\r\n      </div>\r\n\r\n      <h3><em class="func-def">fw.outlets.registerViewLocation<span>( <span class="param">\'viewName\'</span>, <span class="param">\'/path/to/template\'</span> )</span></em></h3>\r\n      <h3><em class="func-def">fw.outlets.registerViewLocation<span>( <span class="param">[ \'viewName\', \'viewName2\', ... ]</span>, <span class="param">\'/path/to/template/\'</span> )</span></em></h3>\r\n      <h3>Tell footwork where it can download a view via AMD/RequireJS:</h3>\r\n<pre><code class="javascript">// Register location of the \'index-page\' template view\r\nfw.outlets.registerViewLocation(\'index-page\', \'/pages/index-page.html\');\r\n\r\n/**\r\n * Footwork will append the filename if you end it with a trailing slash (/)\r\n * The following will try to load \'/otherPages/calendar-page.html\' when needed\r\n */\r\nfw.outlets.registerViewLocation(\'calendar-page\', \'/otherPages/\');\r\n\r\n// Register location for multiple views (the same filename appending occurs):\r\nfw.outlets.registerViewLocation([\'calendar-page\', \'about-page\'], \'/otherPages/\');\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="outlet-usage" class="section-anchor"></a>\r\n  <section name="outlet-usage">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Usage</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Once footwork knows how to resolve your outlet view it can be used in your application. From that point you need only place whatever\r\n      <span class="inline-code">&lt;outlet name=""&gt;&lt;/outlet&gt;</span> declarations you want in the HTML and then change/set them via the <span class="inline-code">router.$outlet()</span> method.</p>\r\n\r\n      <h3><em class="func-def">router.$outlet<span>( <span class="param">\'outletName\'</span>, <span class="param">\'viewName\'</span>, <span class="param">options</span> )</span></em></h3>\r\n      <h3><em class="func-def">router.$outlet<span>( <span class="param">\'outletName\'</span>, <span class="param">\'viewName\'</span>, <span class="param">onComplete(containingElement)</span> )</span></em></h3>\r\n      <h3>Trigger an outlet to display a component, optionally providing an onComplete() callback and/or parameters to its viewModel.</h3>\r\n      <h3>Example <span class="inline-code">&lt;viewModel module="[moduleName]"&gt; ... &lt;/viewModel&gt;</span> with a router and outlet:</h3>\r\n<pre><code class="html">&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;viewModel module="Main"&gt;\r\n      &lt;!-- ... --&gt;\r\n      &lt;outlet name="main-view"&gt;&lt;/outlet&gt;\r\n      &lt;!-- ... --&gt;\r\n    &lt;/viewModel&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n<pre><code class="javascript">var Main = fw.viewModel({\r\n  namespace: \'Main\',\r\n  router: { /* ... */ }\r\n  initialize: function() {\r\n    // tell the \'main-view\' outlet to show the \'index-page\' view/component\r\n    this.$router.$outlet(\'main-view\', \'index-page\');\r\n  }\r\n});\r\n\r\nfw.viewModels.register(\'Main\', Main);\r\nfw.outlets.registerView(\'index-page\', \'&lt;p&gt;This is the index-page view.!&lt;/p&gt;\');\r\n\r\nfw.start();\r\n</code></pre>\r\n        <div class="note"><span class="label">NOTE:</span> You should be loading your viewModel and template modules externally, do not write them inline as shown! That was done purely to make the example short and more readable.</div>\r\n\r\n      <h3>Normally you would perform <span class="inline-code">router.$outlet()</span> calls from inside a route controller, as shown below:</h3>\r\n<pre><code class="javascript">var Main = fw.viewModel({\r\n  namespace: \'Main\',\r\n  router: {\r\n    routes: [\r\n      {\r\n        route: \'/\',\r\n        controller: function() {\r\n          // route changed to \'/\', make the \'main-view\' outlet show the \'index-page\' view\r\n          this.$outlet(\'main-view\', \'index-page\');\r\n        }\r\n      }, {\r\n        route: \'/about\',\r\n        controller: function() {\r\n          // route changed to \'/about\', make the \'main-view\' outlet show the \'about-page\' view\r\n          this.$outlet(\'main-view\', \'about-page\');\r\n        }\r\n      }\r\n    ]\r\n  }\r\n  initialize: function() { /* ... */ }\r\n});\r\n</code></pre>\r\n\r\n      <h3>You can provide an <span class="inline-code">onComplete()</span> callback to the <span class="inline-code">router.$outlet()</span> method which is run after the outlet has finished changing its view:</h3>\r\n<pre><code class="javascript">// ...\r\n{\r\n  route: \'/about\',\r\n  controller: function() {\r\n    this.$outlet(\'main-view\', \'about-page\', function(element) {\r\n      console.log(\'About page is loaded inside of\', element);\r\n    });\r\n  }\r\n}\r\n// ...\r\n</code></pre>\r\n\r\n      <p>You can also pass an <span class="inline-code">options</span> object to the <span class="inline-code">router.$outlet()</span> method. This object can contain the following:</p>\r\n      <ul>\r\n        <li><span class="inline-code">params:</span> - (<em>optional</em>) Object passed to the <span class="inline-code">initialize()</span> method of the viewModel (if your view/component has a viewModel).</li>\r\n        <li><span class="inline-code">onComplete:</span> - (<em>optional</em>) A callback function which is run after the new view/component is loaded (same as above).</li>\r\n      </ul>\r\n<pre><code class="javascript">// ...\r\n{\r\n  route: \'/about\',\r\n  controller: function() {\r\n    this.$outlet(\'main-view\', \'about-page\', {\r\n      // params object passed to the viewModel initialize() method\r\n      params: { thisObject: \'isPassedToTheComponent\' },\r\n\r\n      // callback which is run after it is loaded\r\n      onComplete: function(element) {\r\n        console.log(\'About page is loaded inside of\', element);\r\n      }\r\n    });\r\n  }\r\n}\r\n// ...\r\n</code></pre>\r\n      <div class="note"><span class="label">NOTE:</span> Remember that in addition to passing arguments directly from a route, you can also leverage the\r\n      powerful <a href="/api/namespacing" data-bind="$route">namespacing</a> or <a href="/api/broadcastable-receivable" data-bind="$route">broadcastable/receivable</a>\r\n      features of footwork to facilitate communication/initialization of your view component.</div>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="route-binding" class="section-anchor"></a>\r\n  <section name="route-binding">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Route Binding</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>In order to make your links and other elements work with the router, footwork needs to know about them. This is done with the <span class="inline-code">$route</span> binding.</p>\r\n      <p>The <span class="inline-code">$route</span> binding is simply a <a href="http://knockoutjs.com/documentation/custom-bindings.html" target="_blank">custom knockout binding</a> which is created by footwork. This\r\n      binding allows footwork to correctly connect your DOM element event (click, by default) to a router action.</p>\r\n      <p>Whenever footwork encounters the <span class="inline-code">$route</span> binding it will traverse up the DOM node path searching for the nearest parent router. Whenever the designated event occurs on that\r\n      element it will trigger the state change as described on that router.</p>\r\n      <h3><span class="inline-code">$route</span> binding basic example:</h3>\r\n<pre><code class="html">&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;viewModel module="Main"&gt;\r\n      &lt;div class="navigation"&gt;\r\n        &lt;!-- \'click\' events on these will route application to their href="" paths --&gt;\r\n        &lt;a href="/" data-bind="$route"&gt;Home Page&lt;/a&gt;\r\n        &lt;a href="/about" data-bind="$route"&gt;About Page&lt;/a&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;outlet name="main-view"&gt;&lt;/outlet&gt;\r\n    &lt;/viewModel&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n      <div class="note"><span class="label">NOTE:</span> If you do not wish to use the <span class="inline-code">$route</span> binding to trigger state changes you can always just use the <span class="inline-code">router.setState()</span> method.</div>\r\n\r\n      <p>The <span class="inline-code">$route</span> binding has a few optional parameters.</p>\r\n      <ul>\r\n        <li><span class="inline-code">url:</span> - <span class="inline-code">string</span> The route to send the application to.</li>\r\n        <li><span class="inline-code">on:</span> - <span class="inline-code">string</span> The event to trigger the action on (click, by default).</li>\r\n        <li><span class="inline-code">handler:</span> - <span class="inline-code">function(event, url)</span> Callback handler for the event.</li>\r\n      </ul>\r\n\r\n      <h3><span class="inline-code">url:</span> - <span class="inline-code">string</span> The URL/HREF/route to send the application to:</h3>\r\n<pre><code class="html">&lt;!-- ... --&gt;\r\n  &lt;!-- If not provided, footwork will attempt to find the url for the action on the href="" attribute. --&gt;\r\n  &lt;a data-bind="$route: { url: \'/about\' }"&gt;About Page&lt;/a&gt;\r\n&lt;!-- ... --&gt;</code></pre>\r\n\r\n      <h3><span class="inline-code">on:</span> - <span class="inline-code">string</span> The event to trigger the action on (click, by default):</h3>\r\n<pre><code class="html">&lt;!-- ... --&gt;\r\n  &lt;!-- Trigger the action on a double-click --&gt;\r\n  &lt;a data-bind="$route: { url: \'/about\', on: \'dblclick\' }"&gt;About Page&lt;/a&gt;\r\n&lt;!-- ... --&gt;</code></pre>\r\n\r\n      <h3><span class="inline-code">handler:</span> - <span class="inline-code">function(event, url)</span> Callback handler for the event:</h3>\r\n<pre><code class="html">&lt;!-- ... --&gt;\r\n  &lt;!-- Trigger the action with a custom handler --&gt;\r\n  &lt;a data-bind="$route: { url: \'/about\', handler: clickHandler }"&gt;About Page&lt;/a&gt;\r\n&lt;!-- ... --&gt;</code></pre>\r\n<pre><code class="javascript">// example viewModel showing the handler from above\r\nvar MainViewModel = fw.viewModel({\r\n  // ...\r\n  initialize: function() {\r\n    this.clickHandler = function(event, url) {\r\n      console.log(\'Route Destination:\', url);\r\n      return true; // tell footwork to route to the url (false === do not route)\r\n    }\r\n  }\r\n  // ...\r\n});\r\n</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="misc" class="section-anchor"></a>\r\n  <section name="misc">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Misc / Utility</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>Miscelaneous useful and utility methods.</p>\r\n      <ul>\r\n        <li><span class="inline-code"><a href="#routers-getAll">fw.routers.getAll()</a></span> - Return router (that has optionally been registered for the viewModel \'viewModelNamespaceName\').</li>\r\n        <li><span class="inline-code"><a href="#routers-baseRoute">fw.routers.baseRoute()</a></span> - Get or set the beginning portion of a route to ignore for the given path.</li>\r\n        <li><span class="inline-code"><a href="#routers-activeRouteClassName">fw.routers.activeRouteClassName()</a></span> - Get or set the class which is added to an active <span class="inline-code">$route</span> bound element.</li>\r\n        <li><span class="inline-code"><a href="#routers-disableHistory">fw.routers.disableHistory()</a></span> - Enable or disable history (or get the current setting).</li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="routers-getAll" class="section-anchor"></a>\r\n  <section name="routers-getAll">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.routers.getAll<span>()</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.routers.getAll<span>( <span class="param">\'viewModelNamespaceName\'</span> )</span></em></h3>\r\n      <h3>Return router (that has optionally been registered for the viewModel \'viewModelNamespaceName\'):</h3>\r\n<pre><code class="javascript">// Explicit registration\r\nvar MainViewModel = fw.viewModel({\r\n  namespace: \'MainViewModel\'\r\n  router: { /* ... */ }\r\n});\r\nvar Widget = fw.viewModel({\r\n  namespace: \'Widget\'\r\n  router: { /* ... */ }\r\n});\r\n\r\nvar main = new MainViewModel();\r\nvar widget = new Widget();\r\n\r\nvar routers = fw.routers.getAll();\r\n// routers === { MainViewModel: router, Widget: router }\r\n\r\nvar routers = fw.routers.getAll(\'Widget\');\r\n// routers === { Widget: router }</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="routers-baseRoute" class="section-anchor"></a>\r\n  <section name="routers-baseRoute">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.routers.baseRoute<span>()</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.routers.baseRoute<span>( <span class="param">\'/path/to/ignore\'</span> )</span></em></h3>\r\n      <h3>Get or set the beginning portion of a route to ignore for the given path:</h3>\r\n<pre><code class="javascript">// fw.routers.baseRoute() === \'\'\r\nfw.routers.baseRoute(\'/home/directory\'); // routers will ignore \'/home/directory\' at beginning of url</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="routers-activeRouteClassName" class="section-anchor"></a>\r\n  <section name="routers-activeRouteClassName">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.routers.activeRouteClassName<span>()</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.routers.activeRouteClassName<span>( <span class="param">\'className\'</span> )</span></em></h3>\r\n      <h3>Get or set the class which is added to an active <span class="inline-code">$route</span> bound element:</h3>\r\n<pre><code class="javascript">// fw.routers.activeRouteClassName() === \'active\' // default === \'active\'\r\n// active routes will now have \'currentlyActive\' added to their className\r\nfw.routers.activeRouteClassName(\'currentlyActive\');</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="routers-disableHistory" class="section-anchor"></a>\r\n  <section name="routers-disableHistory">\r\n    <div class="highlight"></div>\r\n    <div class="content">\r\n      <h3 class="top"><em class="func-def">fw.routers.disableHistory<span>()</span></em></h3>\r\n      <h3 class="top"><em class="func-def">fw.routers.disableHistory<span>( <span class="param">isDisabled</span> )</span></em></h3>\r\n      <h3>Enable or disable history (or get the current setting):</h3>\r\n<pre><code class="javascript">// fw.routers.disableHistory() === false (default)\r\nfw.routers.disableHistory(true); // history now disabled, but app still navigable</code></pre>\r\n    </div>\r\n  </section>\r\n\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "Routing",\r\n  "description": "Initializing and managing application state.",\r\n  "sections": [\r\n    { "anchor": "introduction",\r\n      "title": "Introduction" },\r\n    { "anchor": "usage",\r\n      "title": "Usage" },\r\n    { "anchor": "configuration",\r\n      "title": "Configuration",\r\n      "subSections": [\r\n        { "anchor": "routes",\r\n          "title": "Routes List" },\r\n        { "anchor": "route",\r\n          "title": "Route Definition" },\r\n        { "anchor": "router-properties",\r\n          "title": "Router Properties" }\r\n      ] },\r\n    { "anchor": "outlets",\r\n      "title": "Outlets",\r\n      "subSections": [\r\n        { "anchor": "outlet-registering",\r\n          "title": "Lazy Loading / Registering Views" },\r\n        { "anchor": "outlet-usage",\r\n          "title": "Usage" }\r\n      ] },\r\n    { "anchor": "route-binding",\r\n      "title": "Route Binding" },\r\n    { "anchor": "misc",\r\n      "title": "Misc / Utility",\r\n      "collapsable": true,\r\n      "isCollapsed": true,\r\n      "subSections": [\r\n        { "anchor": "routers-getAll",\r\n          "title": "fw.routers.getAll()" },\r\n        { "anchor": "routers-baseRoute",\r\n          "title": "fw.routers.baseRoute()" },\r\n        { "anchor": "routers-activeRouteClassName",\r\n          "title": "fw.routers.activeRouteClassName()" },\r\n        { "anchor": "routers-disableHistory",\r\n          "title": "fw.routers.disableHistory()" }\r\n      ] }\r\n  ]\r\n}\r\n</div>'
}),define("text!../../pages/tutorials-page.html",[],function(){return'<article>\r\n  \r\n  <a id="introduction" class="section-anchor"></a>\r\n  <section name="introduction">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Tutorial List</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>These guides will help walk you through a basic footwork.js based application and various features found in the framework.</p>\r\n      <h3>Application Tutorials</h3>\r\n      <ul>\r\n        <li>\r\n          <a href="/tutorials/TodoMVC" data-bind="$route">TodoMVC</a> <span>- New to footwork? Start here!</span>\r\n        </li>\r\n      </ul>\r\n\r\n      <h3>Feature Specific Tutorials</h3>\r\n      <ul>\r\n        <li><em>Coming VERY soon...currently being worked on!</em></li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "Tutorials",\r\n  "description": "Step by step guides on creating footwork based applications."\r\n}\r\n</div>'}),define("text!../../pages/tutorials/todomvc-page.html",[],function(){return'<article>\r\n  \r\n  <a id="introduction" class="section-anchor"></a>\r\n  <section name="introduction">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Introduction</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>Getting started with footwork is best done with a real application. In this tutorial we will be covering the creation of a TODO list app.</p>\r\n      <p>Specifically, in relation to footwork.js we will cover the following topics:</p>\r\n      <ul>\r\n        <li>Downloading dependencies and setting up an environment to use footwork.</li>\r\n        <li>App instantiation.</li>\r\n        <li>RequireJS usage for automatic dependency management.</li>\r\n        <li>&lt;viewModel&gt; wrapping of HTML and 2-way binding.</li>\r\n        <li>&lt;custom-component&gt; creation and usage.</li>\r\n        <li>Broadcastable and receivable usage.</li>\r\n        <li>Routing and state initialization.</li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="getting-started" class="section-anchor"></a>\r\n  <section name="getting-started">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h1 class="sub title">Getting Started</h1>\r\n    </header>\r\n    <div class="content">\r\n      <p>This tutorial has a companion repository on github which houses the source. It is recommended (although not 100% necessary) that you follow along and\r\n      play with the code as you progress through the tutorial.</p>\r\n      <p>This section will not cover setting up a webservice or basic git usage (beyond the few commands needed to use the tutorial). If you are new to git,\r\n      I would recommend taking a look at the <a href="https://try.github.io/levels/1/challenges/1" target="_blank">walk-through</a> available on github.</p>\r\n      <h3>You can clone the <a href="https://github.com/reflectiveSingleton/todo-tutorial" target="_blank">tutorial repo</a> with the following command:</h3>\r\n<pre><code class="bash">git clone https://github.com/reflectiveSingleton/todo-tutorial.git</code></pre>\r\n      <p>This repo has all of the assets needed to run the application. You may notice it also makes use of bower <a href="http://bower.io/" target="_blank">bower</a> for\r\n      package management, and <a href="http://lesscss.org/#client-side-usage" target="_blank">less.js</a> for CSS. It is not necessary to know anything about\r\n      these in order to use this tutorial however they are both great tools worthy of checking out.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="prerequisites" class="section-anchor"></a>\r\n  <section name="prerequisites">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Prerequisites</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>This tutorial assumes a basic understanding of the following topics:</p>\r\n      \r\n      <ul>\r\n        <li>HTML</li>\r\n        <li>CSS</li>\r\n        <li>Javascript</li>\r\n      </ul>\r\n      \r\n      <p>Although not required, it is helpful if you have knowledge of any of the dependencies footwork uses, most notably knockout. You shouldn\'t have <em>too much</em> issue\r\n      getting through the tutorial without it, but having an idea of how to use <a href="http://knockoutjs.com/documentation/observables.html" target="_blank">observables and\r\n      2-way data binding</a> at the least would be helpful.</p>\r\n      \r\n      <p>This tutorial will not cover the creation of the CSS/LESS, they are included for you in the base repository. Also of note, the javascript runtime of\r\n      LessCSS is used so that it needs no re-compile step if/when you alter it.</p>\r\n    </div>\r\n  </section>\r\n\r\n  <a id="setup" class="section-anchor"></a>\r\n  <section name="setup">\r\n    <div class="highlight"></div>\r\n    <header>\r\n      <h2 class="sub title">Setup</h2>\r\n    </header>\r\n    <div class="content">\r\n      <p>After cloning the repository you are ready to get started, begin by checking out the <span class="inline-code">setup</span> step branch:</p>\r\n<pre><code class="bash">git checkout -f setup</code></pre>\r\n      <p>This will set your workspace up with the base application structure and code. Open up the page in your browser and you won\'t see anything too interesting just yet...but we\'ll get to that.</p>\r\n      <div class="figure">\r\n        <div class="title">Initial App View</div>\r\n        <div class="content">\r\n          <div class="image"><img src="images/todo-tutorial/setup0.png" alt="Base application structure" title="Base application structure"></div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </section>\r\n\r\n</article>\r\n\r\n<div id="metaData">\r\n{\r\n  "title": "TodoMVC Tutorial",\r\n  "sections": [\r\n    { "anchor": "introduction",\r\n      "title": "Introduction" },\r\n    { "anchor": "getting-started",\r\n      "title": "Getting Started",\r\n      "subSections": [\r\n        { "anchor": "prerequisites",\r\n          "title": "Prerequisites" }\r\n      ] },\r\n    { "anchor": "setup",\r\n      "title": "Setup" }\r\n  ]\r\n}\r\n</div>'}),define("resourceHelper",["footwork","app/viewModel/Contributors","text!app/template/contributors.html","text!app/template/showversion.html","app/viewModel/Releases","text!app/template/releases.html","app/viewModel/config/Configuration","text!app/template/config/configuration.html","app/viewModel/config/ConfigManagement","text!app/template/config/configmanagement.html","app/viewModel/config/LayoutControl","text!app/template/config/layoutcontrol.html","app/viewModel/Pane","text!app/template/pane.html","app/viewModel/pane/PaneLinks","text!app/template/pane/panelinks.html","app/viewModel/NavMenu","text!app/template/navmenu.html","app/viewModel/pane/PageSections","text!app/template/pane/pagesections.html","app/viewModel/pane/PageSection","text!app/template/pane/pagesection.html","app/viewModel/pane/PageSubSection","text!app/template/pane/pagesubsection.html","app/viewModel/pane/PaneBackground","text!app/template/pane/panebackground.html","app/viewModel/Header","app/viewModel/Navigation","app/viewModel/Footer","app/viewModel/BuildInfo","text!../../pages/index-page.html","text!../../pages/not-found-page.html","text!../../pages/build-page.html","text!../../pages/annotated-page.html","text!../../pages/api-page.html","text!../../pages/api/viewModel-page.html","text!../../pages/api/namespacing-page.html","text!../../pages/api/components-page.html","text!../../pages/api/broadcastable-receivable-page.html","text!../../pages/api/routing-page.html","text!../../pages/tutorials-page.html","text!../../pages/tutorials/todomvc-page.html"],function(e,n,t,r,i,a,o,s,l,c,u,d,p,h,f,m,v,g,b,w,y,M,x,k,N,C,S,T,R,j,P,E,A,L,_,H,O,D,I,F,$,q){return function(){e.outlets.registerView("index-page",P),e.outlets.registerView("not-found-page",E),e.outlets.registerView("build-info-page",A),e.outlets.registerView("annotated-page",L),e.outlets.registerView("api-page",_),e.outlets.registerView("api-viewModel-page",H),e.outlets.registerView("api-namespacing-page",O),e.outlets.registerView("api-components-page",D),e.outlets.registerView("api-broadcastable-receivable-page",I),e.outlets.registerView("api-routing-page",F),e.outlets.registerView("tutorials-page",$),e.outlets.registerView("todomvc-tutorial-page",q),e.components.register("showversion",{viewModel:j,template:r}),e.components.register("releases",{viewModel:i,template:a}),e.components.register("contributors",{viewModel:n,template:t}),e.components.register("configuration",{viewModel:o,template:s}),e.components.register("configmanagement",{viewModel:l,template:c}),e.components.register("layoutcontrol",{viewModel:u,template:d}),e.components.register("pane",{viewModel:p,template:h}),e.components.register("panelinks",{viewModel:f,template:m}),e.components.register("navmenu",{viewModel:v,template:g}),e.components.register("pagesections",{viewModel:b,template:w}),e.components.register("pagesection",{viewModel:y,template:M}),e.components.register("pagesubsection",{viewModel:x,template:k}),e.components.register("panebackground",{viewModel:N,template:C}),e.viewModels.register("Header",S),e.viewModels.register("Navigation",T),e.viewModels.register("Footer",R),e.viewModels.register("BuildInfo",j)}}),define("Page",["jquery","lodash","footwork"],function(e,n,t){return t.viewModel({namespace:"Page",initialize:function(){this.$pageSections=t.namespace("PageSections"),this.defaultTitle=t.observable("staticty.pe"),this.transitionsEnabled=t.observable(!1).receiveFrom("ViewPort","transitionsEnabled"),this.scrollPosition=t.observable().receiveFrom("ViewPort","scrollPosition"),this.maxScrollResetPosition=t.observable().receiveFrom("ViewPort","maxScrollResetPosition"),this.viewPortLayoutMode=t.observable().receiveFrom("ViewPort","layoutMode"),this.shortTitle=t.observable().broadcastAs("shortTitle",!0),this.baseURL=t.observable().broadcastAs("baseURL"),this.hashURL=t.observable().broadcastAs("hashURL",!0),this.loadPageMeta=function(t){n.isUndefined(t)||(this.$pageSections.publish("pageMetaData",t),e=t,this.shortTitle(t.title))}.bind(this),this.$namespace.subscribe("initMeta",function(e){this.loadPageMeta(e)}).context(this);var e;this.$namespace.request.handler("metaData",function(){return e})}})});var hljs=new function(){function e(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function n(e){return e.nodeName.toLowerCase()}function t(e,n){var t=e&&e.exec(n);return t&&0==t.index}function r(e){var n=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return n=n.map(function(e){return e.replace(/^lang(uage)?-/,"")}),n.filter(function(e){return b(e)||/no(-?)highlight/.test(e)})[0]}function i(e,n){var t={};for(var r in e)t[r]=e[r];if(n)for(var r in n)t[r]=n[r];return t}function a(e){var t=[];return function r(e,i){for(var a=e.firstChild;a;a=a.nextSibling)3==a.nodeType?i+=a.nodeValue.length:1==a.nodeType&&(t.push({event:"start",offset:i,node:a}),i=r(a,i),n(a).match(/br|hr|img|input/)||t.push({event:"stop",offset:i,node:a}));return i}(e,0),t}function o(t,r,i){function a(){return t.length&&r.length?t[0].offset!=r[0].offset?t[0].offset<r[0].offset?t:r:"start"==r[0].event?t:r:t.length?t:r}function o(t){function r(n){return" "+n.nodeName+'="'+e(n.value)+'"'}u+="<"+n(t)+Array.prototype.map.call(t.attributes,r).join("")+">"}function s(e){u+="</"+n(e)+">"}function l(e){("start"==e.event?o:s)(e.node)}for(var c=0,u="",d=[];t.length||r.length;){var p=a();if(u+=e(i.substr(c,p[0].offset-c)),c=p[0].offset,p==t){d.reverse().forEach(s);do l(p.splice(0,1)[0]),p=a();while(p==t&&p.length&&p[0].offset==c);d.reverse().forEach(o)}else"start"==p[0].event?d.push(p[0].node):d.pop(),l(p.splice(0,1)[0])}return u+e(i.substr(c))}function s(e){function n(e){return e&&e.source||e}function t(t,r){return RegExp(n(t),"m"+(e.cI?"i":"")+(r?"g":""))}function r(a,o){if(!a.compiled){if(a.compiled=!0,a.k=a.k||a.bK,a.k){var s={},l=function(n,t){e.cI&&(t=t.toLowerCase()),t.split(" ").forEach(function(e){var t=e.split("|");s[t[0]]=[n,t[1]?Number(t[1]):1]})};"string"==typeof a.k?l("keyword",a.k):Object.keys(a.k).forEach(function(e){l(e,a.k[e])}),a.k=s}a.lR=t(a.l||/\b[A-Za-z0-9_]+\b/,!0),o&&(a.bK&&(a.b="\\b("+a.bK.split(" ").join("|")+")\\b"),a.b||(a.b=/\B|\b/),a.bR=t(a.b),a.e||a.eW||(a.e=/\B|\b/),a.e&&(a.eR=t(a.e)),a.tE=n(a.e)||"",a.eW&&o.tE&&(a.tE+=(a.e?"|":"")+o.tE)),a.i&&(a.iR=t(a.i)),void 0===a.r&&(a.r=1),a.c||(a.c=[]);var c=[];a.c.forEach(function(e){e.v?e.v.forEach(function(n){c.push(i(e,n))}):c.push("self"==e?a:e)}),a.c=c,a.c.forEach(function(e){r(e,a)}),a.starts&&r(a.starts,o);var u=a.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([a.tE,a.i]).map(n).filter(Boolean);a.t=u.length?t(u.join("|"),!0):{exec:function(){return null}}}}r(e)}function l(n,r,i,a){function o(e,n){for(var r=0;r<n.c.length;r++)if(t(n.c[r].bR,e))return n.c[r]}function u(e,n){return t(e.eR,n)?e:e.eW?u(e.parent,n):void 0}function d(e,n){return!i&&t(n.iR,e)}function p(e,n){var t=x.cI?n[0].toLowerCase():n[0];return e.k.hasOwnProperty(t)&&e.k[t]}function h(e,n,t,r){var i=r?"":w.classPrefix,a='<span class="'+i,o=t?"":"</span>";return a+=e+'">',a+n+o}function f(){if(!k.k)return e(T);var n="",t=0;k.lR.lastIndex=0;for(var r=k.lR.exec(T);r;){n+=e(T.substr(t,r.index-t));var i=p(k,r);i?(R+=i[1],n+=h(i[0],e(r[0]))):n+=e(r[0]),t=k.lR.lastIndex,r=k.lR.exec(T)}return n+e(T.substr(t))}function m(){if(k.sL&&!y[k.sL])return e(T);var n=k.sL?l(k.sL,T,!0,N[k.sL]):c(T);return k.r>0&&(R+=n.r),"continuous"==k.subLanguageMode&&(N[k.sL]=n.top),h(n.language,n.value,!1,!0)}function v(){return void 0!==k.sL?m():f()}function g(n,t){var r=n.cN?h(n.cN,"",!0):"";n.rB?(C+=r,T=""):n.eB?(C+=e(t)+r,T=""):(C+=r,T=t),k=Object.create(n,{parent:{value:k}})}function M(n,t){if(T+=n,void 0===t)return C+=v(),0;var r=o(t,k);if(r)return C+=v(),g(r,t),r.rB?0:t.length;var i=u(k,t);if(i){var a=k;a.rE||a.eE||(T+=t),C+=v();do k.cN&&(C+="</span>"),R+=k.r,k=k.parent;while(k!=i.parent);return a.eE&&(C+=e(t)),T="",i.starts&&g(i.starts,""),a.rE?0:t.length}if(d(t,k))throw new Error('Illegal lexeme "'+t+'" for mode "'+(k.cN||"<unnamed>")+'"');return T+=t,t.length||1}var x=b(n);if(!x)throw new Error('Unknown language: "'+n+'"');s(x);for(var k=a||x,N={},C="",S=k;S!=x;S=S.parent)S.cN&&(C=h(S.cN,"",!0)+C);var T="",R=0;try{for(var j,P,E=0;k.t.lastIndex=E,j=k.t.exec(r),j;)P=M(r.substr(E,j.index-E),j[0]),E=j.index+P;M(r.substr(E));for(var S=k;S.parent;S=S.parent)S.cN&&(C+="</span>");return{r:R,value:C,language:n,top:k}}catch(A){if(-1!=A.message.indexOf("Illegal"))return{r:0,value:e(r)};throw A}}function c(n,t){t=t||w.languages||Object.keys(y);var r={r:0,value:e(n)},i=r;return t.forEach(function(e){if(b(e)){var t=l(e,n,!1);t.language=e,t.r>i.r&&(i=t),t.r>r.r&&(i=r,r=t)}}),i.language&&(r.second_best=i),r}function u(e){return w.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,n){return n.replace(/\t/g,w.tabReplace)})),w.useBR&&(e=e.replace(/\n/g,"<br>")),e}function d(e,n,t){var r=n?M[n]:t,i=[e.trim()];return e.match(/(\s|^)hljs(\s|$)/)||i.push("hljs"),r&&i.push(r),i.join(" ").trim()}function p(e){var n=r(e);if(!/no(-?)highlight/.test(n)){var t;w.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div"),t.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):t=e;var i=t.textContent,s=n?l(n,i,!0):c(i),p=a(t);if(p.length){var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");h.innerHTML=s.value,s.value=o(p,a(h),i)}s.value=u(s.value),e.innerHTML=s.value,e.className=d(e.className,n,s.language),e.result={language:s.language,re:s.r},s.second_best&&(e.second_best={language:s.second_best.language,re:s.second_best.r})}}function h(e){w=i(w,e)}function f(){if(!f.called){f.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,p)}}function m(){addEventListener("DOMContentLoaded",f,!1),addEventListener("load",f,!1)}function v(e,n){var t=y[e]=n(this);t.aliases&&t.aliases.forEach(function(n){M[n]=e})}function g(){return Object.keys(y)}function b(e){return y[e]||y[M[e]]}var w={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},y={},M={};this.highlight=l,this.highlightAuto=c,this.fixMarkup=u,this.highlightBlock=p,this.configure=h,this.initHighlighting=f,this.initHighlightingOnLoad=m,this.registerLanguage=v,this.listLanguages=g,this.getLanguage=b,this.inherit=i,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]},this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]},this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},this.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}};hljs.registerLanguage("ini",function(e){return{cI:!0,i:/\S/,c:[{cN:"comment",b:";",e:"$"},{cN:"title",b:"^\\[",e:"\\]"},{cN:"setting",b:"^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",e:"$",c:[{cN:"value",eW:!0,k:"on off true false yes no",c:[e.QSM,e.NM],r:0}]}]}}),hljs.registerLanguage("javascript",function(e){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},e.ASM,e.QSM,e.CLCM,e.CBCM,e.CNM,{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[e.CLCM,e.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+e.IR,r:0}]}}),hljs.registerLanguage("json",function(e){var n={literal:"true false null"},t=[e.QSM,e.CNM],r={cN:"value",e:",",eW:!0,eE:!0,c:t,k:n},i={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[e.BE],i:"\\n",starts:r}],i:"\\S"},a={b:"\\[",e:"\\]",c:[e.inherit(r,{cN:null})],i:"\\S"};return t.splice(t.length,0,i,a),{c:t,k:n,i:"\\S"}}),hljs.registerLanguage("xml",function(){var e="[A-Za-z0-9\\._:-]+",n={b:/<\?(php)?(?!\w)/,e:/\?>/,sL:"php",subLanguageMode:"continuous"},t={eW:!0,i:/</,r:0,c:[n,{cN:"attribute",b:e,r:0},{b:"=",r:0,c:[{cN:"value",c:[n],v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xsl","plist"],cI:!0,c:[{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"<!--",e:"-->",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{title:"style"},c:[t],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[t],starts:{e:"</script>",rE:!0,sL:"javascript"}},n,{cN:"pi",b:/<\?\w+/,e:/\?>/,r:10},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:/[^ \/><\n\t]+/,r:0},t]}]}}),hljs.registerLanguage("bash",function(e){var n={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)\}/}]},t={cN:"string",b:/"/,e:/"/,c:[e.BE,n,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]},r={cN:"string",b:/'/,e:/'/};return{aliases:["sh","zsh"],l:/-?[a-z\.]+/,k:{keyword:"if then else elif fi for break continue while in do done exit return set declare case esac export exec function",literal:"true false",built_in:"printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"shebang",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,e.NM,t,r,n]}}),hljs.registerLanguage("css",function(e){var n="[a-zA-Z-][a-zA-Z0-9_-]*",t={cN:"function",b:n+"\\(",rB:!0,eE:!0,e:"\\("};return{cI:!0,i:"[=/|']",c:[e.CBCM,{cN:"id",b:"\\#[A-Za-z0-9_-]+"},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",e:"\\]",i:"$"},{cN:"pseudo",b:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{cN:"at_rule",b:"@",e:"[{;]",c:[{cN:"keyword",b:/\S+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[t,e.ASM,e.QSM,e.CSSNM]}]},{cN:"tag",b:n,r:0},{cN:"rules",b:"{",e:"}",i:"[^\\s]",r:0,c:[e.CBCM,{cN:"rule",b:"[^\\s]",rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:!0,i:"[^\\s]",starts:{cN:"value",eW:!0,eE:!0,c:[t,e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"hexcolor",b:"#[0-9A-Fa-f]+"},{cN:"important",b:"!important"}]}}]}]}]}}),define("highlight",function(){}),function(e){"function"==typeof define&&define.amd?define("jquery.collapsible",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){e.fn.collapsible=function(){return this.each(function(){var n=e(this),t=n.children("li");this.$children=t,t.on("click",function(n){var r=!1;e(this).hasClass("expanded")||(r=!0),t.removeClass("expanded"),r&&e(n.currentTarget).addClass("expanded")}),t.children(".content").click(function(e){e.stopPropagation()})}),this}}),function(e,n){var t=e.History=e.History||{};if("undefined"!=typeof t.Adapter)throw new Error("History.js Adapter has already been loaded...");t.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=t.Adapter._uid++)},bind:function(e,n,r){var i=t.Adapter.uid(e);t.Adapter.handlers[i]=t.Adapter.handlers[i]||{},t.Adapter.handlers[i][n]=t.Adapter.handlers[i][n]||[],t.Adapter.handlers[i][n].push(r),e["on"+n]=function(e,n){return function(r){t.Adapter.trigger(e,n,r)}}(e,n)},trigger:function(e,n,r){r=r||{};var i,a,o=t.Adapter.uid(e);for(t.Adapter.handlers[o]=t.Adapter.handlers[o]||{},t.Adapter.handlers[o][n]=t.Adapter.handlers[o][n]||[],i=0,a=t.Adapter.handlers[o][n].length;a>i;++i)t.Adapter.handlers[o][n][i].apply(this,[r])},extractEventData:function(e,t){var r=t&&t[e]||n;return r},onDomLoad:function(n){var t=e.setTimeout(function(){n()},2e3);e.onload=function(){clearTimeout(t),n()}}},"undefined"!=typeof t.init&&t.init()}(window),function(e,n){var t=e.console||n,r=e.document,i=e.navigator,a=e.sessionStorage||!1,o=e.setTimeout,s=e.clearTimeout,l=e.setInterval,c=e.clearInterval,u=e.JSON,d=e.alert,p=e.History=e.History||{},h=e.history;try{a.setItem("TEST","1"),a.removeItem("TEST")}catch(f){a=!1}if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(){return"undefined"==typeof p.Adapter?!1:("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||r.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,n=p.intervalList;if("undefined"!=typeof n&&null!==n){for(e=0;e<n.length;e++)c(n[e]);p.intervalList=null}},p.debug=function(){(p.options.debug||!1)&&p.log.apply(p,arguments)},p.log=function(){var e,n,i,a,o,s="undefined"!=typeof t&&"undefined"!=typeof t.log&&"undefined"!=typeof t.log.apply,l=r.getElementById("log");for(s?(a=Array.prototype.slice.call(arguments),e=a.shift(),"undefined"!=typeof t.debug?t.debug.apply(t,[e,a]):t.log.apply(t,[e,a])):e="\n"+arguments[0]+"\n",n=1,i=arguments.length;i>n;++n){if(o=arguments[n],"object"==typeof o&&"undefined"!=typeof u)try{o=u.stringify(o)}catch(c){}e+="\n"+o+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||d(e),!0},p.getInternetExplorerMajorVersion=function(){var e=p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,n=r.createElement("div"),t=n.getElementsByTagName("i");(n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&t[0];);return e>4?e:!1}();return e},p.isInternetExplorer=function(){var e=p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return e},p.emulated=p.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},p.cloneObject=function(e){var n,t;return e?(n=u.stringify(e),t=u.parse(n)):t={},t},p.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);return r.location.port&&(e+=":"+r.location.port),e+="/"},p.getBaseHref=function(){var e=r.getElementsByTagName("base"),n=null,t="";return 1===e.length&&(n=e[0],t=n.href.replace(/[^\/]+$/,"")),t=t.replace(/\/+$/,""),t&&(t+="/"),t},p.getBaseUrl=function(){var e=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return e},p.getPageUrl=function(){var e,n=p.getState(!1,!1),t=(n||{}).url||p.getLocationHref();return e=t.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},p.getBasePageUrl=function(){var e=p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},p.getFullUrl=function(e,n){var t=e,r=e.substring(0,1);return n="undefined"==typeof n?!0:n,/[a-z]+\:\/\//.test(e)||(t="/"===r?p.getRootUrl()+e.replace(/^\/+/,""):"#"===r?p.getPageUrl().replace(/#.*/,"")+e:"?"===r?p.getPageUrl().replace(/[\?#].*/,"")+e:n?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),t.replace(/\#$/,"")},p.getShortUrl=function(e){var n=e,t=p.getBaseUrl(),r=p.getRootUrl();return p.emulated.pushState&&(n=n.replace(t,"")),n=n.replace(r,"/"),p.isTraditionalAnchor(n)&&(n="./"+n),n=n.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return e=e||r,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,n){"undefined"==typeof e&&(e=!0),"undefined"==typeof n&&(n=!0);var t=p.getLastSavedState();return!t&&n&&(t=p.createStateObject()),e&&(t=p.cloneObject(t),t.url=t.cleanUrl||t.url),t},p.getIdByState=function(e){var n,t=p.extractId(e.url);if(!t)if(n=p.getStateString(e),"undefined"!=typeof p.stateToId[n])t=p.stateToId[n];else if("undefined"!=typeof p.store.stateToId[n])t=p.store.stateToId[n];else{for(;t=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof p.idToState[t]||"undefined"!=typeof p.store.idToState[t];);p.stateToId[n]=t,p.idToState[t]=e}return t},p.normalizeState=function(e){var n,t;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),n={},n.normalized=!0,n.title=e.title||"",n.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),n.hash=p.getShortUrl(n.url),n.data=p.cloneObject(e.data),n.id=p.getIdByState(n),n.cleanUrl=n.url.replace(/\??\&_suid.*/,""),n.url=n.cleanUrl,t=!p.isEmptyObject(n.data),(n.title||t)&&p.options.disableSuid!==!0&&(n.hash=p.getShortUrl(n.url).replace(/\??\&_suid.*/,""),/\?/.test(n.hash)||(n.hash+="?"),n.hash+="&_suid="+n.id),n.hashedUrl=p.getFullUrl(n.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(n)&&(n.url=n.hashedUrl),n)},p.createStateObject=function(e,n,t){var r={data:e,title:n,url:t};return r=p.normalizeState(r)},p.getStateById=function(e){e=String(e);var t=p.idToState[e]||p.store.idToState[e]||n;return t},p.getStateString=function(e){var n,t,r;return n=p.normalizeState(e),t={data:n.data,title:e.title,url:e.url},r=u.stringify(t)},p.getStateId=function(e){var n,t;return n=p.normalizeState(e),t=n.id},p.getHashByState=function(e){var n,t;return n=p.normalizeState(e),t=n.hash},p.extractId=function(e){var n,t,r,i;return i=-1!=e.indexOf("#")?e.split("#")[0]:e,t=/(.*)\&_suid=([0-9]+)$/.exec(i),r=t?t[1]||e:e,n=t?String(t[2]||""):"",n||!1},p.isTraditionalAnchor=function(e){var n=!/[\/\?\.]/.test(e);return n},p.extractState=function(e,n){var t,r,i=null;return n=n||!1,t=p.extractId(e),t&&(i=p.getStateById(t)),i||(r=p.getFullUrl(e),t=p.getIdByUrl(r)||!1,t&&(i=p.getStateById(t)),!i&&n&&!p.isTraditionalAnchor(e)&&(i=p.createStateObject(null,null,r))),i},p.getIdByUrl=function(e){var t=p.urlToId[e]||p.store.urlToId[e]||n;return t},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||n},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||n},p.hasUrlDuplicate=function(e){var n,t=!1;return n=p.extractState(e.url),t=n&&n.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var n,t,r,i=!1;return p.savedStates.length&&(n=e.id,t=p.getLastSavedState(),r=t.id,i=n===r),i},p.saveState=function(e){return p.isLastSavedState(e)?!1:(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){var n=null;return n="undefined"==typeof e?p.savedStates[p.savedStates.length-1]:0>e?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){var e=null;return e=p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var n,t=p.getLocationHref(e);
return n=p.getHashByUrl(t)},p.unescapeHash=function(e){var n=p.normalizeHash(e);return n=decodeURIComponent(n)},p.normalizeHash=function(e){var n=e.replace(/[^#]*#/,"").replace(/#.*/,"");return n},p.setHash=function(e,n){var t,i;return n!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:n}),!1):(p.busy(!0),t=p.extractState(e,!0),t&&!p.emulated.pushState?p.pushState(t.data,t.title,t.url,!1):p.getHash()!==e&&(p.bugs.setHash?(i=p.getPageUrl(),p.pushState(null,null,i+"#"+e,!1)):r.location.hash=e),p)},p.escapeHash=function(n){var t=p.normalizeHash(n);return t=e.encodeURIComponent(t),p.bugs.hashEscape||(t=t.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),t},p.getHashByUrl=function(e){var n=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return n=p.unescapeHash(n)},p.setTitle=function(e){var n,t=e.title;t||(n=p.getStateByIndex(0),n&&n.url===e.url&&(t=n.title||p.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=t.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(i){}return r.title=t,p},p.queues=[],p.busy=function(e){if("undefined"!=typeof e?p.busy.flag=e:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){s(p.busy.timeout);var n=function(){var e,t,r;if(!p.busy.flag)for(e=p.queues.length-1;e>=0;--e)t=p.queues[e],0!==t.length&&(r=t.shift(),p.fireQueueItem(r),p.busy.timeout=o(n,p.options.busyDelay))};p.busy.timeout=o(n,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,n){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof n&&(e.queue=n),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(s(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=o(function(){return p.doubleCheckClear(),p.stateChanged||e(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var n,t=p.extractState(p.getLocationHref());return p.isLastSavedState(t)?void 0:(n=t,n||(n=p.createStateObject()),p.Adapter.trigger(e,"popstate"),p)},p.back=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),h.go(-1),!0)},p.forward=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),h.go(1),!0)},p.go=function(e,n){var t;if(e>0)for(t=1;e>=t;++t)p.forward(n);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(t=-1;t>=e;--t)p.back(n)}return p},p.emulated.pushState){var f=function(){};p.pushState=p.pushState||f,p.replaceState=p.replaceState||f}else p.onPopState=function(n,t){var r,i,a=!1,o=!1;return p.doubleCheckComplete(),r=p.getHash(),r?(i=p.extractState(r||p.getLocationHref(),!0),i?p.replaceState(i.data,i.title,i.url,!1):(p.Adapter.trigger(e,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(a=p.Adapter.extractEventData("state",n,t)||!1,o=a?p.getStateById(a):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()),o||(o=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(o)?(p.busy(!1),!1):(p.storeState(o),p.saveState(o),p.setTitle(o),p.Adapter.trigger(e,"statechange"),p.busy(!1),!0))},p.Adapter.bind(e,"popstate",p.onPopState),p.pushState=function(n,t,r,i){if(p.getHashByUrl(r)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:i}),!1;p.busy(!0);var a=p.createStateObject(n,t,r);return p.isLastSavedState(a)?p.busy(!1):(p.storeState(a),p.expectedStateId=a.id,h.pushState(a.id,a.title,a.url),p.Adapter.trigger(e,"popstate")),!0},p.replaceState=function(n,t,r,i){if(p.getHashByUrl(r)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:i}),!1;p.busy(!0);var a=p.createStateObject(n,t,r);return p.isLastSavedState(a)?p.busy(!1):(p.storeState(a),p.expectedStateId=a.id,h.replaceState(a.id,a.title,a.url),p.Adapter.trigger(e,"popstate")),!0};if(a){try{p.store=u.parse(a.getItem("History.store"))||{}}catch(m){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(e,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),a&&(p.onUnload=function(){var e,n,t;try{e=u.parse(a.getItem("History.store"))||{}}catch(r){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(n in p.idToState)p.idToState.hasOwnProperty(n)&&(e.idToState[n]=p.idToState[n]);for(n in p.urlToId)p.urlToId.hasOwnProperty(n)&&(e.urlToId[n]=p.urlToId[n]);for(n in p.stateToId)p.stateToId.hasOwnProperty(n)&&(e.stateToId[n]=p.stateToId[n]);p.store=e,p.normalizeStore(),t=u.stringify(e);try{a.setItem("History.store",t)}catch(i){if(i.code!==DOMException.QUOTA_EXCEEDED_ERR)throw i;a.length&&(a.removeItem("History.store"),a.setItem("History.store",t))}},p.intervalList.push(l(p.onUnload,p.options.storeInterval)),p.Adapter.bind(e,"beforeunload",p.onUnload),p.Adapter.bind(e,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(l(p.safariStatePoll,p.options.safariPollInterval)),("Apple Computer, Inc."===i.vendor||"Mozilla"===(i.appCodeName||""))&&(p.Adapter.bind(e,"hashchange",function(){p.Adapter.trigger(e,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(e,"hashchange")})))},(!p.options||!p.options.delayInit)&&p.init()}(window),define("history",function(){}),define("router",["jquery","footwork","lodash","highlight","jquery.collapsible","history"],function(e,n,t){function r(e){o.publish("initMeta",e)}function i(){var n=e.Deferred();return h(!0),n.done(function(n,t){var i=p(),a=e(t);n.length&&(n=JSON.parse(n),r(n)),"mobile"!==f()&&u.publish("hideAll"),d()>i&&!v?window.scrollTo(0,i):v=!1;var o=a.find(".collapsible");o.length&&o.collapsible(),a.find("pre code").each(function(e,n){hljs.highlightBlock(n)}),window.location.hash.length&&s.command("goToSection",window.location.hash.substring(1)),h(!1),m(!1)}),o.publish("loadingPage",n),n}function a(n,t){n.resolve(e("#metaData").text(),t.children[0])}var o=n.namespace("Page"),s=n.namespace("PageSections"),l=n.namespace("PageSection"),c=n.namespace("PageSubSection"),u=n.namespace("PaneElements"),d=n.observable().receiveFrom("ViewPort","scrollPosition"),p=n.observable().receiveFrom("ViewPort","maxScrollResetPosition"),h=n.observable().broadcastAs({name:"pageLoading",namespace:"mainRouter"}),f=n.observable().receiveFrom("ViewPort","layoutMode"),m=(n.observable().receiveFrom("PageSections","currentSection"),n.observable().receiveFrom("ViewPort","initialLoad")),v=!0;return History.Adapter.bind(window,"popstate",function(){l.trigger("resetURL"),c.trigger("resetURL")}),{relativeToParent:!1,routes:[{route:"/",title:"footwork.js",controller:function(){this.$outlet("mainContent","index-page",t.bind(a,this,i()))}},{route:"/annotated",title:"footworkjs - Annotated Source",controller:function(){this.$outlet("mainContent","annotated-page",t.bind(a,this,i()))}},{route:"/api",title:"footworkjs",controller:function(){this.$outlet("mainContent","api-page",t.bind(a,this,i()))}},{route:"/api/viewModel",title:"footworkjs - viewModel",controller:function(){this.$outlet("mainContent","api-viewModel-page",t.bind(a,this,i()))}},{route:"/api/namespacing",title:"footworkjs - Namespacing",controller:function(){this.$outlet("mainContent","api-namespacing-page",t.bind(a,this,i()))}},{route:"/api/components",title:"footworkjs - Components",controller:function(){this.$outlet("mainContent","api-components-page",t.bind(a,this,i()))}},{route:"/api/broadcastable-receivable",title:"footworkjs - Broadcastable / Receivable",controller:function(){this.$outlet("mainContent","api-broadcastable-receivable-page",t.bind(a,this,i()))}},{route:"/api/routing",title:"footworkjs - Routing",controller:function(){this.$outlet("mainContent","api-routing-page",t.bind(a,this,i()))}},{route:"/tutorials",title:"footworkjs - Tutorials",controller:function(){this.$outlet("mainContent","tutorials-page",t.bind(a,this,i()))}},{route:"/tutorials/TodoMVC",title:"footworkjs - Tutorials - TodoMVC",controller:function(){this.$outlet("mainContent","todomvc-tutorial-page",t.bind(a,this,i()))}}],unknownRoute:{title:"404 not found",controller:function(){this.$outlet("mainContent","not-found-page",t.bind(a,this,i()))}}}}),define("Body",["footwork","lodash","router"],function(e,n,t){return e.viewModel({namespace:"Body",router:t,afterBinding:function(){this.initialized(!0)},initialize:function(){this.$globalNamespace.request("isRunningLocally")&&(e.routers.disableHistory(!0),this.$router.setState("/")),this.initialized=e.observable(!1),this.configIsInitialized=e.observable(!1).receiveFrom("Configuration","initialized"),this.configVisible=e.observable().receiveFrom("Configuration","visible"),this.configReflowing=e.observable().receiveFrom("Configuration","reflowing"),this.paneAccentPadding=e.observable().receiveFrom("Configuration","paneAccentPadding"),this.paneMinWidth=e.observable().receiveFrom("Configuration","paneMinWidth"),this.transitionsEnabled=e.observable(!1).receiveFrom("ViewPort","transitionsEnabled"),this.viewPortLayoutMode=e.observable().receiveFrom("ViewPort","layoutMode"),this.viewPortIsTablet=e.observable().receiveFrom("ViewPort","isTablet"),this.viewPortSmall=e.observable().receiveFrom("ViewPort","isSmall"),this.viewPortDim=e.observable().receiveFrom("ViewPort","dimensions"),this.scrollPosition=e.observable().receiveFrom("ViewPort","scrollPosition"),this.maxScrollResetPosition=e.observable().receiveFrom("ViewPort","maxScrollResetPosition"),this.viewPortHas3dTransforms=e.observable(!0).receiveFrom("ViewPort","has3dTransforms"),this.mainContentTopOffset=e.observable(0).receiveFrom("Header","height"),this.visibleHeaderHeight=e.observable(0).receiveFrom("Header","visibleHeight"),this.headerHeight=e.observable(0).receiveFrom("Header","height"),this.headerReflowing=e.observable(!1).receiveFrom("Header","reflowing"),this.headerMoving=e.observable(!1).receiveFrom("Header","moving"),this.headerTopOffset=e.observable().receiveFrom("Header","topOffset"),this.headerClosed=e.observable().receiveFrom("Header","closed"),this.visibleFooterHeight=e.observable(0).receiveFrom("Footer","visibleHeight"),this.footerHeight=e.observable(0).receiveFrom("Footer","height"),this.transform=e.observable().receiveFrom("Pane","transform"),this.paneWidth=e.observable(0).receiveFrom("Pane","width"),this.narrowPane=e.observable(!1).receiveFrom("Pane","narrow"),this.paneCollapsed=e.observable(!1).receiveFrom("Configuration","paneCollapsed"),this.paneMoving=e.observable(!1).receiveFrom("Pane","moving"),this.paneAnimate3d=e.observable(!1).receiveFrom("Pane","animate3d"),this.paneDragging=e.observable(!1).receiveFrom("Pane","dragging"),this.paneDragOffset=e.observable(0).receiveFrom("Pane","dragOffset"),this.paneTransition=e.observable(void 0).receiveFrom("Pane","transition"),this.pageLoading=e.observable().receiveFrom("mainRouter","pageLoading"),this.paneColumnWidth=e.observable().receiveFrom("Pane","columnWidth"),this.controlEnabled=e.observable(!1).receiveFrom("LayoutControl","enabled"),this.currentControl=e.observable().receiveFrom("LayoutControl","currentControl"),this.$paneTouchManagerNamespace=e.namespace("PaneTouchManager"),this.width=e.computed(function(){return"object"==typeof this.viewPortDim()?this.viewPortDim().width-this.paneWidth()+"px":"0px"},this).broadcastAs("width"),this.overlapPane=e.computed(function(){return this.viewPortSmall()||"mobile"===this.viewPortLayoutMode()},this).broadcastAs("overlapPane"),this.height=e.observable().broadcastAs("height",!0),this.bodyState=e.computed(function(){var e=this.currentControl();return this.viewPortLayoutMode()+(e?" "+e+"-control":"")},this),this.isSmallViewport=e.computed(function(){return parseInt(this.paneColumnWidth(),10)<parseInt(this.paneMinWidth(),10)},this),this.transitionsDisabled=e.computed(function(){return this.configIsInitialized()===!1||this.transitionsEnabled()===!1},this),this.layoutTransitionsDisabled=e.computed(function(){return this.transitionsDisabled()||this.controlEnabled()||this.configReflowing()},this),this.isMobile=e.computed(function(){return"mobile"===this.viewPortLayoutMode()},this),this.isTablet=e.computed(function(){return this.viewPortIsTablet()},this),this.mainContentOffset=e.computed(function(){return parseInt(this.paneWidth(),10)+"px"},this),this.calculatedOffset=e.computed(function(){var e=parseInt(this.paneWidth(),10);return this.paneCollapsed()===!0&&(e=parseInt(this.paneAccentPadding(),10)),this.paneDragging()===!0&&(e-=this.paneDragOffset()),e},this),this.leftOffset=e.computed(function(){return this.paneAnimate3d()===!1?this.calculatedOffset()+"px":"0px"},this),this.topOffset=e.computed(function(){return this.headerClosed()?"0px":parseInt(this.visibleHeaderHeight(),10)+"px"},this),this.transform=e.computed(function(){var e=0;return this.paneAnimate3d()===!0&&(e=this.calculatedOffset()),"translate3d("+e+"px,0px,0px)"},this),this.minHeight=e.computed(function(){var e,n=this.scrollPosition(),t=this.maxScrollResetPosition(),r=this.viewPortDim();return parseInt(this.visibleHeaderHeight(),10)===parseInt(this.headerHeight(),10)&&parseInt(this.visibleFooterHeight(),10)===parseInt(this.footerHeight(),10)?"":(r&&(e=n>=t?r.height+t:r.height+n,e+="px"),e)},this),this.minHeight.extend({throttle:150}).subscribe(function(){this.$globalNamespace.publish("refreshDocSize")},this),this.uiState=e.computed(function(){return{initialized:this.initialized(),loading:this.pageLoading(),tablet:this.isTablet(),narrow:this.narrowPane(),verySmall:this.isSmallViewport(),collapsed:this.paneCollapsed(),paneMoving:this.paneMoving(),overlapPane:this.overlapPane(),headerMoving:this.headerMoving(),headerReflowing:this.headerReflowing(),transitionsDisabled:this.transitionsDisabled(),layoutTransitionsDisabled:this.layoutTransitionsDisabled()}},this),this.bodyClick=function(){return this.$globalNamespace.publish("clear"),!0},this.togglePaneCollapse=function(){(n.isUndefined(this.$paneTouchManagerNamespace.request("ping"))||!this.isMobile())&&this.paneCollapsed(!this.paneCollapsed())}.bind(this),this.$namespace.subscribe("togglePane",this.togglePaneCollapse),this.$router.$outlet("mainContent").subscribe(function(){this.overlapPane()===!0&&this.paneCollapsed()===!1&&this.paneCollapsed(!0)}.bind(this))}})}),define("ViewPort",["jquery","lodash","footwork"],function(e,n,t){return t.viewModel({namespace:"ViewPort",initialize:function(){this.configTransitionsEnabled=t.observable().receiveFrom("Configuration","transitionsEnabled"),this.paneAccentPadding=t.observable().receiveFrom("Configuration","paneAccentPadding"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed"),this.configIsMobile=t.observable().receiveFrom("Configuration","isMobile"),this.visible=t.observable(!1).receiveFrom("Configuration","visible"),this.mobileWidthCutoff=t.observable(0).receiveFrom("Configuration","mobileWidthCutoff"),this.headerHeight=t.observable().receiveFrom("Header","height"),this.headerMinHeight=t.observable().receiveFrom("Header","minHeight"),this.currentSelection=t.observable().receiveFrom("PaneLinks","currentSelection"),this.resizing=t.observable(!1).extend({autoDisable:200}).broadcastAs("resizing"),this.initialLoad=t.observable(!0).broadcastAs("initialLoad",!0),this.scrolling=t.observable(!1).extend({autoDisable:100}).broadcastAs("scrolling"),this.scrollPosition=t.observable(0).broadcastAs("scrollPosition",!0),this.dimensions=t.observable({width:null,height:null}).extend({write:function(e,n){this.resizing(!0),e(n),this.$globalNamespace.publish("refreshDocSize")}.bind(this)}).broadcastAs("dimensions",!0),this.isTablet=t.observable(window.isTablet).broadcastAs("isTablet",!0),this.forceMobileLayout=t.computed(function(){return(this.dimensions().width||9e3)<this.mobileWidthCutoff()},this).broadcastAs("forceMobileLayout"),this.isMobile=t.computed(function(){return this.configIsMobile()||this.forceMobileLayout()},this).broadcastAs("isMobile"),this.noTransitions=t.observable(!1).broadcastAs("noTransitions",!0),this.closedOffset=t.computed(function(){return this.dimensions().width-2*parseInt(this.paneAccentPadding(),10)},this).broadcastAs("closedOffset"),this.openOffset=t.computed(function(){return-1*this.closedOffset()},this).broadcastAs("openOffset"),this.bottomScrollPosition=t.computed(function(){return this.scrollPosition()+this.dimensions().height},this).broadcastAs("bottomScrollPosition"),this.has3dTransforms=t.observable(window.Modernizr.csstransforms3d).broadcastAs("has3dTransforms"),this.layoutMode=t.computed(function(){return this.isMobile()?"mobile":this.isTablet()?"tablet":"desktop"},this).broadcastAs("layoutMode");var e=!1;this.isMobile.subscribe(function(n){e&&!n?("NavMenu"===this.currentSelection()&&this.currentSelection("PageSections"),this.paneCollapsed()===!1&&this.paneCollapsed(!0)):!e&&n&&(this.paneCollapsed()===!1&&this.paneCollapsed(!0),this.currentSelection("NavMenu")),e=n},this),this.$namespace.request.handler("layoutMode",function(){return this.layoutMode()},this),this.isSmall=t.computed(function(){return n.isNull(this.dimensions().width)===!1?this.dimensions().width<=835:null},this).broadcastAs("isSmall"),this.logoWidth=t.observable(161).broadcastAs("logoWidth"),this.transitionsEnabled=t.computed(function(){return!this.initialLoad()&&!this.resizing()&&this.configTransitionsEnabled()&&!this.noTransitions()},this).broadcastAs("transitionsEnabled"),this.maxScrollResetPosition=t.computed(function(){return parseInt(this.headerHeight(),10)-this.headerMinHeight()},this).broadcastAs("maxScrollResetPosition"),this.scrollPosition.subscribe(function(){this.scrolling(!0)},this),this.isSmall.subscribe(function(e){"desktop"===this.layoutMode()||"tablet"===this.layoutMode()?(e||this.initialLoad()===!1)&&this.paneCollapsed(e):this.initialLoad()&&this.paneCollapsed(!0),(e||this.initialLoad()===!1)&&"desktop"===this.layoutMode()},this)}})}),define("PaneTouchManager",["jquery","lodash","footwork"],function(e,n,t){function r(e,n){return Math.abs(Math.abs(e.delta)-Math.abs(n.delta))}function i(e,n){return Math.abs(e.timestamp-n.timestamp)}function a(e,n){return r(e,n)/i(e,n)}function o(e){return function(n){return e.direction===n.direction}}function s(e,t,s){if(this.paneMoving()===!0)return!1;var l=0,c=0,u={direction:"none",delta:0,timestamp:(new Date).getTime()},d=e.substr(5).toLowerCase(),h=this.paneCollapsed(),m=(this.viewPortDimensions().width,n.isUndefined(s.originalEvent.changedTouches[0])?M:s.originalEvent.changedTouches[0].pageX||M);"start"===d&&(x=m),m-=x,M=n.isNull(M)?m:M;var b=M-m,C=this.closedOffset(),S=this.openOffset();if(-1===["start","move","end"].indexOf(d))return void this.setPane(h);if(h===w?(b=0>b?0:b,b=C>b?b:C):(b=b>0?0:b,b=b>S?b:S),"start"!==d||N||(this.paneDragging(!0),N=!0,k=[],this.clickTimeout=setTimeout(function(){this.paneDragging(!1),this.paneCollapsed(!this.paneCollapsed())}.bind(this),f)),"move"!==d||0!==k.length&&k[0].delta===b||(u.delta=b,this.paneDragOffset(b),k.unshift(u),k.length>g&&k.pop(),k.length>1&&(u.distance=r(k[0],k[1]),u.duration=i(k[0],k[1]),u.direction=k[0].delta<k[1].delta?"right":"left")),!N||"move"!==d&&"end"!==d||(clearTimeout(this.clickTimeout),clearTimeout(this.customTransitionTimeout)),u.dragIntent="right"===u.direction?w:y,"end"===d&&N){N=!1;var T=k.length-3;sDragPoints=n.filter(k,o(k[T>=0?T:0])),sDragPoints.length<2||u.timestamp-sDragPoints[sDragPoints.length-1].timestamp>v?this.setPane(sDragPoints.length>1?this.farEnoughToOpen()?w:y:!h):sDragPoints.length>=2?(l=a(sDragPoints[0],sDragPoints[sDragPoints.length-1]),c=i(sDragPoints[0],sDragPoints[sDragPoints.length-1]),l>p?this.dragPane(sDragPoints[0].dragIntent,l,c):this.setPane(this.farEnoughToOpen()?w:y)):this.setPane(h)}}var l=80,c=180,u=200,d=-50,p=.8,h=1e3/60,f=250,m=70,v=200,g=10,b=["touchstart","touchmove","touchend","touchenter","touchleave","touchcancel"],w=!1,y=!0,M=null,x=0,k=[],N=!1;return t.viewModel({namespace:"PaneTouchManager",initialize:function(){this.$paneNamespace=t.namespace("Pane"),this.$paneNamespace.event.handler("initialized",function(){var t=e(".mobile-only.gripper"),r=e("#collapse-button");n.each(b,function(e){t.on(e,n.bind(s,this,e,"gripper")),r.on(e,n.bind(s,this,e,"button"))}.bind(this))},this),this.$namespace.request.handler("ping",function(){return"pong"}),this.setPane=function(e){this.paneDragging(!1),this.paneMoving(!0),this.paneDragOffset(0),this.paneCollapsed(e)},this.dragPane=function(e,n,t){var r=e===y?this.closedOffset():this.openOffset(),i=Math.floor(Math.abs(t*r/(n*h)))+d,a=this.paneCollapsed();(a===y&&e===y||a===w&&e===w)&&(r=0),i=i>c?c:i,i=l>i?l:i,e===a&&(i=i>m?m:i),this.paneTransition("transform "+i+"ms linear, left "+i+"ms linear"),this.paneDragOffset(r),this.customTransitionTimeout=setTimeout(function(){this.paneTransition("none"),this.paneDragging(!1),this.paneDragOffset(0),this.paneCollapsed(e)}.bind(this),i)},this.farEnoughToOpen=function(){return parseInt(this.paneTrueLeftOffset(),10)<parseInt(this.paneWidth(),10)/2},this.paneMoving=t.observable().receiveFrom("Pane","movingTimer"),this.paneCollapsed=t.observable().receiveFrom("Configuration","paneCollapsed"),this.paneDragging=t.observable().receiveFrom("Pane","dragging"),this.paneDragOffset=t.observable(0).receiveFrom("Pane","dragOffset"),this.paneTransition=t.observable(void 0).receiveFrom("Pane","transition"),this.paneTrueLeftOffset=t.observable(0).receiveFrom("Pane","trueLeftOffset"),this.paneWidth=t.observable(0).receiveFrom("Pane","width"),this.closedOffset=t.observable().receiveFrom("ViewPort","closedOffset"),this.openOffset=t.observable().receiveFrom("ViewPort","openOffset"),this.viewPortDimensions=t.observable().receiveFrom("ViewPort","dimensions"),this.dragActive=t.observable(!1),this.paneMoving.subscribe(function(e){this.paneTransition(e===!0?"transform "+u+"ms linear, left "+u+"ms linear":"none")},this)}})}),define("koBindings",["jquery","lodash","knockout","postal"],function(e,n,t,r){t.bindingHandlers.command={init:function(e,i){var a=i()||{};n.each(a,function(n,i){t.utils.registerEventHandler(e,i,function(){n.ns&&r.channel(n.ns).publish(n.order,n.value)})})}},t.bindingHandlers.transition={update:function(n,r){var i=t.utils.unwrapObservable(r());e(n).css({WebkitTransition:i,MozTransition:i,MsTransition:i,OTransition:i,transition:i})}},t.bindingHandlers.transform={update:function(n,r){var i=t.utils.unwrapObservable(r());e(n).css({WebkitTransform:i,MozTransform:i,MsTransform:i,OTransform:i,transform:i})}},t.bindingHandlers.logger={update:function(e,n,r){var i=t.utils.domData.get(e,"_ko_logger")||0,a=t.toJS(n()||r());t.utils.domData.set(e,"_ko_logger",++i),console&&console.log&&console.log(i,e,a)}},t.bindingHandlers["class"]={update:function(n,r){var i=e(n);n.__ko__previousClassValue__&&i.removeClass(n.__ko__previousClassValue__);var a=t.utils.unwrapObservable(r());"undefined"!=typeof a&&i.addClass(a),n.__ko__previousClassValue__=a}},t.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}}}),define("koExtenders",["jquery","lodash","knockout","postal"],function(e,n,t){t.extenders.throttle=function(e,n){"number"==typeof n&&(n={timeout:n,when:function(){return!0}}),e.throttleEvaluation=n.timeout;var r=null,i=t.dependentObservable({read:e,write:function(t){n.when(t)?(clearTimeout(r),r=setTimeout(function(){e(t)},n.timeout)):(clearTimeout(r),e(t))}});return i.force=function(n){clearTimeout(r),e(n)},i},t.extenders.read=function(e,n){return t.computed({write:e,read:function(){return n(e)}})},t.extenders.write=function(e,n){return t.computed({read:e,write:function(t){n(e,t)}})},t.extenders.autoDisable=function(e,n){return e.extend({delayTrigger:{delay:n||0,trigger:function(e){e(!1)}}})},t.extenders.autoEnable=function(e,n){return e.extend({delayTrigger:{delay:n||0,trigger:function(e){e(!0)}}})},t.extenders.delayTrigger=function(e,r){var i,a=300,o=function(){};"object"==typeof r?(a=!isNaN(r.delay)&&parseInt(r.delay,10)||a,o=r.trigger||o):a=!isNaN(r)&&parseInt(r,10)||a;var s=function(){clearTimeout(i),i=void 0},l=t.computed({read:e,write:function(t){e(t),n.isUndefined(i)||s(),i=setTimeout(function(){o(e,r)}.bind(e),l.triggerDelay)}});return l.clearTrigger=s,l.triggerDelay=a,l},t.extenders.delayWrite=function(e,n){var r,i=300;return"object"==typeof n?(i=!isNaN(n.delay)&&parseInt(n.delay,10)||i,r=n.filter||function(){return!0}):i=!isNaN(n)&&parseInt(n,10)||i,t.computed({read:e,write:function(n){r(n)?(e._delayWriteTimer&&clearTimeout(this._delayWriteTimer),e._delayWriteTimer=setTimeout(function(){e(n)},i)):e(n)}})},t.extenders.units=function(e,r){var i,a={cast:"none",postfix:""};return i="object"!=typeof r?n.extend(a,{postfix:r.toString()}):n.extend(a,r),observable=t.computed({read:function(){var n;switch(i.cast){case"integer":case"int":n=parseInt(e());break;default:n=e()}return n+i.postfix},write:e}),n.extend(observable,n.pick(e,["refresh","__isReceived","broadcast","__isBroadcast"])),observable}}),function(){function e(e,n){e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(n,t,r,i,a){return e.easing[e.easing.def](n,t,r,i,a)},easeInQuad:function(e,n,t,r,i){return r*(n/=i)*n+t},easeOutQuad:function(e,n,t,r,i){return-r*(n/=i)*(n-2)+t},easeInOutQuad:function(e,n,t,r,i){return(n/=i/2)<1?r/2*n*n+t:-r/2*(--n*(n-2)-1)+t},easeInCubic:function(e,n,t,r,i){return r*(n/=i)*n*n+t},easeOutCubic:function(e,n,t,r,i){return r*((n=n/i-1)*n*n+1)+t},easeInOutCubic:function(e,n,t,r,i){return(n/=i/2)<1?r/2*n*n*n+t:r/2*((n-=2)*n*n+2)+t},easeInQuart:function(e,n,t,r,i){return r*(n/=i)*n*n*n+t},easeOutQuart:function(e,n,t,r,i){return-r*((n=n/i-1)*n*n*n-1)+t},easeInOutQuart:function(e,n,t,r,i){return(n/=i/2)<1?r/2*n*n*n*n+t:-r/2*((n-=2)*n*n*n-2)+t},easeInQuint:function(e,n,t,r,i){return r*(n/=i)*n*n*n*n+t},easeOutQuint:function(e,n,t,r,i){return r*((n=n/i-1)*n*n*n*n+1)+t},easeInOutQuint:function(e,n,t,r,i){return(n/=i/2)<1?r/2*n*n*n*n*n+t:r/2*((n-=2)*n*n*n*n+2)+t},easeInSine:function(e,n,t,r,i){return-r*Math.cos(n/i*(Math.PI/2))+r+t},easeOutSine:function(e,n,t,r,i){return r*Math.sin(n/i*(Math.PI/2))+t},easeInOutSine:function(e,n,t,r,i){return-r/2*(Math.cos(Math.PI*n/i)-1)+t},easeInExpo:function(e,n,t,r,i){return 0==n?t:r*Math.pow(2,10*(n/i-1))+t},easeOutExpo:function(e,n,t,r,i){return n==i?t+r:r*(-Math.pow(2,-10*n/i)+1)+t},easeInOutExpo:function(e,n,t,r,i){return 0==n?t:n==i?t+r:(n/=i/2)<1?r/2*Math.pow(2,10*(n-1))+t:r/2*(-Math.pow(2,-10*--n)+2)+t},easeInCirc:function(e,n,t,r,i){return-r*(Math.sqrt(1-(n/=i)*n)-1)+t},easeOutCirc:function(e,n,t,r,i){return r*Math.sqrt(1-(n=n/i-1)*n)+t},easeInOutCirc:function(e,n,t,r,i){return(n/=i/2)<1?-r/2*(Math.sqrt(1-n*n)-1)+t:r/2*(Math.sqrt(1-(n-=2)*n)+1)+t},easeInElastic:function(e,n,t,r,i){var a=1.70158,o=0,s=r;if(0==n)return t;if(1==(n/=i))return t+r;if(o||(o=.3*i),s<Math.abs(r)){s=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/s);return-(s*Math.pow(2,10*(n-=1))*Math.sin(2*(n*i-a)*Math.PI/o))+t},easeOutElastic:function(e,n,t,r,i){var a=1.70158,o=0,s=r;if(0==n)return t;if(1==(n/=i))return t+r;if(o||(o=.3*i),s<Math.abs(r)){s=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/s);return s*Math.pow(2,-10*n)*Math.sin(2*(n*i-a)*Math.PI/o)+r+t},easeInOutElastic:function(e,n,t,r,i){var a=1.70158,o=0,s=r;if(0==n)return t;if(2==(n/=i/2))return t+r;if(o||(o=.3*i*1.5),s<Math.abs(r)){s=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/s);return 1>n?-.5*s*Math.pow(2,10*(n-=1))*Math.sin(2*(n*i-a)*Math.PI/o)+t:s*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*i-a)*Math.PI/o)*.5+r+t},easeInBack:function(e,t,r,i,a,o){return o==n&&(o=1.70158),i*(t/=a)*t*((o+1)*t-o)+r},easeOutBack:function(e,t,r,i,a,o){return o==n&&(o=1.70158),i*((t=t/a-1)*t*((o+1)*t+o)+1)+r},easeInOutBack:function(e,t,r,i,a,o){return o==n&&(o=1.70158),(t/=a/2)<1?i/2*t*t*(((o*=1.525)+1)*t-o)+r:i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+r},easeInBounce:function(n,t,r,i,a){return i-e.easing.easeOutBounce(n,a-t,0,i,a)+r},easeOutBounce:function(e,n,t,r,i){return(n/=i)<1/2.75?7.5625*r*n*n+t:2/2.75>n?r*(7.5625*(n-=1.5/2.75)*n+.75)+t:2.5/2.75>n?r*(7.5625*(n-=2.25/2.75)*n+.9375)+t:r*(7.5625*(n-=2.625/2.75)*n+.984375)+t},easeInOutBounce:function(n,t,r,i,a){return a/2>t?.5*e.easing.easeInBounce(n,2*t,0,i,a)+r:.5*e.easing.easeOutBounce(n,2*t-a,0,i,a)+.5*i+r}})}"function"==typeof define&&define.amd?define("jquery.easing",["jquery"],function(n){e(n)}):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery||$)}.call(this),require(["jquery","lodash","footwork","jwerty","resourceHelper","Page","Body","ViewPort","PaneTouchManager","koBindings","koExtenders","jquery.easing"],function(e,n,t,r,i,a,o,s,l){if(i(),window.isCrappyBrowser===!0)return!1;window.fw=t;var c,u=e(window),d=e(document),p=e("body"),h=t.namespace(),f=t.namespace("LayoutControl"),m=t.namespace("Navigation"),v=t.namespace("Configuration"),g=t.namespace("Body"),b=t.observable().receiveFrom("Page","hashURL"),w=t.observable().receiveFrom("Body","height"),y=t.observable().receiveFrom("ViewPort","scrollPosition"),M=t.observable().receiveFrom("ViewPort","dimensions"),x=t.observable().receiveFrom("Configuration","visible"),k=(t.observable().receiveFrom("Pane","contentMaxHeight"),t.observable().receiveFrom("Pane","scrolling"),t.observable().receiveFrom("ViewPort","layoutMode"));h.request.handler("isRunningLocally",function(){return n.isNull(window.location.protocol.match("^http"))}),new s,new a,Modernizr.touch===!0&&new l,t.applyBindings(new o),u.scroll(function(){y(d.scrollTop())}).resize(function(){M({width:u.width(),height:u.height()})}).on("mouseup",function(){f.publish("disableControl")}).on("hashchange",function(){b(location.hash)}).trigger("scroll").trigger("resize"),h.subscribe("refreshDocSize",c=function(){w(d.height())}).context(this),c(),h.subscribe("enableControl",function(e){u.on("mousemove",e)}),h.subscribe("disableControl",function(e){u.unbind("mousemove",e)}),n.each({"alt+r":function(){"mobile"!==k()&&v.publish("reset")},"ctrl+x":function(){m.publish("toggleHeader")},"ctrl+z":function(){g.publish("togglePane")},esc:function(){h.publish("clear"),x(!1)}},function(e,n){r.key(n,e)}),p.on("keydown","article",function(e){e.stopPropagation()})}),define("app/main",function(){}),define("main",function(){})}();