
  
  <pre><code><span class="hljs-keyword">this</span>.myValue = ko.observable().receiveFrom(<span class="hljs-string">'Namespace'</span> / Namespace, <span class="hljs-string">'varName'</span>);
</code></pre>
  
    <div class='highlight'><pre>ko.subscribable.fn.receiveFrom = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace, variable)</span> {</span>
  <span class="hljs-keyword">var</span> target = <span class="hljs-keyword">this</span>,
      observable = <span class="hljs-keyword">this</span>,
      channel;

  <span class="hljs-keyword">if</span>( _.isObject(namespace) === <span class="hljs-literal">true</span> &amp;&amp; namespace.channel !== <span class="hljs-literal">undefined</span> ) {
    channel = namespace;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> namespace === <span class="hljs-string">'string'</span>) {
    channel = postal.channel( namespace );
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-string">'Invalid namespace ['</span> + <span class="hljs-keyword">typeof</span> namespace + <span class="hljs-string">']'</span>;
  }

  observable = ko.computed({
    read: target,
    write: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( value )</span> {</span>
      channel.publish( <span class="hljs-string">'change.'</span> + variable, value );
    }
  });

  observable.refresh = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
    channel.publish( <span class="hljs-string">'refresh.'</span> + variable );
  };
  channel.subscribe( variable, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( newValue )</span> {</span>
    target( newValue );
  });

  observable.__isReceived = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> observable;
};</pre></div>
  

  
  <pre><code><span class="hljs-keyword">this</span>.myValue = ko.observable().broadcastAs(<span class="hljs-string">'NameOfVar'</span>);
<span class="hljs-keyword">this</span>.myValue = ko.observable().broadcastAs(<span class="hljs-string">'NameOfVar'</span>, isWritable);
<span class="hljs-keyword">this</span>.myValue = ko.observable().broadcastAs({ name: <span class="hljs-string">'NameOfVar'</span>, writable: <span class="hljs-literal">true</span> });
<span class="hljs-keyword">this</span>.myValue = ko.observable().broadcastAs({ name: <span class="hljs-string">'NameOfVar'</span>, namespace: Namespace });
</code></pre>
  
    <div class='highlight'><pre>ko.subscribable.fn.broadcastAs = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(varName, option)</span> {</span>
  <span class="hljs-keyword">var</span> observable = <span class="hljs-keyword">this</span>, channel;

  <span class="hljs-keyword">if</span>(_.isObject(varName) === <span class="hljs-literal">true</span>) {
    option = varName;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">if</span>( <span class="hljs-keyword">typeof</span> option === <span class="hljs-string">'boolean'</span> ) {
      option = {
        name: varName,
        writable: option
      };
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( _.isObject(option) === <span class="hljs-literal">true</span> ) {
      option = _.extend({
        name: varName
      }, option);
    } <span class="hljs-keyword">else</span> {
      option = {
        name: varName
      };
    }
  }
  channel = option.namespace || ko.currentNamespace();

  <span class="hljs-keyword">if</span>( option.writable ) {
    channel.subscribe( <span class="hljs-string">'change.'</span> + option.name, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( newValue )</span> {</span>
      observable( newValue );
    });
  }

  channel.subscribe( <span class="hljs-string">'refresh.'</span> + option.name, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
    channel.publish( option.name, observable() );
  });
  observable.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( newValue )</span> {</span>
    channel.publish( option.name, newValue );
  });

  observable.__isBroadcast = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> observable;
};</pre></div>
  

