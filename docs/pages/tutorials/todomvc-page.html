<article>
  
  <a id="introduction" class="section-anchor"></a>
  <section name="introduction">
    <div class="highlight"></div>
    <header>
      <h1 class="sub title">Introduction</h1>
    </header>
    <div class="content">
      <p>Getting started with footwork is best done with a real application. In this tutorial we will be covering the creation of a TODO list app.</p>
      <p>Specifically, in relation to footwork.js we will cover the following topics:</p>
      <ul>
        <li>Downloading dependencies and setting up an environment to use footwork.</li>
        <li>App instantiation.</li>
        <li>RequireJS usage for automatic dependency management.</li>
        <li>&lt;viewModel&gt; wrapping of HTML and 2-way binding.</li>
        <li>&lt;custom-component&gt; creation and usage.</li>
        <li>Broadcastable and receivable usage.</li>
        <li>Routing and state initialization.</li>
      </ul>
    </div>
  </section>

  <a id="getting-started" class="section-anchor"></a>
  <section name="getting-started">
    <div class="highlight"></div>
    <header>
      <h1 class="sub title">Getting Started</h1>
    </header>
    <div class="content">
      <p>This tutorial has a companion repository on github which houses the source. It is recommended (although not 100% necessary) that you follow along and
        play with the code as you progress through the tutorial.</p>

      <p>If you wish to follow along and run the tutorial code it is assumed you have a web server to host the tutorial on, and git installed. You can also optionally follow
        along by viewing the live application at the demo addresses shown at the top of each step.</p>

      <h3>You can clone the <a href="https://github.com/reflectiveSingleton/todo-tutorial" target="_blank">tutorial repo</a> with the following command:</h3>

<pre><code class="bash">git clone https://github.com/reflectiveSingleton/todo-tutorial.git</code></pre>

      <p>This repo has all of the assets needed to run the application. You may also notice it makes use of <a href="http://bower.io/" target="_blank">bower</a> for
        package management and <a href="http://lesscss.org/#client-side-usage" target="_blank">less.js</a> for CSS. It is not necessary to know anything about
        these in order to use this tutorial however they are both great tools worthy of checking out.</p>
      
      <p>For reasons of brevity this tutorial will not cover the creation of the CSS/LESS, they are included for you in the repository. Also of note, the javascript runtime of
        LessCSS is used so that no re-compile step is required if/when you alter the LESS.</p>

      <div class="note"><span class="label">NOTE:</span> Do not rely on the javascript runtime of LESS when publishing your application on the internet, it is
        always recommended that you incorporate a build process in order to deploy normal CSS files to a production environment.</div></p>
    </div>
  </section>

  <a id="prerequisites" class="section-anchor"></a>
  <section name="prerequisites">
    <div class="highlight"></div>
    <header>
      <h2 class="sub title">Prerequisites</h2>
    </header>
    <div class="content">
      <p>This tutorial assumes a basic understanding of the following topics:</p>
      
      <ul>
        <li>HTML</li>
        <li>CSS</li>
        <li>Javascript</li>
        <li>
          <p>Knockout.js <a href="http://knockoutjs.com/documentation/observables.html#mvvm-and-view-models" target="_blank">MVVM</a> and <a href="http://knockoutjs.com/documentation/binding-syntax.html" target="_blank">data-binding</a> *</p>
          <div class="note"><span class="label">NOTE*:</span> It is helpful if you have an understanding of knockout
            <a href="http://knockoutjs.com/documentation/observables.html#mvvm-and-view-models" target="_blank">MVVM</a> and <a href="http://knockoutjs.com/documentation/binding-syntax.html" target="_blank">data-binding</a> however you can probably get through this tutorial without having used them before.</div>
        </li>
      </ul>

      <p>If you have questions unanswered by this tutorial consult the <a href="/api" data-bind="$route">footwork API documentation</a>. If that does not answer your question, check the <a href="http://knockoutjs.com/documentation/introduction.html" target="_blank">knockout.js documentation</a>. Footwork at
        its core is just a superset of knockout, extended from the <span class="inline-code">ko</span> (knockout) object itself. Any undocumented features found in footwork are outlined there.</p>
    </div>
  </section>

  <a id="setup" class="section-anchor"></a>
  <section name="setup">
    <div class="highlight"></div>
    <header>
      <h1 class="sub title">Setup</h1>
    </header>
    <div class="content">
      <p>After cloning the repository you are ready to get started, begin by checking out the <span class="inline-code">setup</span> branch:</p>
<pre><code class="bash">git checkout -f setup</code></pre>
      <p class="top"><a href="http://todo-tutorial.footworkjs.com/setup" target="_blank">Live Demo</a></p>
      <p>This will set your workspace up with the base application structure and code. Open up the page in your browser and you won't see anything too interesting just yet...but we'll get to that.</p>
      <div class="figure">
        <div class="title">Initial App View</div>
        <div class="content">
          <div class="image"><img src="images/todo-tutorial/setup0.png" alt="Base application structure" title="Base application structure"></div>
        </div>
      </div>

      <p>The markup itself is also nothing special, just some basic HTML:</p>
<div class="file-location">/index.html</div>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;!-- ... --&gt;
    &lt;script src="/bower_components/footwork/dist/footwork-all.js"&gt;&lt;/script&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;main&gt;
      &lt;form&gt;
        &lt;input type="text" name="thingToDo" placeholder="What needs to be done?"&gt;
        &lt;input type="submit" value="Add Item" class="button"&gt;
      &lt;/form&gt;
      &lt;div class="todo-list"&gt;
        Nothing to do.
      &lt;/div&gt;
    &lt;/main&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

      <p>The only thing of note here is the <span class="inline-code">&lt;script&gt;</span> tag which is pulling in footwork. The path to it is mostly insignificant, just
      pointing to the bower_components folder (where bower installs footwork by default). What is significant is what build it is using, this is denoted by the postfix <span class="inline-code">-all</span>.
      This build embeds all of the dependencies footwork requires into one easy to use file. For the purposes of this tutorial we will be using this version but note that
       <a href="https://github.com/reflectiveSingleton/footwork/tree/master/dist#readme" target="_blank">others are available</a> which may fit your needs better.</p>

      <p>So what does this get us? Well we have footwork being included and some basic markup with a form to add a todo item, but no actual behavior or code to back it up. If you hit submit on the form
      it will do a normal form request which refreshes the entire page and doesn't do much else. Now it's time to bootstrap footwork and introduce the first important concept, the <span class="inline-code">viewModel</span>.</p>

    </div>
  </section>

  <a id="base-app" class="section-anchor"></a>
  <section name="base-app">
    <div class="highlight"></div>
    <header>
      <h1 class="sub title">Base Application</h1>
    </header>
    <div class="content">
      <pre><code class="bash">git checkout -f baseApplication</code></pre>
      <p class="top"><a href="http://todo-tutorial.footworkjs.com/bootstrapping" target="_blank">Live Demo</a></p>

      <p>We are now ready to start creating our application using the provided HTML (and other assets). In footwork the logic/behavior in your application is primarily driven by
      bindings between your markup and its viewModel. These bindings are the 2-way connections between your HTML and the viewModel it is bound against.</p>
      
      <p>This means any updates to form elements, or any other events on elements a viewModel is bound with are communicated to/triggered on it via the bindings you declare in the HTML/markup.</p>
      
      <h3>From the <a href="/api/viewModel" data-bind="$route">API documentation on viewModels</a>:</h3>
      
      <div class="note"><em>A viewModel can be thought of as a container object that houses all of the logic and data with which your template/HTML/DOM binds to.</em></div>

      <p>Note that the bindings in your HTML should not be used to contain code/logic, rather you should try and think of them as merely the <em>pointers</em> to the code
      contained within your viewModel. By doing this you avoid the trap of tightly coupling your HTML to the business logic of your application. This enables many benefits, most notably:</p>
      <ul>
        <li>Very little/no coupling between your HTML and its business logic. The behaviors expressed are just pointers to the logic contained in the viewModel.</li>
        <li>It is trivial when debuging to trace behavior back to its source code, the bindings point the way.</li>
        <li>The expressive binding syntax makes creating and composing behavior easier.</li>
        <li>Easy testing of your viewModels and its business logic, independently of the HTML/markup.</li>
      </ul>
    </div>
  </section>

  <a id="creating-the-app" class="section-anchor"></a>
  <section name="creating-the-app">
    <div class="highlight"></div>
    <header>
      <h2 class="sub title">Creating the Application</h2>
    </header>
    <div class="content">
      <p>When creating an application it helps to think about what pieces of your markup can be subdivided. Those subdivisions are good starting points to create code/behavior (viewModels) for. Looking at our current markup,
      the obvious starting point is the form to create a new Todo. We need to create a viewModel (which if you remember, contains the business logic of our UI) for the form to bind against so that we can have it 'do things'
      (yes, that is a highly technical term).</p>
      <p>So to start off lets look at our Todo form and see what bindings it needs...</p>

      <h3>We need a <span class="inline-code">value:</span> binding for the text input and a <span class="inline-code">submit:</span> event binding for the form:</h3>
<div class="file-location">/index.html</div>
<pre>
<code class="html">&lt;!-- ... --&gt;
&lt;form data-bind="submit: submitForm"&gt;
  &lt;input type="text" name="thingToDo" data-bind="value: thingToDo" placeholder="What needs to be done?"&gt;
  &lt;input type="submit" value="Add Item" class="button"&gt;
&lt;/form&gt;
&lt;!-- ... --&gt;</code></pre>
      <div class="note"><span class="label">NOTE:</span> The full list of available bindings is listed on the <a href="http://knockoutjs.com/documentation/introduction.html" target="_blank">knockout.js documentation</a>.
      Remember, footwork is a superset of knockout so it also contains all of the features of knockout, including its binding capabilities. You can also 
      <a href="http://knockoutjs.com/documentation/custom-bindings.html" target="_blank">create your own</a>, but that is out of scope for this tutorial.</div>
      
      <p>Now the form will trigger the <span class="inline-code">submitForm</span> method on the viewModel whenever the form is submitted, and the value of the text input is bound to
        the <span class="inline-code">thingToDo</span> observable on the viewModel.</p>

      <p>The first thing we should look at after creating our form HTML and bindings is what code those bindings dictate we need in our viewModel.</p>

      <p>viewModels are created with the <span class="inline-code">fw.viewModel()</span> factory method. You can
        read about them in detail on the <a href="/api/viewModel" data-bind="$route">viewModel API docs</a>, for our Todo form this viewModel will suffice</p>
      
<div class="file-location">/scripts/viewModels/TodoForm.js</div>
<pre><code class="javascript">var TodoForm = fw.viewModel({
  initialize: function() {
    // The observable which stores the current thingToDo form text
    this.thingToDo = fw.observable();

    // Method/Action we want triggered when the form is submitted
    this.submitForm = function() {
      console.info('TodoForm submit action triggered');
    };
  }
});</code></pre>

    <h3>In our main application file we register the viewModel and start the app:</h3>
<div class="file-location">/scripts/app.js</div>
<pre><code class="javascript">// register the TodoForm viewModel so footwork can use it
fw.viewModels.register('TodoForm', TodoForm);

// tell footwork to startup and begin binding
fw.start();
</code></pre>
      <div class="note"><span class="label">NOTE:</span> Later on this tutorial covers how to convert these (the viewModel and HTML/template) into AMD/RequireJS modules so that foorwork can automatically load them as necessary for you. For
      now, we are simply registering (caching) them manually.</div>

      <h3>And finally, we add the <span class="inline-code">&lt;script&gt;</span> tags to reference our application file and viewModel at the bottom of our <span class="inline-code">index.html</span>:</h3>
<div class="file-location">/index.html</div>
<pre>
<code class="html">    &lt;!-- ... --&gt;
    &lt;script src="scripts/viewModels/TodoForm.js"&gt;&lt;/script&gt;
    &lt;script src="scripts/app.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

      <p>Now we refresh the page and expect to have our HTML todo form bound to the Todo viewModel. But instead we see an error in the console:</p>
      <div class="figure no-title">
        <div class="content">
          <div class="image"><img src="images/todo-tutorial/baseApplication0.png" alt="Binding error" title="Binding error"></div>
        </div>
      </div>

      <p>So this is telling us it can't find the method/property for the <span class="inline-code">submit:</span> binding on our viewModel,
        why? Well we forgot one critical detail, we need to tell footwork which viewModel to bind our HTML form with. We can do this by wrapping our form
        with the <span class="inline-code">&lt;viewModel&gt;</span> declarative syntax like so:</p>

<div class="file-location">/index.html</div>
<pre><code class="html">&lt;!-- ... --&gt;
&lt;viewModel module="TodoForm"&gt;
  &lt;form data-bind="submit: submitForm"&gt;
    &lt;input type="text" name="thingToDo" data-bind="value: thingToDo" placeholder="What needs to be done?"&gt;
    &lt;input type="submit" value="Add Item" class="button"&gt;
  &lt;/form&gt;
&lt;/viewModel&gt;
&lt;!-- ... --&gt;</code></pre>

      <p>Now footwork will know to load the <span class="inline-code">TodoForm</span> viewModel and what HTML to bind it with. Lets refresh the page once more...there is no error this time, great!
        Lets press the <span class="inline-code">Add Item</span> button, you should see the console spring to life:</p>
      <div class="figure no-title">
        <div class="content">
          <div class="image"><img src="images/todo-tutorial/baseApplication1.png" alt="Binding error" title="Binding error"></div>
        </div>
      </div>
      <p>Excellent, this lets us know our application is initializing properly and our viewModel is binding to the form....</p>
      <p>Now that we know the form is triggering on the <span class="inline-code">submit</span> event and our text field is also bound to the thingToDo observable we are ready to create a todo list.</p>
    </div>
  </section>

  <a id="creating-todos" class="section-anchor"></a>
  <section name="creating-todos">
    <div class="highlight"></div>
    <header>
      <h2 class="sub title">Creating Todos</h2>
    </header>
    <div class="content">
      <p>Now that our form is wired up to the viewModel, lets work on creating the actual Todo entries.</p>
    </div>
  </section>
</article>

<div id="metaData">
{
  "title": "TodoMVC Tutorial",
  "sections": [
    { "anchor": "introduction",
      "title": "Introduction" },
    { "anchor": "getting-started",
      "title": "Getting Started",
      "subSections": [
        { "anchor": "prerequisites",
          "title": "Prerequisites" }
      ] },
    { "anchor": "setup",
      "title": "Setup" },
    { "anchor": "base-app",
      "title": "Base Application",
      "collapsable": true,
      "isCollapsed": true,
      "subSections": [
        { "anchor": "creating-the-app",
          "title": "Creating the App" },
        { "anchor": "creating-todos",
          "title": "Creating Todos" }
      ] },
    { "anchor": "components",
      "title": "Components" }
  ]
}
</div>